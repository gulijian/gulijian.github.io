{"meta":{"title":"å°ç™½ç¨‹åºä¹‹è·¯","subtitle":null,"description":"æœ¬ç«™æ˜¯å°ç™½ç¨‹åºä¹‹è·¯ï¼ˆé¡¾ç«‹å‰‘ï¼‰çš„æŠ€æœ¯åˆ†äº«åšå®¢ã€‚å†…å®¹æ¶µç›–Javaåç«¯æŠ€æœ¯ã€å¤§æ•°æ®ã€ä¼˜ç§€å¼€å‘å·¥å…·ã€Macæ¨èå·¥å…·ã€è§†å±ä¹¦ç±åˆ†äº«ã€è¿ç»´å¼€å‘ã€ç³»ç»Ÿç›‘æ§ç­‰ç›¸å…³çš„ç ”ç©¶ä¸çŸ¥è¯†åˆ†äº«","author":"é¡¾ç«‹å‰‘","url":"http://www.gulj.cn"},"pages":[],"posts":[{"title":"Javaç‰ˆ-æ•°æ®ç»“æ„-æ•°ç»„","slug":"Javaç‰ˆ-æ•°æ®ç»“æ„-æ•°ç»„","date":"2019-03-10T12:19:33.000Z","updated":"2019-03-10T12:21:08.706Z","comments":true,"path":"2019/03/10/Javaç‰ˆ-æ•°æ®ç»“æ„-æ•°ç»„/","link":"","permalink":"http://www.gulj.cn/2019/03/10/Javaç‰ˆ-æ•°æ®ç»“æ„-æ•°ç»„/","excerpt":"æ•°ç»„çŸ¥è¯†ç‚¹å›é¡¾å£°æ˜Javaæ•°ç»„æ—¶ï¼Œä¼šåœ¨å†…å­˜ä¸­å¼€è¾Ÿä¸€å—è¿ç»­æŒ‡å®šå¤§å°çš„ç©ºé—´ï¼Œç”¨æ¥å­˜å‚¨å›ºå®šå¤§å°çš„åŒç±»å‹å…ƒç´  åœ¨javaä¸­å®šä¹‰ä¸ªåä¸ºscoresï¼Œé•¿åº¦ä¸º8ï¼Œç±»å‹ä¸ºintç±»å‹çš„æ•°ç»„å¦‚ä¸‹ï¼š 123public static void main(String[] args) &#123; int[] scores = new int[8];&#125;","text":"æ•°ç»„çŸ¥è¯†ç‚¹å›é¡¾å£°æ˜Javaæ•°ç»„æ—¶ï¼Œä¼šåœ¨å†…å­˜ä¸­å¼€è¾Ÿä¸€å—è¿ç»­æŒ‡å®šå¤§å°çš„ç©ºé—´ï¼Œç”¨æ¥å­˜å‚¨å›ºå®šå¤§å°çš„åŒç±»å‹å…ƒç´  åœ¨javaä¸­å®šä¹‰ä¸ªåä¸ºscoresï¼Œé•¿åº¦ä¸º8ï¼Œç±»å‹ä¸ºintç±»å‹çš„æ•°ç»„å¦‚ä¸‹ï¼š 123public static void main(String[] args) &#123; int[] scores = new int[8];&#125; ä¸ºäº†ä¾¿äºç†è§£ï¼Œæˆ‘ä»¬çœ‹ä¸‹å®ƒåœ¨å†…å­˜çš„ä¸­çš„åˆ†å¸ƒç¤ºæ„å›¾ï¼š å›¾ä¸­çš„ä¸€ä¸ªä¸ªå°æ ¼å­æ˜¯ç”¨æ¥å­˜æ”¾æ•°ç»„çš„å…ƒç´ ï¼Œå°æ ¼å­ä¸Šæ–¹çš„0-7æ•°å­—ï¼Œæ˜¯æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ çš„ä¸‹æ ‡ï¼ˆä¹Ÿå¯ä»¥å«ç´¢å¼•ï¼‰ï¼Œå¦‚æœæˆ‘ä»¬è¦æŸ¥è¯¢æ•°ç»„ä¸­æŒ‡å®šä½ç½®çš„å…ƒç´ ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ•°ç»„å[ç´¢å¼•]æ¥è·å–ï¼Œæ¯”å¦‚å›¾ä¸­çš„scores[2] åœ¨å›¾ä¸­æˆ‘ä»¬è¿˜å¯ä»¥çœ‹åˆ°ï¼Œæ•°ç»„çš„èµ·å§‹ä¸‹æ ‡æ˜¯ä»0å¼€å§‹çš„ï¼ˆä¹Ÿå°±æ˜¯ç¬¬ä¸€ä¸ªå…ƒç´ ï¼‰ï¼Œæœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹æ ‡æ˜¯7(ä¹Ÿå°±æ˜¯æ•°ç»„çš„é•¿åº¦8å‡1)ç”±æ­¤ç±»æ¨ï¼Œæ•°ç»„é•¿åº¦è‹¥æ˜¯nï¼Œé‚£ä¹ˆæ•°ç»„æœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹æ ‡æ˜¯n-1ï¼ˆæ•°ç»„çš„èµ·å§‹ä¸‹æ ‡æ€»æ˜¯ä»0å¼€å§‹çš„ï¼‰ å„ä½ä¸è¦é—²å” å¨å“ˆï¼Œä¸ºäº†ç…§é¡¾æ‰€æœ‰äººï¼ˆå…¶å®æˆ‘çš„å†…å¿ƒæ˜¯å¾ˆçº ç»“çš„ã€‚ã€‚ã€‚ğŸ˜†ï¼‰ è‡ªå®šä¹‰æ•°ç»„ç±»æ€è·¯åˆ†æä½¿ç”¨dataå±æ€§è¡¨ç¤ºå­˜æ”¾æ•°ç»„çš„å…ƒç´ ï¼Œ ä½¿ç”¨capacityå±æ€§è¡¨ç¤ºæ•°ç»„çš„å®¹é‡ï¼ˆç­‰ä»·äºæ•°ç»„çš„é•¿åº¦ï¼‰ï¼Œä½†æ˜¯çœŸæ­£è‡ªå®šä¹‰æ•°ç»„ç±»çš„æ—¶å€™æˆ‘ä»¬ä¸éœ€è¦æ˜¾ç¤ºå£°æ˜ï¼Œå› ä¸ºéšç¤ºç­‰ä»·äºï¼ˆArray.lengthï¼‰ ä½¿ç”¨sizeå±æ€§è¡¨ç¤ºæ•°ç»„ä¸­çœŸæ­£å­˜æ”¾å…ƒç´ çš„ä¸ªæ•°ï¼ˆæ³¨æ„å’Œcapacityæ¦‚å¿µçš„åŒºåˆ†ï¼‰ã€‚ æˆ‘ä»¬ç”»å‡ºç¤ºæ„å›¾ï¼š ä¸‹é¢æˆ‘ä»¬æ¥å®Œæˆåˆå§‹ä»£ç  12345678910111213141516171819202122232425262728293031323334353637383940414243444546public class ArrayExample &#123; /** * å­˜æ”¾æ•°ç»„çš„å…ƒç´  */ private int data[]; /** * æ•°ç»„ä¸­å…ƒç´ çš„ä¸ªæ•° */ private int size; /** * æ ¹æ®æŒ‡å®šcapacityå®¹é‡åˆå§‹åŒ–æ•°ç»„ * * @param capacity å®¹é‡ */ public ArrayExample(int capacity) &#123; data = new int[capacity]; size = 0; &#125; /** * æ— å‚æ„é€ å‡½æ•°ï¼ŒæŒ‡å®šé»˜è®¤æ•°ç»„å®¹é‡capacity=10 */ public ArrayExample() &#123; this(10); &#125; /** * è·å–æ•°ç»„ä¸­å…ƒç´ çš„ä¸ªæ•° * * @return */ public int getSize() &#123; return size; &#125; /** * è·å–æ•°ç»„å®¹é‡ * * @return */ public int getCapacity() &#123; return data.length; &#125;&#125; å‘æ•°ç»„ä¸­æ·»åŠ å…ƒç´ å‘æŒ‡å®šä½ç½®æ·»åŠ å…ƒç´ å‡è®¾ç°åœ¨æ•°ç»„çš„å½¢æ€æ˜¯è¿™æ ·ï¼Œæˆ‘ä»¬éœ€è¦å°†77å…ƒç´ æ’å…¥åˆ°ç´¢å¼•ä¸º1çš„ä½ç½® æ€è·¯åˆ†æï¼šæŠŠå½“å‰ç´¢å¼•ä¸º1çš„ä½ç½®å…ƒç´ ä»¥åŠåé¢çš„å…ƒç´ éƒ½å‘åæŒªä¸€ä¸ªä½ç½®ï¼Œç„¶åå°†77è¿™ä¸ªå…ƒç´ æ”¾åˆ°ç´¢å¼•ä¸º1çš„ä½ç½®ï¼ˆæ³¨æ„ï¼šæŒªä½ç½®çš„æ—¶å€™ï¼Œæˆ‘ä»¬åº”è¯¥ä»æœ€åä¸€ä¸ªå…ƒç´ 100å‘åæŒªä¸€ä¸ªä½ç½®ï¼Œæ¢å¥è¯è¯´ä»åå¾€å‰æŒªï¼‰ï¼Œå®Œæˆä¹‹åï¼Œç»´æŠ¤ä¸€ä¸‹sizeçš„ç´¢å¼•ï¼Œè¿›è¡Œsize++æ“ä½œï¼ˆsizeæ˜¯å§‹ç»ˆæŒ‡å‘æ•°ç»„ä¸­ä¸‹ä¸€ä¸ªæ²¡æœ‰å…ƒç´ çš„ä½ç½®ï¼‰ ä¸‹é¢æˆ‘ä»¬åŸºäºå‰é¢å†™çš„ä»£ç ï¼Œæ¥å®Œæˆæ•°ç»„å…ƒç´ çš„æ·»åŠ æ“ä½œ 1234567891011121314151617181920212223242526/** * åœ¨indexä½ç½®æ’å…¥å…ƒç´  * * @param index æŒ‡å®šç´¢å¼• * @param element æ’å…¥çš„å…ƒç´  */public void add(int index, int element) &#123; // ç®€å•çš„è¾¹ç•Œåˆ¤æ–­ if (size == data.length) &#123; throw new IllegalArgumentException(\"æ•°ç»„æ·»åŠ å¤±è´¥ï¼Œæ•°ç»„å·²æ»¡\"); &#125; if (index &lt; 0 || index &gt; size) &#123; throw new IllegalArgumentException(\"indexç´¢å¼•ä¸åˆæ³•\"); &#125; // ä»æœ€åä¸€ä¸ªå…ƒç´ ä¸€ç›´åˆ°sizeä½ç½®çš„å…ƒç´ ï¼Œå¾€åæŒªåŠ¨ä¸€ä½ for (int i = size - 1; i &gt;= index; i--) &#123; data[i + 1] = data[i]; &#125; // ä½ç½®èµ‹å€¼ data[index] = element; // ç»´æŠ¤sizeå¤§å° size++;&#125; ç”±äºæ–¹é¢å¤§å®¶æŸ¥çœ‹ï¼Œåªè´´å‡ºæ·»åŠ æ•°ç»„å…ƒç´ çš„ä»£ç ï¼Œæœ¬æ–‡æ–‡æœ«ï¼Œä¼šè´´å‡ºå®Œæˆçš„ä»£ç ç¤ºä¾‹åœ°å€ ç°åœ¨å¦‚æœæˆ‘ä»¬æƒ³æŠŠä¸€ä¸ªå…ƒç´ æ·»åŠ åˆ°æ•°ç»„å¤´éƒ¨çš„ä½ç½®æˆ–è€…å°¾éƒ¨çš„ä½ç½®ï¼Œæˆ‘ä»¬å¯ä»¥è¿™ä¹ˆåš 1234567891011121314151617/** * å‘æ•°ç»„å¤´çš„ä½ç½®æ·»åŠ å…ƒç´  * * @param element å…ƒç´  */public void addFirst(int element) &#123; add(0, element);&#125;/** * å‘æ•°ç»„å°¾çš„ä½ç½®æ·»åŠ å…ƒç´  * * @param element å…ƒç´  */public void addLast(int element) &#123; add(size, element);&#125; å¤§å®¶ä¸€å®šè¦æ³¨é‡ä»£ç çš„å¤ç”¨æ€§å“ˆ æŸ¥è¯¢æ•°ç»„å…ƒç´ å’Œä¿®æ”¹æ•°ç»„å…ƒç´ æŸ¥è¯¢æ•°ç»„å…ƒç´ 123456789101112/** * è·å–indexç´¢å¼•ä½ç½®çš„å…ƒç´  * * @param index ç´¢å¼• * @return */public int get(int index) &#123; if (index &lt; 0 || index &gt;= size) &#123; throw new IllegalArgumentException(\"è·å–å¤±è´¥ï¼Œç´¢å¼•ä¸åˆæ³•\"); &#125; return data[index];&#125; ä¿®æ”¹æ•°ç»„å…ƒç´ 123456789101112/** * ä¿®æ”¹indexç´¢å¼•ä½ç½®çš„å…ƒç´ ä¸ºelement * * @param index ç´¢å¼• * @param element å…ƒç´  */public void set(int index, int element) &#123; if (index &lt; 0 || index &gt;= size) &#123; throw new IllegalArgumentException(\"è·å–å¤±è´¥ï¼Œç´¢å¼•ä¸åˆæ³•\"); &#125; data[index] = element;&#125; åŒ…å«æ•°ç»„å…ƒç´ å’Œæœç´¢æ•°ç»„å…ƒç´ åŒ…å«æ•°ç»„å…ƒç´ 123456789/** * æŸ¥æ‰¾æ•°ç»„ä¸­æ˜¯å¦æœ‰å…ƒç´ element * * @param element * @return */public boolean contains(int element) &#123; return Arrays.stream(data).filter(x -&gt; x == element).findAny().isPresent();&#125; è¿™é‡Œä½¿ç”¨äº†Java8çš„lambdaè¡¨è¾¾å¼ï¼Œä¸çŸ¥æ™“çš„ç›†å‹ï¼Œå¯ä»¥è‡ªè¡Œå»äº†è§£ä¸€ä¸‹ æœç´¢æ•°ç»„å…ƒç´ 1234567891011121314/** * æŸ¥æ‰¾æ•°ç»„ä¸­å…ƒç´ elementæ‰€åœ¨çš„ç´¢å¼•ï¼Œå¦‚æœä¸å­˜åœ¨å…ƒç´ elementï¼Œåˆ™è¿”å›-1 * * @param element * @return */public int find(int element) &#123; for (int i = 0; i &lt; data.length; i++) &#123; if (data[i] == element) &#123; return i; &#125; &#125; return -1;&#125; åˆ é™¤æ•°ç»„ä¸­çš„å…ƒç´ ç°åœ¨æˆ‘ä»¬è¦åˆ é™¤ç´¢å¼•ä¸º1çš„å…ƒç´ 77 æ€è·¯åˆ†æï¼šæˆ‘ä»¬çŸ¥æ™“äº†æ•°ç»„çš„æ’å…¥æ€è·¯ï¼Œé‚£ä¹ˆæ•°ç»„çš„åˆ é™¤æ€è·¯ï¼Œåˆšå¥½å’Œæ•°ç»„çš„æ’å…¥æ€è·¯ç›¸åï¼Œå¦‚æœè¦åˆ é™¤ç´¢å¼•ä¸º1ä½ç½®çš„å…ƒç´ 77ï¼Œæˆ‘ä»¬åªéœ€è¦ï¼Œä»ç´¢å¼•2å¼€å§‹ï¼Œå°†ç´¢å¼•2ä½ç½®çš„å…ƒç´ å‘å·¦ç§»åŠ¨åˆ°ç´¢å¼•ä¸º1çš„ä½ç½®ï¼Œä¹Ÿå°±æ˜¯å°†ç´¢å¼•2ä½ç½®çš„å…ƒç´ çš„å€¼èµ‹å€¼ç»™ç´¢å¼•ä¸º1ä½ç½®çš„å…ƒç´ ï¼ˆç­‰ä»·äºdata[1]=data[2]ï¼‰ï¼Œä¾æ¬¡ç±»æ¨ï¼Œå°†ç´¢å¼•ä¸º3ä½ç½®çš„å…ƒç´ ï¼Œç§»åŠ¨åˆ°ç´¢å¼•ä¸º2ä½ç½®çš„å…ƒç´ ï¼Œä¸€ç›´åˆ°æœ€åä¸€ä¸ªå…ƒç´ ï¼Œæ¯”å¦‚å›¾ä¸­çš„å…ƒç´ 100ï¼Œå®Œæˆä¹‹åï¼Œè¿™æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦å†æ¬¡ç»´æŠ¤ä¸€ä¸‹sizeçš„å¤§å°ï¼Œæˆ‘ä»¬è¦è¿›è¡Œsize--æ“ä½œ é‡è¦ size æ—¢è¡¨ç¤ºæ•°ç»„ä¸­å…ƒç´ çš„å¤§å°ï¼Œåˆè¡¨ç¤ºå§‹ç»ˆæŒ‡å‘æ•°ç»„ä¸­ç¬¬ä¸€ä¸ªæ²¡æœ‰å…ƒç´ çš„ä½ç½® ä»£ç å®Œæˆæ•°ç»„çš„åˆ é™¤æ“ä½œ 123456789101112131415161718192021222324/** * åˆ é™¤ç´¢å¼•indexä½ç½®çš„å…ƒç´ ï¼Œå¹¶å°†åˆ é™¤çš„å…ƒç´ è¿”å› * * @param index * @return */public int remove(int index) &#123; // ç®€å•åˆ¤æ–­æ•°ç»„ç´¢å¼•çš„åˆæ³•æ€§ if (index &lt; 0 || index &gt;= size) &#123; throw new IllegalArgumentException(\"åˆ é™¤æ•°ç»„å…ƒç´ å¤±è´¥ï¼Œç´¢å¼•ä¸åˆæ³•\"); &#125; // å­˜æ”¾åˆ é™¤æŒ‡å®šç´¢å¼•çš„ä½ç½®å…ƒç´  int result = data[index]; // ä»åˆ é™¤æŒ‡å®šç´¢å¼•çš„åä¸€ä¸ªä½ç½®ï¼Œä¸€ç›´å¾€å‰æŒªä¸€ä½ï¼Œç›´åˆ°æœ€åä¸€ä¸ªå…ƒç´  for (int i = index + 1; i &lt; size; i++) &#123; data[i - 1] = data[i]; &#125; // ç»´æŠ¤sizeçš„ä½ç½® size--; return result;&#125; å®Œæˆäº†æ•°ç»„å…ƒç´ çš„åˆ é™¤æ“ä½œï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä¾¿æ·åœ°ä¸ºæ•°ç»„æ·»åŠ åˆ é™¤æ•°ç»„ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ çš„æ–¹æ³•å’Œåˆ é™¤æ•°ç»„ä¸­æœ€åä¸€ä¸ªå…ƒçš„æ–¹æ³•ã€‚ åˆ é™¤æ•°ç»„ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ çš„æ–¹æ³• 12345678/** * åˆ é™¤æ•°ç»„ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå¹¶å°†åˆ é™¤çš„å…ƒç´ è¿›è¡Œè¿”å› * * @return */public int removeFirst() &#123; return remove(0);&#125; åˆ é™¤æ•°ç»„ä¸­æœ€åä¸€ä¸ªå…ƒç´ çš„æ–¹æ³• 12345678/** * åˆ é™¤æ•°ç»„ä¸­æœ€åä¸€ä¸ªå…ƒç´ ï¼Œå¹¶å°†åˆ é™¤çš„å…ƒç´ è¿›è¡Œè¿”å› * * @return */public int removeLast() &#123; return remove(size - 1);&#125; è‡³æ­¤ï¼Œæˆ‘ä»¬å·²ç»å®Œæˆäº†æ•°ç»„çš„å¢åˆ æ”¹æŸ¥æ“ä½œï¼Œä¸‹é¢æˆ‘ä»¬å†™ä¸ªæµ‹è¯•ç±»ï¼Œæ¥ä½¿ç”¨ä¸€ä¸‹æˆ‘ä»¬è‡ªå·±å†™çš„ç®€å•ç‰ˆæ•°ç»„ 12345678910111213141516171819202122public class ArrayExampleTest &#123; @Test public void testAdd() &#123; // åˆå§‹åŒ–æ•°ç»„å®¹é‡å¤§å°ä¸º5ï¼Œç›®å‰æ•°ç»„ä¸­æ²¡æœ‰ä»»ä½•å…ƒç´  ArrayExample arrayExample = new ArrayExample(5); System.out.println(arrayExample); // å‘æ•°ç»„ä¸­æ¬§æ·»åŠ ç¬¬ä¸€ä¸ªå…ƒç´  arrayExample.addFirst(1); System.out.println(arrayExample); // å‘æ•°ç»„ä¸­æ·»åŠ æœ€åä¸€ä¸ªå…ƒç´  arrayExample.addLast(2); System.out.println(arrayExample); // å‘æ•°ç»„ä¸­ç´¢å¼•ä¸º0çš„ä½ç½®æ·»åŠ å…ƒç´  arrayExample.add(0, 10); System.out.println(arrayExample); &#125; // TODO å…¶å®ƒæµ‹è¯•æ–¹æ³•ï¼Œè¯»è€…å¯ä»¥è‡ªè¡Œæµ‹è¯•&#125; è¿è¡Œç»“æœ 1234ArrayExample&#123;data=[0, 0, 0, 0, 0], size=0,capacity=5&#125;ArrayExample&#123;data=[1, 0, 0, 0, 0], size=1,capacity=5&#125;ArrayExample&#123;data=[1, 2, 0, 0, 0], size=2,capacity=5&#125;ArrayExample&#123;data=[10, 1, 2, 0, 0], size=3,capacity=5&#125; å®Œæ•´ç‰ˆä»£ç GitHubä»“åº“åœ°å€ï¼šJavaç‰ˆæ•°æ®ç»“æ„-æ•°ç»„ æ¬¢è¿å¤§å®¶å…³æ³¨å’Œ Star æœ¬æ¬¡æˆ‘ä»¬å®Œæˆçš„æ˜¯é™æ€æ•°ç»„çš„å®ç°ï¼Œå¾€å¾€é™æ€æ•°ç»„ä¸å¤Ÿçµæ´»ï¼Œåé¢ç¬”è€…ä¼šåœ¨ä»£ç ä»“åº“ä¸­å®ç°åŠ¨æ€æ•°ç»„ï¼Œå°±ä¸ä½œä¸ºä¸€ä¸ªç¯‡å¹…æ¥è®²è§£äº†ï¼Œæ¥ä¸‹æ¥ï¼Œç¬”è€…è¿˜ä¼šä¸€ä¸€çš„å®ç°å…¶å®ƒå¸¸è§çš„æ•°ç»„ç»“æ„ã€‚ é™æ€æ•°ç»„ åŠ¨æ€æ•°ç»„ æ ˆ é˜Ÿåˆ— é“¾è¡¨ å¾ªç¯é“¾è¡¨ äºŒåˆ†æœç´¢æ ‘ ä¼˜å…ˆé˜Ÿåˆ— å † çº¿æ®µæ ‘ å­—å…¸æ ‘ AVL çº¢é»‘æ ‘ å“ˆå¸Œè¡¨ â€¦. æŒç»­æ›´æ–°ä¸­ï¼Œæ¬¢è¿å¤§å®¶å…³æ³¨å…¬ä¼—å·ï¼šå°ç™½ç¨‹åºä¹‹è·¯ï¼ˆwhiteontheroadï¼‰ï¼Œç¬¬ä¸€æ—¶é—´è·å–æœ€æ–°ä¿¡æ¯ï¼ï¼ï¼","categories":[{"name":"Java","slug":"Java","permalink":"http://www.gulj.cn/categories/Java/"}],"tags":[{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"http://www.gulj.cn/tags/æ•°æ®ç»“æ„/"}]},{"title":"Javaå¹¶å‘ä¹‹åŸå­æ€§ã€æœ‰åºæ€§ã€å¯è§æ€§","slug":"Javaå¹¶å‘ä¹‹åŸå­æ€§ã€æœ‰åºæ€§ã€å¯è§æ€§","date":"2019-03-04T12:34:40.000Z","updated":"2019-03-10T12:21:17.695Z","comments":true,"path":"2019/03/04/Javaå¹¶å‘ä¹‹åŸå­æ€§ã€æœ‰åºæ€§ã€å¯è§æ€§/","link":"","permalink":"http://www.gulj.cn/2019/03/04/Javaå¹¶å‘ä¹‹åŸå­æ€§ã€æœ‰åºæ€§ã€å¯è§æ€§/","excerpt":"åŸå­æ€§â€‹ åŸå­æ€§æŒ‡çš„æ˜¯ä¸€ä¸ªæˆ–è€…å¤šä¸ªæ“ä½œåœ¨ CPU æ‰§è¡Œçš„è¿‡ç¨‹ä¸­ä¸è¢«ä¸­æ–­çš„ç‰¹æ€§ çº¿ç¨‹åˆ‡æ¢ å¸¦æ¥çš„åŸå­æ€§é—®é¢˜ Java å¹¶å‘ç¨‹åºéƒ½æ˜¯åŸºäºå¤šçº¿ç¨‹çš„ï¼Œæ“ä½œç³»ç»Ÿä¸ºäº†å……åˆ†åˆ©ç”¨CPUçš„èµ„æºï¼Œå°†CPUåˆ†æˆè‹¥å¹²ä¸ªæ—¶é—´ç‰‡ï¼Œåœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹ï¼Œçº¿ç¨‹ä¼šè¢«æ“ä½œç³»ç»Ÿè°ƒåº¦è¿›è¡Œä»»åŠ¡åˆ‡æ¢ã€‚","text":"åŸå­æ€§â€‹ åŸå­æ€§æŒ‡çš„æ˜¯ä¸€ä¸ªæˆ–è€…å¤šä¸ªæ“ä½œåœ¨ CPU æ‰§è¡Œçš„è¿‡ç¨‹ä¸­ä¸è¢«ä¸­æ–­çš„ç‰¹æ€§ çº¿ç¨‹åˆ‡æ¢ å¸¦æ¥çš„åŸå­æ€§é—®é¢˜ Java å¹¶å‘ç¨‹åºéƒ½æ˜¯åŸºäºå¤šçº¿ç¨‹çš„ï¼Œæ“ä½œç³»ç»Ÿä¸ºäº†å……åˆ†åˆ©ç”¨CPUçš„èµ„æºï¼Œå°†CPUåˆ†æˆè‹¥å¹²ä¸ªæ—¶é—´ç‰‡ï¼Œåœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹ï¼Œçº¿ç¨‹ä¼šè¢«æ“ä½œç³»ç»Ÿè°ƒåº¦è¿›è¡Œä»»åŠ¡åˆ‡æ¢ã€‚ ä¸ºäº†ç›´è§‚çš„äº†è§£ä»€ä¹ˆæ˜¯åŸå­æ€§ï¼Œæˆ‘ä»¬çœ‹ä¸‹ä¸‹é¢å“ªäº›æ“ä½œæ˜¯åŸå­æ€§æ“ä½œ 123int count = 0; //1count++; //2int a = count; //3 ä¸Šé¢å±•ç¤ºè¯­å¥ä¸­ï¼Œé™¤äº†è¯­å¥1æ˜¯åŸå­æ“ä½œï¼Œå…¶å®ƒä¸¤ä¸ªè¯­å¥éƒ½ä¸æ˜¯åŸå­æ€§æ“ä½œï¼Œä¸‹é¢æˆ‘ä»¬æ¥åˆ†æä¸€ä¸‹è¯­å¥2 å…¶å®è¯­å¥2åœ¨æ‰§è¡Œçš„æ—¶å€™ï¼ŒåŒ…å«ä¸‰ä¸ªæŒ‡ä»¤æ“ä½œ æŒ‡ä»¤ 1ï¼šé¦–å…ˆï¼Œéœ€è¦æŠŠå˜é‡ count ä»å†…å­˜åŠ è½½åˆ° CPUçš„å¯„å­˜å™¨ æŒ‡ä»¤ 2ï¼šä¹‹åï¼Œåœ¨å¯„å­˜å™¨ä¸­æ‰§è¡Œ +1 æ“ä½œï¼› æŒ‡ä»¤ 3ï¼šæœ€åï¼Œå°†ç»“æœå†™å…¥å†…å­˜ å¯¹äºä¸Šé¢çš„ä¸‰æ¡æŒ‡ä»¤æ¥è¯´ï¼Œå¦‚æœçº¿ç¨‹ A åœ¨æŒ‡ä»¤ 1 æ‰§è¡Œå®Œååšçº¿ç¨‹åˆ‡æ¢ï¼Œçº¿ç¨‹ A å’Œçº¿ç¨‹ B æŒ‰ç…§ä¸‹å›¾çš„åºåˆ—æ‰§è¡Œï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¼šå‘ç°ä¸¤ä¸ªçº¿ç¨‹éƒ½æ‰§è¡Œäº† count+=1 çš„æ“ä½œï¼Œä½†æ˜¯å¾—åˆ°çš„ç»“æœä¸æ˜¯æˆ‘ä»¬æœŸæœ›çš„ 2ï¼Œè€Œæ˜¯ 1ã€‚ æ“ä½œç³»ç»Ÿåšä»»åŠ¡åˆ‡æ¢ï¼Œå¯ä»¥å‘ç”Ÿåœ¨ä»»ä½•ä¸€æ¡CPU æŒ‡ä»¤æ‰§è¡Œå®Œ æœ‰åºæ€§â€‹ æœ‰åºæ€§æŒ‡çš„æ˜¯ç¨‹åºæŒ‰ç…§ä»£ç çš„å…ˆåé¡ºåºæ‰§è¡Œ ç¼–è¯‘ä¼˜åŒ– å¸¦æ¥çš„æœ‰åºæ€§é—®é¢˜ ä¸ºäº†æ€§èƒ½ä¼˜åŒ–ï¼Œç¼–è¯‘å™¨å’Œå¤„ç†å™¨ä¼šè¿›è¡ŒæŒ‡ä»¤é‡æ’åºï¼Œæœ‰æ—¶å€™ä¼šæ”¹å˜ç¨‹åºä¸­è¯­å¥çš„å…ˆåé¡ºåºï¼Œæ¯”å¦‚ç¨‹åºï¼š 123a = 5; //1b = 20; //2c = a + b; //3 ç¼–è¯‘å™¨ä¼˜åŒ–åå¯èƒ½å˜æˆ 123b = 20; //1a = 5; //2c = a + b; //3 åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œç¼–è¯‘å™¨è°ƒæ•´äº†è¯­å¥çš„é¡ºåºï¼Œä½†æ˜¯ä¸å½±å“ç¨‹åºçš„æœ€ç»ˆç»“æœ synchronizedï¼ˆå…·æœ‰æœ‰åºæ€§ã€åŸå­æ€§ã€å¯è§æ€§ï¼‰è¡¨ç¤ºé”åœ¨åŒä¸€æ—¶åˆ»åªèƒ½ç”±ä¸€ä¸ªçº¿ç¨‹è¿›è¡Œè·å–ï¼Œå½“é”è¢«å ç”¨åï¼Œå…¶ä»–çº¿ç¨‹åªèƒ½ç­‰å¾…ã€‚ åœ¨å•ä¾‹æ¨¡å¼çš„å®ç°ä¸Šæœ‰ä¸€ç§åŒé‡æ£€éªŒé”å®šçš„æ–¹å¼ï¼ˆDouble-checked Lockingï¼‰ 123456789101112public class Singleton &#123; static Singleton instance; static Singleton getInstance()&#123; if (instance == null) &#123; synchronized(Singleton.class) &#123; if (instance == null) instance = new Singleton(); &#125; &#125; return instance; &#125;&#125; æˆ‘ä»¬å…ˆçœ‹ instance = new Singleton() çš„æœªè¢«ç¼–è¯‘å™¨ä¼˜åŒ–çš„æ“ä½œ æŒ‡ä»¤ 1ï¼šåˆ†é…ä¸€å—å†…å­˜ Mï¼› æŒ‡ä»¤ 2ï¼šåœ¨å†…å­˜ M ä¸Šåˆå§‹åŒ– Singleton å¯¹è±¡ï¼› æŒ‡ä»¤ 3ï¼šç„¶å M çš„åœ°å€èµ‹å€¼ç»™ instance å˜é‡ã€‚ ç¼–è¯‘å™¨ä¼˜åŒ–åçš„æ“ä½œæŒ‡ä»¤ æŒ‡ä»¤ 1ï¼šåˆ†é…ä¸€å—å†…å­˜ Mï¼› æŒ‡ä»¤ 2ï¼šå°† M çš„åœ°å€èµ‹å€¼ç»™ instance å˜é‡ï¼› æŒ‡ä»¤ 3ï¼šç„¶ååœ¨å†…å­˜ M ä¸Šåˆå§‹åŒ– Singleton å¯¹è±¡ã€‚ ç°åœ¨æœ‰Aï¼ŒBä¸¤ä¸ªçº¿ç¨‹ï¼Œæˆ‘ä»¬å‡è®¾çº¿ç¨‹Aå…ˆæ‰§è¡ŒgetInstance()æ–¹æ³•ï¼Œå½“æ‰§è¡Œç¼–è¯‘å™¨ä¼˜åŒ–åçš„æ“ä½œæŒ‡ä»¤2æ—¶ï¼ˆæ­¤æ—¶å€™æœªå®Œæˆå¯¹è±¡çš„åˆå§‹åŒ–ï¼‰ï¼Œè¿™æ—¶å€™å‘ç”Ÿäº†çº¿ç¨‹åˆ‡æ¢ï¼Œé‚£ä¹ˆçº¿ç¨‹Bè¿›å…¥ï¼Œåˆšå¥½æ‰§è¡Œåˆ°ç¬¬ä¸€æ¬¡åˆ¤æ–­ instance==nullä¼šå‘ç°instanceä¸ç­‰äºnulläº†ï¼Œæ‰€ä»¥ç›´æ¥è¿”å›instanceï¼Œè€Œæ­¤æ—¶çš„ instance æ˜¯æ²¡æœ‰åˆå§‹åŒ–è¿‡çš„ã€‚ ç°è¡Œçš„æ¯”è¾ƒé€šç”¨çš„åšæ³•å°±æ˜¯é‡‡ç”¨é™æ€å†…éƒ¨ç±»çš„æ–¹å¼æ¥å®ç° 12345678910public class SingletonDemo &#123; private SingletonDemo() &#123; &#125; private static class SingletonDemoHandler&#123; private static SingletonDemo instance = new SingletonDemo(); &#125; public static SingletonDemo getInstance() &#123; return SingletonDemoHandler.instance; &#125;&#125; å¯è§æ€§â€‹ å¯è§æ€§æŒ‡çš„æ˜¯å½“ä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹äº†å…±äº«å˜é‡åï¼Œå…¶ä»–çº¿ç¨‹èƒ½å¤Ÿç«‹å³å¾—çŸ¥è¿™ä¸ªä¿®æ”¹ ç¼“å­˜ å¯¼è‡´çš„å¯è§æ€§é—®é¢˜ é¦–å…ˆæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹Javaå†…å­˜æ¨¡å‹ï¼ˆJMMï¼‰ æˆ‘ä»¬å®šä¹‰çš„æ‰€æœ‰å˜é‡éƒ½å‚¨å­˜åœ¨ä¸»å†…å­˜ä¸­ æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰è‡ªå·±ç‹¬ç«‹çš„å·¥ä½œå†…å­˜ï¼Œé‡Œé¢ä¿å­˜è¯¥çº¿ç¨‹ä½¿ç”¨åˆ°çš„å˜é‡çš„å‰¯æœ¬ï¼ˆä¸»å†…å­˜ä¸­è¯¥å˜é‡çš„ä¸€ä»½æ‹·è´ï¼‰ çº¿ç¨‹å¯¹å…±äº«å˜é‡æ‰€æœ‰çš„æ“ä½œéƒ½å¿…é¡»åœ¨è‡ªå·±çš„å·¥ä½œå†…å­˜ä¸­è¿›è¡Œï¼Œä¸èƒ½ç›´æ¥ä»ä¸»å†…å­˜ä¸­è¯»å†™ï¼ˆä¸èƒ½è¶Šçº§ï¼‰ ä¸åŒçº¿ç¨‹ä¹‹é—´ä¹Ÿæ— æ³•ç›´æ¥è®¿é—®å…¶ä»–çº¿ç¨‹çš„å·¥ä½œå†…å­˜ä¸­çš„å˜é‡ï¼Œçº¿ç¨‹é—´å˜é‡å€¼çš„ä¼ é€’éœ€è¦é€šè¿‡ä¸»å†…å­˜æ¥è¿›è¡Œã€‚ï¼ˆåŒçº§ä¸èƒ½ç›¸äº’è®¿é—®ï¼‰ å…±äº«å˜é‡å¯è§æ€§çš„å®ç°åŸç†ï¼š çº¿ç¨‹1å¯¹å…±äº«å˜é‡çš„ä¿®æ”¹è¦è¢«çº¿ç¨‹2åŠæ—¶çœ‹åˆ°çš„è¯ï¼Œè¦ç»è¿‡å¦‚ä¸‹æ­¥éª¤ï¼š æŠŠå·¥ä½œå†…å­˜1ä¸­æ›´æ–°çš„å˜é‡å€¼åˆ·æ–°åˆ°ä¸»å†…å­˜ æŠŠä¸»å†…å­˜ä¸­çš„å˜é‡çš„å€¼æ›´æ–°åˆ°å·¥ä½œå†…å­˜2ä¸­ å¯ä»¥ä½¿ç”¨ synchronized ã€volatile ã€final æ¥ä¿è¯å¯è§æ€§","categories":[{"name":"Java","slug":"Java","permalink":"http://www.gulj.cn/categories/Java/"}],"tags":[{"name":"å¹¶å‘ç¼–ç¨‹","slug":"å¹¶å‘ç¼–ç¨‹","permalink":"http://www.gulj.cn/tags/å¹¶å‘ç¼–ç¨‹/"}]},{"title":"awkå‘½ä»¤ä½¿ç”¨è¯¦è§£","slug":"awkå‘½ä»¤ä½¿ç”¨è¯¦è§£","date":"2019-02-24T23:37:10.000Z","updated":"2019-02-24T23:38:40.419Z","comments":true,"path":"2019/02/25/awkå‘½ä»¤ä½¿ç”¨è¯¦è§£/","link":"","permalink":"http://www.gulj.cn/2019/02/25/awkå‘½ä»¤ä½¿ç”¨è¯¦è§£/","excerpt":"awk å‘½ä»¤ä»‹ç»AWKæ˜¯ä¸€ç§å¤„ç†æ–‡æœ¬æ–‡ä»¶çš„è¯­è¨€ï¼Œæ˜¯ä¸€ä¸ªå¼ºå¤§çš„æ–‡æœ¬åˆ†æå·¥å…·ï¼Œä¹‹æ‰€ä»¥å«AWKæ˜¯å› ä¸ºå…¶å–äº†ä¸‰ä½åˆ›å§‹äºº Alfred Ahoï¼ŒPeter Weinbergerï¼Œ å’Œ Brian Kernighan çš„ Family Name çš„é¦–å­—ç¬¦ã€‚ è¯­æ³• ç¬¬ä¸€ç§å½¢å¼ 1$ awk 'BEGIN&#123;&#125;pattern&#123;commands&#125;END&#123;&#125;' file ç¬¬äºŒç§å½¢å¼ 1$ standard output | 'BEGIN&#123;&#125;pattern&#123;commands&#125;END&#123;&#125;'","text":"awk å‘½ä»¤ä»‹ç»AWKæ˜¯ä¸€ç§å¤„ç†æ–‡æœ¬æ–‡ä»¶çš„è¯­è¨€ï¼Œæ˜¯ä¸€ä¸ªå¼ºå¤§çš„æ–‡æœ¬åˆ†æå·¥å…·ï¼Œä¹‹æ‰€ä»¥å«AWKæ˜¯å› ä¸ºå…¶å–äº†ä¸‰ä½åˆ›å§‹äºº Alfred Ahoï¼ŒPeter Weinbergerï¼Œ å’Œ Brian Kernighan çš„ Family Name çš„é¦–å­—ç¬¦ã€‚ è¯­æ³• ç¬¬ä¸€ç§å½¢å¼ 1$ awk 'BEGIN&#123;&#125;pattern&#123;commands&#125;END&#123;&#125;' file ç¬¬äºŒç§å½¢å¼ 1$ standard output | 'BEGIN&#123;&#125;pattern&#123;commands&#125;END&#123;&#125;' å·¥ä½œåŸç† å…¶ä¸­æ•°å­—1ï¼Œ2ï¼Œ3â€¦ä»£è¡¨æ˜¯æ–‡æœ¬ä¸­çš„æ•°æ®è¡Œ BEGIN{} è¡¨ç¤ºåœ¨å¤„ç†æ–‡æœ¬æ•°æ®ä¹‹å‰è¿›è¡Œä¸€äº›æ“ä½œ pattern{commands} è¡¨ç¤ºä»æ–‡æœ¬ä¸­çš„ç¬¬ä¸€è¡Œå¼€å§‹åŒ¹é…æ»¡è¶³patternè§„åˆ™çš„è¡Œï¼Œæ‰§è¡Œcommandså‘½ä»¤ï¼Œç›´åˆ°æ–‡æœ¬æœ€åä¸€è¡Œ END{} è¡¨ç¤ºåœ¨å¤„ç†æ–‡æœ¬æ•°æ®ä¹‹åè¿›è¡Œä¸€äº›æ“ä½œ å†…å»ºå˜é‡ å†…ç½®å˜é‡ å«ä¹‰ $0 æ•´è¡Œå†…å®¹ $1-$n å½“å‰è¡Œçš„ç¬¬1-nä¸ªå­—æ®µ NF å½“å‰è¡Œçš„å­—æ®µä¸ªæ•°ï¼Œä¹Ÿå°±æ˜¯æœ‰å¤šå°‘åˆ— NR å½“å‰çš„è¡Œå·ï¼Œä»1å¼€å§‹è®¡æ•° FNR å„æ–‡ä»¶åˆ†åˆ«è®¡æ•°çš„è¡Œå· FS å­—æ®µåˆ†éš”ç¬¦(é»˜è®¤ä»¥ç©ºæ ¼æˆ–tabé”®åˆ†å‰²) RS è¾“å…¥è¡Œåˆ†éš”ç¬¦ã€‚é»˜è®¤å›è½¦æ¢è¡Œ OFS è¾“å‡ºå­—æ®µåˆ†éš”ç¬¦ã€‚é»˜è®¤ä¸ºç©ºæ ¼ ORS è¾“å‡ºè¡Œåˆ†éš”ç¬¦ã€‚é»˜è®¤ä¸ºå›è½¦æ¢è¡Œ FILENAME å½“å‰æ–‡ä»¶å å†…ç½®å˜é‡å¦‚ä½•ä½¿ç”¨ï¼Œæˆ‘ä»¬ä»¥æ–‡æœ¬score.txtå†…å®¹æ¥åšæ¼”ç¤º 12345$ cat score.txtmarry 90 49 23 14join 44 55 66 24smile 55 78 80 34jack 20 51 66 44 ä½¿ç”¨$0æ¥æ‰“å°è¾“å‡ºæ–‡ä»¶çš„æ¯ä¸€æ•´è¡Œçš„å†…å®¹ 12345$ awk '&#123;print $0&#125;' score.txtmarry 90 49 23 14join 44 55 66 24smile 55 78 80 34jack 20 51 66 44 æ³¨æ„ï¼šè¡ŒåŒ¹é…è¯­å¥ awk â€˜ â€˜ åªèƒ½ç”¨å•å¼•å· ä½¿ç”¨$1ã€$3æ¥æ‰“å°è¾“å‡ºæ–‡ä»¶çš„çš„æ¯ä¸€è¡Œç¬¬1åˆ—å’Œç¬¬3åˆ—å†…å®¹ 12345$ awk '&#123;print $1,$3&#125;' score.txtmarry 49join 55smile 78jack 51 ä½¿ç”¨NFæ¥è¾“å‡ºæ¯ä¸€è¡Œçš„åˆ—æ•° 12345$ awk '&#123;print NF&#125;' score.txt5555 ä½¿ç”¨awkæ²¡æœ‰æŒ‡å®šåˆ†éš”ç¬¦ï¼Œé»˜è®¤æ˜¯ä»¥ç©ºæ ¼æˆ–è€…tabé”®æ¥ä½œåˆ†éš”ï¼Œåœ¨score.txt æ–‡ä»¶ä¸­ï¼Œç»è¿‡åˆ†éš”ï¼Œæ¯è¡Œéƒ½æœ‰5åˆ— ä½¿ç”¨å˜é‡$NFæ¥è¾“å‡ºæ–‡ä»¶ 12345$ awk '&#123;print $NF&#125;' score.txt14243444 ä»è¾“å‡ºç»“æœæˆ‘ä»¬æ€»ç»“å‡ºï¼Œ$NFå°±è¡¨ç¤ºæ¯ä¸€è¡Œçš„æœ€åä¸€åˆ—ï¼Œå› ä¸ºæ–‡ä»¶ä¸­æ¯ä¸€è¡Œæœ‰5åˆ—ï¼Œåˆ™ $NF = $5 ä¹‹å‰æˆ‘ä»¬æ‰“å°æ¯ä¸€è¡Œçš„ç¬¬1åˆ—å’Œç¬¬3åˆ—æˆ‘ä»¬ä½¿ç”¨çš„æ˜¯ï¼š$1ï¼Œ$3ï¼›é‚£ä¹ˆç°åœ¨æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ï¼š$(NF-2)ï¼Œ$(NF-4) 12345$ awk '&#123;print $(NF-4),$(NF-2)&#125;' score.txtmarry 49join 55smile 78jack 51 ä½¿ç”¨NRæ¥è¾“å‡ºæ¯ä¸€è¡Œçš„è¡Œå·ï¼Œè¿™æ¬¡æˆ‘ä»¬æŠŠæ¯ä¸€è¡Œçš„å†…å®¹ä¹Ÿæ‰“å°å‡ºæ¥ 12345$ awk '&#123;print NR \"\\t\" $0&#125;' score.txt1 marry 90 49 23 852 join 44 55 66 223 smile 55 78 80 244 jack 20 51 66 89 ä½¿ç”¨ORSæ¥æŒ‡å®šè¾“å‡ºæ¯ä¸€è¡Œçš„æŒ‡å®šçš„åˆ†éš”ç¬¦ 12$ awk 'BEGIN&#123;ORS=\"---\"&#125; &#123;print $1,$NF&#125;' score.txtmarry 14---join 24---smile 34---jack 44--- æŒ‡å®šäº†æ¯ä¸€è¡Œçš„åˆ†éš”ç¬¦ä¸ºâ€â€”â€œï¼Œç°åœ¨è¾“å‡ºçš„æ¯ä¸€è¡Œéƒ½ç”¨â€”åšåˆ†éš”ï¼Œè€Œä¸åœ¨æ˜¯é»˜è®¤çš„å›è½¦æ¢è¡Œåšåˆ†éš” ä½¿ç”¨ORSæŒ‡å®šäº†è¡Œçš„åˆ†éš”ç¬¦ä¸ºâ€â€”â€œï¼Œä½†æ˜¯ç°åœ¨æˆ‘ä»¬çœ‹åˆ°æ¯ä¸€è¡Œè¾“å‡ºçš„åˆ†éš”ç¬¦è¿˜æ˜¯é»˜è®¤çš„ç©ºæ ¼æ¥åšåˆ†éš”ï¼Œæ¯”å¦‚ï¼šè¾“å‡ºç¬¬ä¸€è¡Œçš„ marry 14ï¼Œç°åœ¨æˆ‘ä»¬ä½¿ç”¨OFSæ¥æŒ‡å®šè¾“å‡ºå­—æ®µçš„åˆ†éš”ç¬¦ï¼Œæ¯”å¦‚ï¼š*å· 12$ awk 'BEGIN&#123;ORS=\"---\";OFS=\"*\"&#125; &#123;print $1,$NF&#125;' score.txtmarry*14---join*24---smile*34---jack*44--- ä½¿ç”¨FSæŒ‡å®šæ¯ä¸€è¡Œçš„å­—æ®µåˆ†éš”ç¬¦ 123$ awk 'BEGIN&#123;FS=\":\"&#125; &#123;print $1,$NF&#125;' /etc/passwdroot /bin/bashbin /sbin/nologin ä¹Ÿå¯ä»¥ä½¿ç”¨è¿™ç§å½¢å¼æŒ‡å®šåˆ†éš”ç¬¦ï¼ˆ-Fçš„æ„æ€å°±æ˜¯æŒ‡å®šåˆ†éš”ç¬¦ï¼‰ 1$ awk -F: '&#123;print $1,$NF&#125;' /etc/passwd å¦‚æœæŒ‡å®šå¤šä¸ªåˆ†éš”ç¬¦ï¼Œä½¿ç”¨ä¸­æ‹¬å·[]åŒ…èµ·æ¥ï¼Œé‡Œé¢æŒ‡å®šå…·ä½“çš„åˆ†éš”ç¬¦ 1$ awk -F '[-:]' ä½¿ç”¨FILENAMEåœ¨å¤„ç†å¤šæ–‡ä»¶æ—¶å€™ï¼Œå¯ä»¥æ‰“å°å‡ºå½“å‰çš„æ–‡ä»¶å 1234567$ awk 'BEGIN&#123;FS=\"[ :]\"&#125; &#123;print FILENAME \"\\t\" $1,$NF&#125;' score.txt /etc/passwdscore.txt marry 14score.txt join 24score.txt smile 34score.txt jack 44/etc/passwd root /bin/bash/etc/passwd bin /sbin/nologin ä½¿ç”¨é‡å®šå‘æ‹†åˆ†æ–‡ä»¶å‡†å¤‡æ–‡ä»¶ netstat.txt 1234567891011121314$ cat netstat.txtProto Recv-Q Send-Q Local-Address Foreign-Address Statetcp 0 0 0.0.0.0:111 0.0.0.0:* LISTENtcp 0 0 0.0.0.0:22 0.0.0.0:* LISTENtcp 0 0 127.0.0.1:25 0.0.0.0:* LISTENtcp 0 0 192.168.10.10:22 192.168.10.1:65016 ESTABLISHEDtcp 0 0 192.168.10.10:22 192.168.10.1:57253 ESTABLISHEDtcp6 0 0 :::111 :::* LISTENtcp6 0 0 :::22 :::* LISTENtcp6 0 0 ::1:25 :::* LISTENudp 0 0 0.0.0.0:1018 0.0.0.0:* FIN_WAIT2udp6 0 0 :::1018 :::* FIN_WAIT2udp6 0 0 :::111 :::* ESTABLISHEDudp6 0 0 ::1:323 :::* ESTABLISHED ä»¥ç©ºæ ¼ä¸ºåˆ†éš”ç¬¦ï¼ŒæŒ‰ç…§$6(ç¬¬6åˆ—)ä¹Ÿå°±æ˜¯Stateåˆ—è¿›è¡Œæ‹†åˆ†æ–‡ä»¶netstat.txtï¼ˆå…¶ä¸­NR!=1è¡¨ç¤ºä¸å¤„ç†è¡¨å¤´ï¼‰ 12345678910111213141516171819202122$ awk 'NR!=1&#123;print &gt; $6&#125;' netstat.txt$ lsESTABLISHED FIN_WAIT2 LISTEN netstat.txt$ cat ESTABLISHEDtcp 0 0 192.168.10.10:22 192.168.10.1:65016 ESTABLISHEDtcp 0 0 192.168.10.10:22 192.168.10.1:57253 ESTABLISHEDudp6 0 0 :::111 :::* ESTABLISHEDudp6 0 0 ::1:323 :::* ESTABLISHED$ cat FIN_WAIT2udp 0 0 0.0.0.0:1018 0.0.0.0:* FIN_WAIT2udp6 0 0 :::1018 :::* FIN_WAIT2$ cat LISTENtcp 0 0 0.0.0.0:111 0.0.0.0:* LISTENtcp 0 0 0.0.0.0:22 0.0.0.0:* LISTENtcp 0 0 127.0.0.1:25 0.0.0.0:* LISTENtcp6 0 0 :::111 :::* LISTENtcp6 0 0 :::22 :::* LISTENtcp6 0 0 ::1:25 :::* LISTEN {print &gt; $6} æ˜¯æŒ‰ç…§ç¬¬6åˆ—è¿›è¡Œæ‹†åˆ†ï¼Œå°†æ‰€æœ‰åˆ—è¾“å‡ºåˆ°æ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æŒ‡å®šåˆ—è¾“å‡ºåˆ°æ–‡ä»¶ä¸­ 1$ awk 'NR!=1&#123;print $1,$4&gt; $6&#125;' netstat.txt awkä½¿ç”¨printfæ ¼å¼åŒ–è¾“å‡ºprintf æ ¼å¼è¯´æ˜ç¬¦ æ ¼å¼ç¬¦ å«ä¹‰ %s æ‰“å°å­—ç¬¦ä¸² %d æ‰“å°åè¿›åˆ¶æ•° %f æ‰“å°ä¸€ä¸ªæµ®ç‚¹æ•° %x æ‰“å°åå…­è¿›åˆ¶æ•° %o æ‰“å°å…«è¿›åˆ¶æ•° %e æ‰“å°æ•°å­—çš„ç§‘å­¦è®¡æ•°æ³•å½¢å¼ %c æ‰“å°å•ä¸ªå­—ç¬¦çš„ASCIIç  printf ä¿®é¥°ç¬¦ ä¿®é¥°ç¬¦ å«ä¹‰ - å·¦å¯¹é½ + å³å¯¹é½ # 8è¿›åˆ¶æ˜¾ç¤ºåœ¨å‰é¢åŠ 0ï¼Œ16è¿›åˆ¶æ˜¾ç¤ºåœ¨å‰é¢åŠ 0X ä¸Šé¢æ¼”ç¤ºçš„æ¡ˆä¾‹ï¼Œæˆ‘ä»¬éƒ½æ˜¯ç”¨printæ¥åšè¾“å‡ºï¼ˆé»˜è®¤æ˜¯è¾“å‡ºæ¯è¡Œå†…å®¹ï¼Œç”¨å›è½¦é”®ä½œä¸ºæ¢è¡Œï¼‰ï¼Œç°åœ¨æˆ‘ä»¬ä½¿ç”¨printfï¼ˆé»˜è®¤æ²¡æœ‰åŠ ä»»ä½•çš„è¾“å‡ºåˆ†éš”ç¬¦ï¼‰æ¥è¿›è¡Œæ ¼å¼åŒ–æ‰“å°è¾“å‡º ä½¿ç”¨%sä»¥å­—ç¬¦ä¸²å½¢å¼è¾“å‡º/etc/passwdæ–‡ä»¶ä¸­ç¬¬ä¸€åˆ— 12345$ awk -F: '&#123;printf \"%s\\n\",$1&#125;' /etc/passwdrootbindaemon... ä½¿ç”¨ \\n æ¥æŒ‡å®šè¾“å‡ºæ¯è¡Œçš„çš„åˆ†éš”ç¬¦ ä½¿ç”¨$sã€%fã€%dã€%xç­‰å¤šä¸ªæ ¼å¼ç¬¦æ¥è¾“å‡º 123456$ awk -F: '&#123;printf \"%s %f %d %x\\n\",$1,$3,$3,$3&#125;' /etc/passwdsshd 74.000000 74 4apostfix 89.000000 89 59chrony 998.000000 998 3e6vagrant 1000.000000 1000 3e8vboxadd 997.000000 997 3e5 ä½¿ç”¨äº†ä¸åŒçš„æ ¼å¼ç¬¦ï¼Œè¾“å‡ºäº†/etc/passwdæ–‡ä»¶ä¸­çš„$1ï¼Œ$3åˆ—ï¼Œå¯¹äºç¨å¾®æœ‰ç‚¹å¼ºè¿«ç—‡æ‚£è€…çš„æœ‹å‹æ¥è¯´ï¼Œå¯ä»¥çœ‹å‡ºè¾“å‡ºç»“æœå¹¶ä¸ç¾è§‚ï¼Œæ¯”å¦‚ï¼šæ¯åˆ—éƒ½æ²¡æœ‰å¯¹é½ï¼ˆå‘å·¦æˆ–è€…å‘å³ï¼‰ï¼Œæµ®ç‚¹æ•°åˆ—æ²¡æœ‰æ§åˆ¶æŒ‡å®šä¸ªæ•°çš„ç²¾åº¦ç­‰ï¼Œä¸‹é¢æˆ‘ä»¬å°±æ¥è§£å†³è¿™ä¸ªé—®é¢˜ 123456$ awk -F: '&#123;printf \"%-20s %-0.2f \\t\\t %-20d %-20x\\n\",$1,$3,$3,$3&#125;' /etc/passwdsshd 74.00 74 4apostfix 89.00 89 59chrony 998.00 998 3e6vagrant 1000.00 1000 3e8vboxadd 997.00 997 3e5 æˆ‘ä»¬å¯ä»¥åœ¨æ¯ä¸ªæ ¼å¼ç¬¦çš„å‰é¢åŠ ä¸Šæ•°å­—ï¼Œæ¯”å¦‚ï¼š%20sï¼Œè¡¨ç¤ºè¿™ä¸€åˆ—å ä½20ä¸ªå­—ç¬¦ ä½¿ç”¨ %0.2f æ¥æŒ‡å®šè¿™ä¸€åˆ—è¾“å‡ºçš„ç²¾åº¦ï¼Œä¿ç•™2ä½å°æ•° ä½¿ç”¨ -æ ¼å¼ç¬¦ï¼Œè¡¨ç¤ºè¾“å‡ºçš„ç»“æœå‘å·¦å¯¹é½ å…³ç³»è¿ç®—ç¬¦ã€å¸ƒå°”è¿ç®—ç¬¦å’ŒåŒ¹é…æ­£åˆ™è¡¨è¾¾å¼ è¿ç®—ç¬¦ å«ä¹‰ &lt;ã€ &lt;=ã€ &gt;ã€ &gt;=ã€ != ã€ == å°äºã€å°äºç­‰äºâ€¦ï¼ˆå…³ç³»è¿ç®—ç¬¦ï¼‰ ~ åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼ ~ï¼ ä¸åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼ \\ \\ é€»è¾‘æˆ– &amp;&amp; é€»è¾‘ä¸ ï¼ é åŒ¹é…è¾“å‡ºç¬¬ä¸€åˆ—å­—ç¬¦ç­‰äºsmileçš„è¡Œ 12$ awk '$1==\"smile\" &#123;print $0&#125;' score.txtsmile 55 78 80 34 åŒ¹é…è¾“å‡ºç¬¬ä¸€åˆ—å­—ç¬¦ç­‰äºsmileçš„è¡Œ ï¼Œæˆ–è€…ç¬¬2åˆ—å¤§äº 80çš„è¡Œ 123$ awk '$1==\"smile\" || $2 &gt; 80 &#123;print $0&#125;' score.txtmarry 90 49 23 14smile 55 78 80 34 ä½¿ç”¨æ­£åˆ™ï¼ŒåŒ¹é…è¾“å‡ºåŒ…å«44çš„è¡Œ 123$ awk '/44/ &#123;print $0&#125;' score.txtjoin 44 55 66 24jack 20 51 66 44 ä½¿ç”¨æ­£åˆ™ï¼ŒåŒ¹é…è¾“å‡ºä¸åŒ…å«44çš„è¡Œ 123$ awk '!/44/ &#123;print $0&#125;' score.txtmarry 90 49 23 14smile 55 78 80 34 ä½¿ç”¨æ­£åˆ™ï¼ŒåŒ¹é…è¾“å‡ºä»¥joinå­—ç¬¦å¼€å¤´çš„è¡Œåˆ°ä»¥jackå­—ç¬¦å¼€å¤´ç»“æŸçš„è¡Œ 1234$ awk '/^join/,/^jack/ &#123;print $0&#125;' score.txtjoin 44 55 66 24smile 55 78 80 34jack 20 51 66 44 ä½¿ç”¨æ­£åˆ™ï¼ŒåŒ¹é…ç¬¬1åˆ—å­—ç¬¦åŒ…å«jackå¹¶ä¸”æœ€åä¸€åˆ—å¤§äºç­‰äº34 12$ awk '$1 ~ /jack/ &amp;&amp; $NF &gt;= 34 &#123;print $0&#125;' score.txtjack 20 51 66 44 ~ è¡¨ç¤ºæ¨¡å¼å¼€å§‹ï¼›/ / ä¸­è¡¨ç¤ºçš„æ˜¯åŒ¹é…çš„å…·ä½“æ¨¡å¼ ç°åœ¨çœ‹ä¸‹æ­£åˆ™æ¨¡å¼å–åçš„ç¤ºä¾‹ 123$ awk '$1 !~ /jack/ &amp;&amp; $NF &gt;= 24 &#123;print $0&#125;' score.txtjoin 44 55 66 24smile 55 78 80 34 !~ ï¼Œç¬¬1åˆ—ä¸åŒ…å«å­—ç¬¦jack å¹¶ä¸”æœ€ååˆ—çš„å€¼å¤§äºç­‰äº24 ç®—æœ¯è¿ç®—ç¬¦ è¿ç®—ç¬¦ å«ä¹‰ + ã€ - åŠ ã€å‡ * ã€/ ã€ % ä¹˜ã€é™¤ã€æ±‚äº ++ã€â€“ å¢åŠ æˆ–å‡å°‘ï¼Œä½œä¸ºå‰ç¼€æˆ–åç¼€ï¼Œå¦‚ï¼ˆ++xã€xâ€“ï¼‰ æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹ç®€å•çš„åŠ æ³•å’Œé™¤æ³•è¿ç®— 123456$ awk 'BEGIN&#123; num1=10; num2=20; printf \"%d %0.2f\\n\", num1+num2,num1/num2&#125;'30 0.50 awk å£°æ˜çš„å˜é‡å¯ä»¥åœ¨ä»»ä½•å¤šä¸ªèŠ±æ‹¬å·è„šæœ¬ä¸­ä½¿ç”¨ è®¡ç®—/etc/servicesä¸­ç©ºç™½è¡Œçš„æ•°é‡ 12$ awk '/^$/ &#123;sum++&#125; END&#123;print sum&#125;' /etc/services17 å­—ç¬¦ä¸²å‡½æ•° å‡½æ•°å å«ä¹‰ length(str) è®¡ç®—å­—ç¬¦ä¸²é•¿åº¦ index(str1,str2) åœ¨str1ä¸­æŸ¥æ‰¾str2çš„ä½ç½® tolower(str) è½¬æ¢ä¸ºå°å†™ toupper(str) è½¬æ¢ä¸ºå¤§å†™ substr(str,m,n) ä»strçš„ç¬¬mä¸ªå­—ç¬¦å¼€å§‹ï¼Œæˆªå–mä½ split(str,arr,fs) æŒ‰fsåˆ‡å‰²å­—ç¬¦ï¼Œç»“æœä¿å­˜arrä¸­ match(str,RE) åœ¨strä¸­æŒ‰ç…§REæŸ¥æ‰¾ ç”±äºå­—ç¬¦ä¸²å‡½æ•°æ˜¯æˆ‘ä»¬å·¥ä½œä¸­å¸¸ç”¨çš„å‡½æ•°ï¼Œæ¯”è¾ƒç®€å•ï¼Œä¸‹é¢æˆ‘ä»¬ä½¿ç”¨split()å‡½æ•°æ¥åšæ¼”ç¤º 12345678910$ awk 'BEGIN&#123; str=\"java#python#go\"; split(str,arr,\"#\"); for(item in arr)&#123; print arr[item] &#125;&#125;'javapythongo å…¶ä¸­æˆ‘ä»¬ä½¿ç”¨äº†forå¾ªç¯æ¥éå† arr æ•°ç»„ï¼Œä¸‹é¢æˆ‘ä»¬ä¼šè®²åˆ° awkåŠ¨ä½œä¸­ä½¿ç”¨æ¡ä»¶åŠå¾ªç¯è¯­å¥ï¼ˆå¯è§awkæ˜¯ä¸ªè„šæœ¬è§£é‡Šå™¨ï¼‰æ¡ä»¶è¡¨è¾¾å¼ ifè¯­å¥ è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š 123if(æ¡ä»¶)&#123; åŠ¨ä½œ&#125; ç¤ºä¾‹ï¼š 1$ awk -F: '&#123;if($3&gt;100 &amp;&amp; $3&lt;1000) print $0&#125;' /etc/passwd if - else è¯­å¥ è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š 12345if(æ¡ä»¶)&#123; åŠ¨ä½œ&#125;else&#123; åŠ¨ä½œ&#125; ç¤ºä¾‹ï¼š 12345678$ awk 'BEGIN &#123; num = 11; if (num % 2 == 0) &#123; printf \"%d æ˜¯å¶æ•°\\n\", num &#125;else &#123; printf \"%d æ˜¯å¥‡æ•°\\n\", num &#125;&#125;' if - else - if è¯­å¥ è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š 1234567if(æ¡ä»¶)&#123; åŠ¨ä½œ&#125;else if(æ¡ä»¶)&#123; åŠ¨ä½œ&#125;else&#123; åŠ¨ä½œ&#125; ç¤ºä¾‹ï¼š 12345678910$ awk -F: '&#123; if($3&lt;100) &#123; print \"ç³»ç»Ÿç”¨æˆ·\", $1 &#125; else if($3&gt;100 &amp;&amp; $3 &lt;900) &#123; print \"æ™®é€šç”¨æˆ·\", $1 &#125; else &#123; print \"å…¶å®ƒç”¨æˆ·\", $1 &#125; &#125;' /etc/passwd å¾ªç¯è¯­å¥ while è¯­å¥ 123while(æ¡ä»¶)&#123; å¾ªç¯ä½“&#125; ç¤ºä¾‹ï¼š 1$ awk 'BEGIN &#123;i=1; while(i&lt;6)&#123; print i; ++i &#125; &#125;' do - whileè¯­å¥ è¯­æ³•æ ¼å¼ï¼š 123do&#123; å¾ªç¯ä½“&#125;while(æ¡ä»¶) ç¤ºä¾‹ï¼š 1awk 'BEGIN&#123;i=1;do&#123;print i;i++&#125;while(i&lt;6)&#125;' for è¯­å¥ è¯­æ³•æ ¼å¼ï¼š 123for(å˜é‡;æ¡ä»¶;è¡¨è¾¾å¼)&#123; åŠ¨ä½œ&#125; ç¤ºä¾‹ï¼š 1234567$ awk 'BEGIN&#123; sum=0; for(i=1;i&lt;=100;i++)&#123; sum+=i &#125; print sum&#125;' å¸¸ç”¨é€‰é¡¹ é€‰é¡¹ å«ä¹‰ -v å‚æ•°ä¼ é€’ -V æŸ¥çœ‹awkçš„ç‰ˆæœ¬å· -f æŒ‡å®šè„šæœ¬æ–‡ä»¶ -F æŒ‡å®šåˆ†éš”ç¬¦ ä½¿ç”¨-vå¼•å…¥å¤–éƒ¨å˜é‡ 123$ a=1$ b=\"spring is framework\"$ awk -v c=\"$a\" -v d=\"$b\" 'BEGIN&#123;print c , d&#125;' æŠŠawkçš„æ‰§è¡ŒåŠ¨ä½œå†™åœ¨è„šæœ¬ä¸­ï¼Œä½¿ç”¨-fæŒ‡å®šè„šæœ¬æ–‡ä»¶ 12$ vim print.awk$ BEGIN&#123;print c , d&#125; æ‰§è¡Œè„šæœ¬æ–‡ä»¶ï¼šprint.awk 1awk -v c=\"$a\" -v d=\"$b\" -f print.awk ä½¿ç”¨-FæŒ‡å®šåˆ†éš”ç¬¦ æˆ‘ä»¬ä¹‹å‰å¯ä»¥ä½¿ç”¨å†…ç½®å˜é‡FSæ¥æŒ‡å®šåˆ†éš”ç¬¦ï¼Œæ¯”å¦‚ï¼š 1$ awk 'BEGIN&#123;FS=\":\"&#125; &#123;print $1&#125;' /etc/passwd ç°åœ¨ç­‰ä»·äºï¼š 123$ awk -F \":\" '&#123;print $1&#125;' /etc/passwd# æˆ–è€…$ awk -F: '&#123;print $1&#125;' /etc/passwd","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://www.gulj.cn/categories/è¿ç»´/"}],"tags":[{"name":"linux","slug":"linux","permalink":"http://www.gulj.cn/tags/linux/"}]},{"title":"sedå‘½ä»¤","slug":"sedå‘½ä»¤","date":"2019-02-20T03:37:10.000Z","updated":"2019-02-20T03:41:33.914Z","comments":true,"path":"2019/02/20/sedå‘½ä»¤/","link":"","permalink":"http://www.gulj.cn/2019/02/20/sedå‘½ä»¤/","excerpt":"ä»‹ç»sedï¼ˆStream Editorï¼‰ ï¼Œ æµç¼–è¾‘å™¨ã€‚å¯¹æ ‡å‡†è¾“å‡ºæˆ–æ–‡ä»¶é€è¡Œå¤„ç† è¯­æ³•æ ¼å¼ ç¬¬ä¸€ç§å½¢å¼ 1$ stdout | sed [option] \"pattern command\" ç¬¬äºŒç§å½¢å¼ 1$ sed [option] \"pattern command\" file","text":"ä»‹ç»sedï¼ˆStream Editorï¼‰ ï¼Œ æµç¼–è¾‘å™¨ã€‚å¯¹æ ‡å‡†è¾“å‡ºæˆ–æ–‡ä»¶é€è¡Œå¤„ç† è¯­æ³•æ ¼å¼ ç¬¬ä¸€ç§å½¢å¼ 1$ stdout | sed [option] \"pattern command\" ç¬¬äºŒç§å½¢å¼ 1$ sed [option] \"pattern command\" file sedä¸­é€‰é¡¹ï¼ˆoptionï¼‰ é€‰é¡¹ å«ä¹‰ -n å–æ¶ˆé»˜è®¤è¾“å‡º -e å¤šç‚¹ç¼–è¾‘ï¼Œå¯ä»¥æ‰§è¡Œå¤šä¸ªå­å‘½ä»¤ -i ç›´æ¥ä¿®æ”¹æ–‡ä»¶å†…å®¹ -r æ”¯æŒæ‰©å±•æ­£åˆ™è¡¨è¾¾å¼ æ­£åˆ™çš„ä¸€äº›åŸºæœ¬çŸ¥è¯†ç‚¹ï¼ˆä¸‹æ–‡ä¼šç”¨åˆ°ï¼‰ ^ è¡¨ç¤ºä¸€è¡Œçš„å¼€å¤´ 1/^#/ # ä»¥#å·å¼€å¤´çš„åŒ¹é… $è¡¨ç¤ºä¸€è¡Œçš„ç»“å°¾ 1/root$/ # ä»¥rootç»“å°¾çš„åŒ¹é… .è¡¨ç¤ºä»»ä½•å•ä¸ªå­—ç¬¦ *è¡¨ç¤ºæŸä¸€ä¸ªå­—ç¬¦å‡ºç°äº†0æ¬¡æˆ–å¤šæ¬¡ []è¡¨ç¤ºå­—ç¬¦é›†åˆ 1[ABC] # è¡¨ç¤ºåŒ¹é…Aæˆ–Bæˆ–C sedä¸­patternè¯¦è§£ï¼ˆé‡è¦ï¼‰ LineNumber (ç›´æ¥æŒ‡å®šè¡Œå·) æ‰“å°fileä¸­17è¡Œ 1$ sed -n '17p' file å…¶ä¸­çš„pè¡¨ç¤ºæ‰“å°ï¼Œä¸‹é¢è®²è§£ç¼–è¾‘å‘½ä»¤ä¼šæåˆ° StartLine,EndLine (æŒ‡å®šèµ·å§‹è¡Œåˆ°ç»“æŸè¡Œå·) æ‰“å°fileä¸­10åˆ°12è¡Œ 1$ sed -n '10,12p' file StartLine,+N (æŒ‡å®šèµ·å§‹è¡Œç„¶ååˆ°åé¢Nè¡Œ) æ‰“å°fileä¸­ä»ç¬¬10è¡Œå¼€å§‹ï¼Œå¾€åé¢åŠ 5è¡Œçš„å†…å®¹ 1$ sed -n '10,+5p' file /pattern1/ ï¼ˆæ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ï¼‰ æ‰“å°fileæ–‡ä»¶ä¸­ä»¥rootå¼€å¤´çš„è¡Œ 1$ sed -n '/^root/p' file æ‰“å°fileæ–‡ä»¶ä¸­ä¸­åŒ…å«å­—ç¬¦ä¸º /sbin/halt çš„è¡Œ 1$ sed -n '/\\/sbin\\/halt/p' /etc/passwd åŒ¹é…å­—ç¬¦ä¸­ /sbin/halt å¸¦æœ‰æ–œæ  / åœ¨åŒ¹é…æ—¶ï¼Œéœ€è¦ç”¨åæ–œæ  \\ è½¬ä¹‰ /pattern1/,/pattern2/ (ä»åŒ¹é…åˆ°pattern1çš„è¡Œï¼Œåˆ°åŒ¹é…åˆ°pattern2çš„è¡Œ) æ‰“å°fileæ–‡ä»¶ä¸­ç¬¬ä¸€ä¸ªåŒ¹é…åˆ°ä»¥ftpå¼€å¤´çš„è¡Œï¼Œåˆ°ç¬¬äºŒä¸ªåŒ¹é…åˆ°ä»¥mailå¼€å¤´çš„è¡Œ 1$ sed -n '/^ftp/,/^mail/p' file LineNumber,/pattern1/ (ä»æŒ‡å®šè¡Œå·å¼€å§‹åŒ¹é…ï¼Œç›´åˆ°åŒ¹é…åˆ°pattern1çš„è¡Œ) æ‰“å°fileä¸­ä»ç¬¬4è¡Œå¼€å§‹åŒ¹é…ï¼Œç›´åˆ°åŒ¹é…åˆ°ä»¥hdfså¼€å¤´çš„è¡Œ 1$ sed -n '4,/^hdfs/p' file å¦‚æœæŒ‡å®šLineNumberçš„è¡Œ â€‹ åœ¨åŒ¹é…ç›®æ ‡å­—ç¬¦å‰é¢ï¼Œåˆ™è¾“å‡ºçš„æ˜¯ä»LineNumberè¡Œåˆ°ç›®æ ‡å­—ç¬¦è¡Œçš„æ‰€æœ‰å†…å®¹ â€‹ åœ¨åŒ¹é…ç›®æ ‡å­—ç¬¦åé¢ï¼Œåˆ™è¾“å‡ºçš„æ˜¯ä»LineNumberè¡Œä¸€ç›´åˆ°æ–‡ä»¶æœ«å°¾çš„æ‰€æœ‰å†…å®¹ sedä¸­ç¼–è¾‘å‘½ä»¤ï¼ˆcommandï¼‰è¯¦è§£ ç±»åˆ« å«ä¹‰ æŸ¥è¯¢ p æ‰“å° å¢åŠ  a è¡Œåå¢åŠ  i è¡Œå‰å¢åŠ  r å¤–éƒ¨æ–‡ä»¶è¯»å…¥ï¼Œè¡Œåå¢åŠ  w åŒ¹é…è¡Œï¼Œå†™å…¥å¤–éƒ¨æ–‡ä»¶ åˆ é™¤ d åˆ é™¤ ä¿®æ”¹ s/old/new å°†è¡Œå†…ç¬¬ä¸€ä¸ªoldæ›¿æ¢ä¸ºnew s/old/new/g å°†è¡Œå†…å…¨éƒ¨çš„oldæ›¿æ¢ä¸ºnew s/old/new/2g å°†è¡Œå†…ä»ç¬¬äºŒ2ä¸ªå¼€å§‹åˆ°åé¢æ‰€æœ‰çš„oldæ›¿æ¢ä¸ºnew s/old/new/ig å°†è¡Œå†…å…¨éƒ¨çš„oldæ›¿æ¢ä¸ºnewï¼Œå¿½ç•¥å¤§å°å†™ å–ä»£ c æ›¿æ¢åŒ¹é…è¡Œ å¤‡æ³¨ï¼Œä¸‹æ–‡æåˆ°çš„æ–‡ä»¶ fileï¼Œè¯»è€…å¯ä»¥ä½¿ç”¨ /etc/passwd æ–‡ä»¶ä½œä¸ºç»ƒä¹ ï¼ˆè®°å¾—æ‹·è´ä¸€ä»½ï¼‰ æ¡ˆä¾‹ä¸­çš„ç¤ºä¾‹éƒ½æ˜¯åŸºäºä¸‹æ–¹çš„å½¢å¼ï¼š 1'pattern command' å…¶ä¸­çš„ â€‹ patternï¼šæ˜¯ä¸Šæ–‡æåˆ°çš„å‡ ç§å½¢å¼ â€‹ commandï¼šæ˜¯ä¸‹æ–‡æåˆ°çš„ æ¯”å¦‚ï¼špæ˜¯æ‰“å°ï¼Œdæ˜¯åˆ é™¤ç­‰ d ï¼ˆåˆ é™¤ï¼‰ åˆ é™¤æºæ–‡ä»¶ä¸­ä»¥ftpå¼€å¤´çš„è¡Œåˆ°mailç»“æŸçš„è¡Œ 1$ sed -i '/^ftp/,/^mail/d' file åœ¨è®²è§£sedä¸­patternçš„æ—¶å€™ï¼Œæˆ‘ä»¬å·²ç»ç”¨è¿‡ç¼–è¾‘å‘½ä»¤ p çš„åŠŸèƒ½ï¼Œå…¶å®ƒåŠŸèƒ½éƒ½å¯ä»¥ä½¿ç”¨ patternè®²è§£ä¸­çš„å½¢å¼ a ï¼ˆå¢åŠ ï¼Œè¡Œåï¼‰ åœ¨fileä¸­åŒ¹é…åˆ°rootçš„è¡Œï¼Œåœ¨å…¶è¡Œåå¢åŠ å­—ç¬¦ â€œ123â€ 1$ sed -i '/root/a 123' file r ï¼ˆå°†åé¢æŒ‡å®šæ–‡ä»¶çš„å†…å®¹è¿½åŠ åˆ°åŒ¹é…åˆ°è¡Œåé¢ï¼‰ åœ¨fileä¸­åŒ¹é…åˆ°rootçš„è¡Œï¼Œå°†å½“å‰è·¯åŠ²ä¸‹æ–‡ä»¶append.txtä¸­çš„å†…å®¹ï¼Œæ·»åŠ åˆ°åŒ¹é…è¡Œçš„åé¢ 1$ sed -i '/root/r append.txt' file w ï¼ˆå°†åŒ¹é…åˆ°è¡Œå†…å®¹ï¼Œå¦å­˜åˆ°å…¶å®ƒæ–‡ä»¶ä¸­ï¼‰ åœ¨fileä¸­åŒ¹é…åˆ°/bin/bashçš„è¡Œä¿å­˜åœ¨/etc/result.logæ–‡ä»¶ä¸­ 1$ sed -n '/\\/bin/\\bash/w /etc/result.log' file s/pattern/string/ig ï¼ˆå°†åŒ¹é…åˆ°è¡Œå†…å®¹ï¼Œå¦å­˜åˆ°å…¶å®ƒæ–‡ä»¶ä¸­ï¼‰ åœ¨fileä¸­åŒ¹é…åˆ°ä¸åŒºåˆ†å¤§å°å†™çš„hadoopçš„å­—ç¬¦æ›¿æ¢ä¸ºhive 1$ sed -i 's/hadoop/hive/ig' file = ï¼ˆå°†åŒ¹é…åˆ°è¡Œï¼Œåªæ˜¾ç¤ºè¡Œå·ï¼Œä¸æ˜¾ç¤ºå†…å®¹ï¼‰ åœ¨fileä¸­åŒ¹é…åˆ°rootçš„è¡Œï¼Œåªæ˜¾ç¤ºè¡Œå·ï¼Œä¸è¾“å‡ºå†…å®¹ 1$ sed -n '/root/=' file &amp; å’Œ \\1 ï¼ˆåå‘å¼•ç”¨ï¼Œå¼•ç”¨æ¨¡å¼åŒ¹é…åˆ°çš„æ•´ä¸ªä¸²ï¼‰ åœ¨fileæ–‡ä»¶ä¸­åŒ¹é…åˆ°springcl..dçš„å­—ç¬¦ï¼Œåœ¨åé¢åŠ ä¸Šå­—ç¬¦abc 1$ sed -i 's/springcl..d/&amp;abc/g' file sed ä¸­å¼•ç”¨å˜é‡æ—¶ï¼Œåˆ™å»ºè®®ä½¿ç”¨åŒå¼•å·ï¼Œå¦åˆ™ä¼šå°†å˜é‡å½“åšæ™®é€šå­—ç¬¦ä¸²æ¥å¤„ç† 123old_hadoop=hadoopnew_hadoop=HADOOP$ sed -i \"s/$old_hadoop/$new_hadoop/g\" file # ä½¿ç”¨åŒå¼•å·å¼•èµ·æ¥ c åŒ¹é…å­—ç¬¦daemonçš„è¡Œï¼Œæ›¿æ¢ä¸ºå­—ç¬¦ input repalce content 1$ sed '/daemon/c input repalce content' file å¤šè¡ŒåŒ¹é… åœ¨fileæ–‡ä»¶ä¸­åŒ¹é…åˆ°ä»¥sshå­—ç¬¦å¼€å¤´çš„è¡Œï¼Œæ›¿æ¢ç¬¬ä¸€ä¸ªå­—ç¬¦sshdä¸ºhiveå’ŒåŒ¹é…ä»¥falseç»“å°¾çš„å­—ç¬¦çš„è¡Œï¼Œåœ¨è¡Œå‰é¢æ’å…¥å†…å®¹ ABC 1$ sed '/^ssh/s/sshd/hive/1g; /false$/i ABC' file ä¸Šé¢çš„å‘½ä»¤ç­‰ä»·äºï¼šï¼ˆä½¿ç”¨sedçš„-eå‘½ä»¤è¡Œå‚æ•°ï¼‰ 1$ sed -e '/^ssh/s/sshd/hive/1g' -e '/false$/i ABC' file","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://www.gulj.cn/categories/è¿ç»´/"}],"tags":[{"name":"linux","slug":"linux","permalink":"http://www.gulj.cn/tags/linux/"}]},{"title":"grepå‘½ä»¤","slug":"grepå‘½ä»¤","date":"2019-02-19T03:30:44.000Z","updated":"2019-02-19T03:36:13.784Z","comments":true,"path":"2019/02/19/grepå‘½ä»¤/","link":"","permalink":"http://www.gulj.cn/2019/02/19/grepå‘½ä»¤/","excerpt":"grep å‘½ä»¤ä»‹ç»Linux grepå‘½ä»¤ç”¨äºæŸ¥æ‰¾æ–‡ä»¶é‡Œç¬¦åˆæ¡ä»¶çš„å­—ç¬¦ä¸²ã€‚ è¯­æ³•æ ¼å¼ ç¬¬ä¸€ç§å½¢å¼ 1$ grep [option][pattern][file1,file2] ç¬¬äºŒç§å½¢å¼ 1$ command | grep [option][pattern]","text":"grep å‘½ä»¤ä»‹ç»Linux grepå‘½ä»¤ç”¨äºæŸ¥æ‰¾æ–‡ä»¶é‡Œç¬¦åˆæ¡ä»¶çš„å­—ç¬¦ä¸²ã€‚ è¯­æ³•æ ¼å¼ ç¬¬ä¸€ç§å½¢å¼ 1$ grep [option][pattern][file1,file2] ç¬¬äºŒç§å½¢å¼ 1$ command | grep [option][pattern] å‚æ•°ï¼ˆ[option]ï¼‰ é€‰é¡¹ å«ä¹‰ -v ä¸æ˜¾ç¤ºåŒ¹é…è¡Œä¿¡æ¯ -i æœç´¢æ—¶å¿½ç•¥å¤§å°å†™ -e æŒ‡å®šå­—ç¬¦ä¸²åšä¸ºæŸ¥æ‰¾æ–‡ä»¶å†…å®¹çš„æ ·å¼ -E æ”¯æŒæ‰©å±•æ­£åˆ™è¡¨è¾¾å¼ -f æŒ‡å®šè§„åˆ™æ–‡ä»¶ï¼Œå…¶å†…å®¹å«æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªè§„åˆ™æ ·å¼ï¼ŒæŒ‰ç…§è§„åˆ™æ–‡ä»¶æŸ¥æ‰¾ -F ä¸æŒ‰æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ï¼Œå°†æ ·å¼è§†ä¸ºå›ºå®šå­—ç¬¦ä¸²çš„åˆ—è¡¨ -n æ˜¾ç¤ºè¡Œ -o åªæ˜¾ç¤ºåŒ¹é…PATTERN éƒ¨åˆ† -r é€’å½’æœç´¢ -c åªæ˜¾ç¤ºåŒ¹é…è¡Œçš„æ€»æ•° -w åŒ¹é…æ•´è¯ -l åªæ˜¾ç¤ºæ–‡ä»¶åï¼Œä¸æ˜¾ç¤ºå†…å®¹ -s ä¸æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ -A n è¾“å‡ºåŒ¹é…è¡Œçš„ånè¡Œ -B n è¾“å‡ºåŒ¹é…è¡Œçš„å‰nè¡Œ -C n è¾“å‡ºåŒ¹é…è¡Œçš„å‰ånè¡Œ ç¤ºä¾‹ å‡†å¤‡æ–‡æœ¬æ–‡ä»¶app.txt 1234i love javai love JAVAI LOVE JAVAi lovelove java æŸ¥æ‰¾å­—ç¬¦ åœ¨app.txtæ–‡ä»¶ä¸­æŸ¥æ‰¾å­—ç¬¦ â€œjavaâ€ 123$ grep java app.txti love javai lovelove java -e åœ¨ä¸åŒæ–‡ä»¶ä¸­æŸ¥æ‰¾ â€œjavaâ€ å’Œ â€œrootâ€ å­—ç¬¦ï¼Œä½¿ç”¨-eå‚æ•°ï¼Œæˆ‘ä»¬å¯ä»¥æŸ¥æ‰¾å¤šä¸ªæ¨¡å¼ã€‚ 12345$ grep -e \"java\" app.txt -e \"root\" /etc/passwdapp.txt:i love javaapp.txt:i lovelove java/etc/passwd:root:x:0:0:root:/root:/bin/bash/etc/passwd:operator:x:11:0:operator:/root:/sbin/nologin ä½¿ç”¨ $ ç¬¦å·è¾“å‡ºæ‰€æœ‰ä»¥æŒ‡å®šæ¨¡å¼ç»“å°¾çš„è¡Œ åŒ¹é…/etc/passwdæ–‡ä»¶ä¸­ä»¥nologinå­—ç¬¦ç»“å°¾çš„è¡Œ 123456$ grep \"nologin$\" /etc/passwdbin:x:1:1:bin:/bin:/sbin/nologindaemon:x:2:2:daemon:/sbin:/sbin/nologinmail:x:8:12:mail:/var/spool/mail:/sbin/nologinoperator:x:11:0:operator:/root:/sbin/nologingames:x:12:100:games:/usr/games:/sbin/nologin -f -e é€‰é¡¹ä¸­æˆ‘ä»¬æŒ‡å®šäº†ä¸¤ä¸ª-eé€‰é¡¹ï¼Œä¸€ä¸ªæ˜¯ -e â€œjavaâ€ å¦å¤–ä¸€ä¸ªæ˜¯ -e â€œrootâ€ æˆ‘ä»¬å¯ä»¥æŠŠè¿™ä¸ªä¸¤ä¸ªæœç´¢çš„è¯ï¼Œå†™åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼ŒæŒ‰ç…§æ–‡ä»¶ä¸­å®šä¹‰çš„æ¨¡å¼è¿›è¡Œæœç´¢ å®šä¹‰æ–‡ä»¶ grep_file_pattern 12345# åŒ¹é…ä»¥rootå¼€å¤´çš„è¡Œã€ä»¥nologinç»“å°¾çš„è¡Œã€åŒ…å«vagrantå­—ç¬¦çš„è¡Œ$ cat grep_file_pattern^rootnologin$vagrant ä½¿ç”¨ grep_file_pattern æ–‡ä»¶è¿›è¡Œæœç´¢ 12345678$ grep -f grep_file_pattern /etc/passwdroot:x:0:0:root:/root:/bin/bashbin:x:1:1:bin:/bin:/sbin/nologindaemon:x:2:2:daemon:/sbin:/sbin/nologinmail:x:8:12:mail:/var/spool/mail:/sbin/nologinoperator:x:11:0:operator:/root:/sbin/nologingames:x:12:100:games:/usr/games:/sbin/nologinvagrant:x:1000:1000:vagrant:/home/vagrant:/bin/bash -F ä½¿ç”¨-Fâ€é€‰é¡¹ï¼Œåˆ™æŸ¥æ‰¾çš„å­—ç¬¦å½“åšæ™®é€šå­—ç¬¦æ¥å¤„ç†ï¼Œæ¯”å¦‚ï¼šâ€^iâ€ å¦‚æœä¸åŠ -Fé€‰é¡¹ï¼Œåˆ™åŒ¹é…åˆ°åŒ…å«jaçš„å­—ç¬¦è¡Œï¼ŒåŠ äº†-Fé€‰é¡¹ï¼ŒåªåŒ¹é… â€œ^iâ€ çš„å­—ç¬¦ 1234567# ä¸åŠ -Fé€‰é¡¹,åŒ¹é…ä»¥ i å¼€å¤´çš„è¡Œ$ grep \"^i\" app.txti love javai love JAVAi lovelove java# åŠ -Fé€‰é¡¹,åŒ¹é…åŒ…å«å­—ç¬¦ \"^i\" çš„è¡Œ,è¾“å‡ºç»“æœä¸ºç©º$ grep -F \"^i\" app.txt -v è¾“å‡º app.txt æ–‡ä»¶ä¸­ä¸åŒ…å« â€œjavaâ€ å­—ç¬¦çš„è¡Œ 123$ grep -v java app.txti love JAVAI LOVE JAVA -i ä½¿ç”¨-ié€‰é¡¹ï¼Œåˆ™å¿½ç•¥åŒ¹é…å­—ç¬¦çš„å¤§å°å†™ï¼Œjavaæˆ–JAVAå­—ç¬¦éƒ½èƒ½åŒ¹é…åˆ° 12345$ grep -i java app.txti love javai love JAVAI LOVE JAVAi lovelove java -n ä½¿ç”¨-né€‰é¡¹ï¼Œåˆ™åŒ¹é…åˆ°çš„è¡Œçš„å†…å®¹ï¼Œå‰é¢ä¼šåŠ ä¸Šå¯¹åº”çš„è¡Œå· 123$ grep -n java app.txt1:i love java4:i lovelove java -E ä½¿ç”¨-Eé€‰é¡¹ï¼Œæ”¯æŒ | ç­‰çš„æ‰©å±•è¡¨è¾¾å¼ï¼Œæ„æ€æ˜¯åŒ¹é…åŒ…å«javaæˆ–è€…JAVAå­—ç¬¦çš„è¡Œï¼Œå¦‚æœä¸åŠ -Eé€‰é¡¹ï¼Œåˆ™ â€œjava|JAVAâ€ å°±çœ‹ä½œä¸€ä¸ªæ•´ä½“çš„å­—ç¬¦æ¥å¤„ç† 12345678# åŠ -Eé€‰é¡¹$ grep -E \"java|JAVA\" app.txti love javai love JAVAI LOVE JAVAi lovelove java# ä¸åŠ -Eé€‰é¡¹ï¼Œè¾“å‡ºç»“æœä¸ºç©º$ grep \"java|JAVA\" app.txt -r ä½¿ç”¨-rå‚æ•°ï¼Œé€’å½’/etc/ç›®å½•ä¸‹åŒ…å« â€œvagrantâ€å­—ç¬¦çš„è¡Œ 123456$ grep -r vagrant /etc//etc/group:vagrant:x:1000:vagrant/etc/sudoers.d/vagrant:%vagrant ALL=(ALL) NOPASSWD: ALL/etc/passwd-:vagrant:x:1000:1000:vagrant:/home/vagrant:/bin/bash/etc/gshadow:vagrant:!!::vagrant/etc/gshadow:docker:!::vagrant -l ä½¿ç”¨-lå‚æ•°ï¼Œè¾“å‡ºåŒ…å«â€vagrantâ€å­—ç¬¦çš„æ–‡ä»¶å 123$ grep -l vagrant /etc/passwd /etc/shadow app.txt/etc/passwd/etc/shadow -o ä½¿ç”¨-oå‚æ•°ï¼Œåªæ˜¾ç¤ºåŒ¹é… LOVE å­—ç¬¦ 12$ grep -o -n LOVE app.txt3:LOVE -C ä½¿ç”¨-Cå‚æ•°ï¼Œè¾“å‡ºåŒ¹å­—ç¬¦â€dbusâ€è¡Œçš„å‰å 2 è¡Œ 123456$ grep -C 2 dbus /etc/passwdnobody:x:99:99:Nobody:/:/sbin/nologinsystemd-network:x:192:192:systemd Network Management:/:/sbin/nologindbus:x:81:81:System message bus:/:/sbin/nologinpolkitd:x:999:998:User for polkitd:/:/sbin/nologinrpc:x:32:32:Rpcbind Daemon:/var/lib/rpcbind:/sbin/nologin æŸ¥æ‰¾æ–‡ä»¶ä¸­æ‰€æœ‰çš„ç©ºè¡Œ 1$ grep ^$ /data/log/nginx.log","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://www.gulj.cn/categories/è¿ç»´/"}],"tags":[{"name":"linux","slug":"linux","permalink":"http://www.gulj.cn/tags/linux/"}]},{"title":"findå‘½ä»¤","slug":"findå’Œgrepå‘½ä»¤-1","date":"2019-02-14T07:17:44.000Z","updated":"2019-02-14T10:04:19.833Z","comments":true,"path":"2019/02/14/findå’Œgrepå‘½ä»¤-1/","link":"","permalink":"http://www.gulj.cn/2019/02/14/findå’Œgrepå‘½ä»¤-1/","excerpt":"è¯­æ³•æ ¼å¼1find ã€è·¯å¾„ã€‘ã€é€‰é¡¹ã€‘ã€æ“ä½œã€‘","text":"è¯­æ³•æ ¼å¼1find ã€è·¯å¾„ã€‘ã€é€‰é¡¹ã€‘ã€æ“ä½œã€‘ é€‰é¡¹å‚æ•° é€‰é¡¹ å«ä¹‰ -name æ ¹æ®æ–‡ä»¶åæŸ¥æ‰¾ -iname æ ¹æ®æ–‡ä»¶åæŸ¥æ‰¾ä¸åŒºåˆ†å¤§å°å†™ -perm æ ¹æ®æ–‡ä»¶æƒé™æŸ¥æ‰¾ -prune è¯¥é€‰é¡¹å¯ä»¥æ’é™¤æŸäº›ç›®å½• -user æ ¹æ®æ–‡ä»¶å±ä¸»æŸ¥æ‰¾ -group æ ¹æ®æ–‡ä»¶å±ç»„æŸ¥æ‰¾ -mtime -n æˆ– +n æ ¹æ®æ–‡ä»¶æ›´æ”¹æ—¶é—´æŸ¥æ‰¾ï¼Œä»¥å¤©ä¸ºå•ä½ -mmin -n æˆ– +n æ ¹æ®æ–‡ä»¶æ›´æ”¹æ—¶é—´æŸ¥æ‰¾ï¼Œä»¥åˆ†é’Ÿä¸ºå•ä½ -nogroup æŸ¥æ‰¾æ— æœ‰æ•ˆå±ç»„çš„æ–‡ä»¶ -nouser æŸ¥æ‰¾æ— æœ‰æ•ˆå±ä¸»çš„æ–‡ä»¶ -type æŒ‰æ–‡ä»¶ç±»å‹æŸ¥æ‰¾ -size -n æˆ– +n æŒ‰æ–‡ä»¶å¤§å°æŸ¥æ‰¾ -mindepth n ä»nçº§å­ç›®å½•å¼€å§‹æŸ¥æ‰¾ -maxdepth n æœ€å¤šæœå¤šåˆ°nçº§å­ç›®å½• ç¤ºä¾‹è¯´æ˜ -name æŸ¥æ‰¾/etcç›®å½•ä¸‹å·²confç»“å°¾çš„æ–‡ä»¶ 1find /etc -name \"*.conf\" -user æŸ¥æ‰¾å½“å‰ç›®å½•ä¸‹å±ä¸»é£Ÿhadoopçš„æ–‡ä»¶ 1find . -user hadoop -type f (æ–‡ä»¶) d (ç›®å½•) c (å­—ç¬¦è®¾å¤‡æ–‡ä»¶) l (é“¾æ¥æ–‡ä»¶) p (ç®¡é“æ–‡ä»¶) æŸ¥æ‰¾å½“å‰è·¯å¾„ä¸‹çš„æ–‡ä»¶ 1find . -type f -size -n (å¤§å°å°äºnçš„æ–‡ä»¶) +n (å¤§å°å¤§äºnçš„æ–‡ä»¶) æŸ¥æ‰¾/etcç›®å½•ä¸‹å°äº1000çš„å­—èŠ‚æ–‡ä»¶ 1find /etc -size -1000c æŸ¥æ‰¾/etcç›®å½•ä¸‹å¤§äº1å…†çš„æ–‡ä»¶ 1find /etc -size +1M -mtime -n (nå¤©ä»¥å†…ä¿®æ”¹çš„æ–‡ä»¶) +n (nå¤©ä»¥å¤–ä¿®æ”¹çš„æ–‡ä»¶) æŸ¥æ‰¾/etcç›®å½•ä¸‹3å¤©ä»¥å†…ä¿®æ”¹çš„æ–‡ä»¶ä¸”ä»¥confç»“å°¾çš„æ–‡ä»¶ 1find /etc -mtime -3 -name \"*.conf\" æŸ¥æ‰¾/etcç›®å½•ä¸‹30åˆ†é’Ÿä¹‹å‰ä¿®æ”¹çš„ç›®å½• 1find /etc -mmin +30 -type d mindepth ä»/etcç›®å½•ä¸‹3çº§å­ç›®å½•å¼€å§‹æœç´¢æ–‡ä»¶ 1find /etc -mindepth 3 -type f maxdepth ä»/etcç›®å½•ä¸‹æŸ¥æ‰¾æ–‡ä»¶æƒé™ä¸º644ï¼Œæœ€å¤šæœç´¢åˆ°2çº§ç›®å½•ï¼ˆå½“å‰ä½ç½®è¡¨ç¤ºä¸€çº§ç›®å½•ï¼‰ 1find /etc -maxdepth 2 -perm 644 -prune é€šå¸¸å’Œpathä¸€èµ·ä½¿ç”¨ï¼Œç”¨äºå°†ç‰¹å®šçš„ç›®å½•æ’é™¤åœ¨æœç´¢ä¹‹å¤– æŸ¥æ‰¾å½“å‰ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶ï¼Œä½†æ’é™¤logç›®å½• 1find . -path ./log -prune -o -type f æŸ¥æ‰¾å½“å‰ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶ï¼Œä½†æ’é™¤logç›®å½•å’Œlibç›®å½• 1find . -path ./log -prune -o -path ./lib -prune -o -type f -exec å¯¹æœç´¢åˆ°æ–‡ä»¶æ‰§è¡Œç‰¹å®šçš„æ“ä½œï¼Œæ ¼å¼ä¸ºï¼š-exec â€˜commandâ€™ {} \\; {} è¡¨ç¤ºfindæŸ¥è¯¢åˆ°çš„ç»“æœé›† æœç´¢/etcä¸‹çš„æ–‡ä»¶ï¼Œæ–‡ä»¶åä»¥confç»“å°¾ï¼Œä¸”å¤§å°å¤§äº2Kï¼Œç„¶åå°†å…¶å¤åˆ¶åˆ°/root/hadoopç›®å½•ä¸‹ 1find /etc -name \"*.conf\" -size +2K -type f -exec cp -r &#123;&#125; /root/hadoop \\; findã€locateã€whereiså’Œwhichæ€»ç»“åŠä½¿ç”¨åœºæ™¯åˆ†æfindå’Œlocateçš„åŒºåˆ« find locate åœ¨æ•´å—ç£ç›˜ä¸­æœç´¢ åœ¨æ•°æ®åº“æ–‡ä»¶ä¸­æŸ¥æ‰¾ é»˜è®¤æ˜¯å…¨éƒ¨åŒ¹é… é»˜è®¤æ˜¯æ¨¡ç³ŠåŒ¹é… æ–°åˆ›å»ºçš„æ–‡ä»¶ï¼Œä½¿ç”¨locateå‘½ä»¤æš‚æ—¶æŸ¥æ‰¾ä¸åˆ°ï¼Œå› ä¸ºåå°cronä»»åŠ¡è¿˜æœªæ‰§è¡Œï¼Œå¯ä»¥ä½¿ç”¨updatedbå‘½ä»¤åˆ·æ–°locateæŸ¥æ‰¾çš„æ•°æ®åº“ï¼Œè¿™æ ·å°±èƒ½æŸ¥æ‰¾åˆ°åˆšæ‰æ–°å»ºçš„æ–‡ä»¶äº† whereis é€‰é¡¹ å«ä¹‰ -b åªè¿”å›äºŒè¿›åˆ¶æ–‡ä»¶ -m åªè¿”å›å¸®åŠ©æ–‡æ¡£æ–‡ä»¶ -s åªè¿”å›æºä»£ç æ–‡ä»¶ which é€‰é¡¹ å«ä¹‰ -b åªè¿”å›äºŒè¿›åˆ¶æ–‡ä»¶ å„å‘½ä»¤ä½¿ç”¨åœºæ™¯åŠä¼˜ç¼ºç‚¹ å‘½ä»¤ é€‚ç”¨åœºæ™¯ ä¼˜ç¼ºç‚¹ find æŸ¥æ‰¾æŸä¸€ç±»æ–‡ä»¶ åŠŸèƒ½å¼ºå¤§ï¼Œé€Ÿåº¦æ…¢ locate åªèƒ½æŸ¥æ‰¾å•ä¸ªæ–‡ä»¶ åŠŸèƒ½å•ä¸€ï¼Œé€Ÿåº¦å¿« whereis æŸ¥æ‰¾ç¨‹åºçš„å¯æ‰§è¡Œæ–‡ä»¶ã€å¸®åŠ©æ–‡æ¡£ç­‰ ä¸å¸¸ç”¨ which åªæŸ¥æ‰¾ç¨‹åºçš„å¯æ‰§è¡Œæ–‡ä»¶ å¸¸ç”¨äºæŸ¥æ‰¾ç¨‹åºçš„ç»å¯¹è·¯å¾„","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://www.gulj.cn/categories/è¿ç»´/"}],"tags":[{"name":"linux","slug":"linux","permalink":"http://www.gulj.cn/tags/linux/"}]},{"title":"Btraceç›‘æ§è°ƒè¯•åŸºæœ¬æ•™ç¨‹","slug":"Btraceç›‘æ§è°ƒè¯•åŸºæœ¬æ•™ç¨‹","date":"2018-07-30T07:53:46.000Z","updated":"2019-02-14T07:07:12.859Z","comments":true,"path":"2018/07/30/Btraceç›‘æ§è°ƒè¯•åŸºæœ¬æ•™ç¨‹/","link":"","permalink":"http://www.gulj.cn/2018/07/30/Btraceç›‘æ§è°ƒè¯•åŸºæœ¬æ•™ç¨‹/","excerpt":"æ‹¦æˆªæ–¹æ³• æ™®é€šæ–¹æ³• 1@OnMethod( clazz = \"\", method = \"\") ä¸Šä¸€ç¯‡æ–‡ç« æˆ‘ä»¬å·²ç»ä»‹ç»ï¼Œä¸æ¸…æ¥šçš„å°ä¼™ä¼´ï¼Œå¯è‡ªè¡Œå‰å¾€æŸ¥çœ‹ æ„é€ å‡½æ•° 1@OnMethod( clazz = \"\", method = \"&lt;init&gt;\")","text":"æ‹¦æˆªæ–¹æ³• æ™®é€šæ–¹æ³• 1@OnMethod( clazz = \"\", method = \"\") ä¸Šä¸€ç¯‡æ–‡ç« æˆ‘ä»¬å·²ç»ä»‹ç»ï¼Œä¸æ¸…æ¥šçš„å°ä¼™ä¼´ï¼Œå¯è‡ªè¡Œå‰å¾€æŸ¥çœ‹ æ„é€ å‡½æ•° 1@OnMethod( clazz = \"\", method = \"&lt;init&gt;\") ä»£ç ç¤ºä¾‹ æ–°å»ºUserç±» 1234567@Data@NoArgsConstructor@AllArgsConstructorpublic class User &#123; private String name; private int age;&#125; ç¼–å†™å¾…è¿½è¸ªä»£ç  ConstructorController.java 1234567@RestControllerpublic class ConstructorController &#123; @GetMapping(\"/constructor\") public User constructor(User user) &#123; return user; &#125;&#125; ç¼–å†™è¿½è¸ªä»£ç è„šæœ¬ BtracePrintConstructorArgSimple.java 123456789@BTracepublic class BtracePrintConstructorArgSimple &#123; @OnMethod(clazz = \"com.gulj.monitor.domain.User\", method = \"&lt;init&gt;\") public static void andyRead(@ProbeClassName String pcn, @ProbeMethodName String pmn, AnyType[] args) &#123; BTraceUtils.printArray(args); BTraceUtils.println(\"className=\" + pcn + \",\" + \"methodName=\" + pmn); &#125;&#125; è¿è¡Œè¿½è¸ªä»£ç è„šæœ¬ 1btrace pid BtracePrintConstructorArgSimple.java å‘é€è¯·æ±‚ 1curl http://localhost:8080/constructor?name=gulj&amp;age=27 æ‰§è¡Œå‘½ä»¤ btrace pid BtracePrintConstructorArgSimple.java (ä¸€èµ·å¤„äºç›‘å¬çŠ¶æ€ï¼Œå½“æˆ‘ä»¬å‘é€è¯·æ±‚ï¼Œä¼šæœ‰ç›‘å¬ç»“æœè¾“å‡º) è¿˜æœ‰ç¬”è€…åœ¨æµ‹è¯•çš„è¿‡ç¨‹ä¸­æœ‰çš„æ—¶å€™æ²¡æœ‰ç›‘æµ‹åˆ°è¾“å‡ºï¼Œå½“é‡åˆ°è¿™ç§æƒ…å†µï¼Œæœ‰çš„æ—¶å€™æ˜¯å› ä¸ºæ…¢çš„ç¼˜æ•…ï¼Œæœ‰çš„æ—¶å€™è¿˜è¯·å°ä¼™ä¼´å¤šæ‰§è¡Œå‡ æ¬¡è¯·æ±‚ åŒåå‡½æ•°ï¼Œç”¨å‚æ•°åŒºåˆ† ä»£ç ç¤ºä¾‹ ç¼–å†™å¾…è¿½è¸ªä»£ç  SameMethodController.java 1234567891011121314@RestControllerpublic class SameMethodController &#123; @GetMapping(\"/method1\") public String method(@RequestParam(\"name\") String name) &#123; return name; &#125; @GetMapping(\"/method2\") public String method(@RequestParam(\"name\") String name, @RequestParam(\"age\") int age) &#123; return name + age; &#125;&#125; ç¼–å†™è¿½è¸ªä»£ç è„šæœ¬ BtracePrintConstructorArgSimple.java 123456789101112131415161718192021222324@BTracepublic class BtracePrintSameMethodArgSimple &#123; /** * æ³¨æ„ï¼Œè¿™ä¸ªä¸¤ä¸ªæ–¹æ³•ï¼Œé™¤äº†æœ€åçš„å‚æ•°ä¸ªæ•°ä¸åŒï¼Œå…¶å®ƒéƒ½ä¸€æ ·ï¼Œè¯»è€…åœ¨æµ‹è¯•çš„æ—¶å€™å¯è‡ªè¡Œé€‰æ‹©æ”¾å¼€æµ‹è¯• */ // curl:http://localhost:8080/method2?name=xxx&amp;age=100 @OnMethod(clazz = \"com.gulj.monitor.controller.SameMethodController\", method = \"method\") public static void method(@ProbeClassName String pcn, @ProbeMethodName String pmn,String name,int age) &#123; BTraceUtils.println(\"className=\" + pcn + \",\" + \"methodName=\" + pmn + \",\" + \"name=\" + name +\",\" + \"age=\" + age); &#125; /* //è®¿é—®ï¼šcurl:http://localhost:8080/method1?name=xxx @OnMethod(clazz = \"com.gulj.monitor.controller.SameMethodController\", method = \"method\") public static void method(@ProbeClassName String pcn, @ProbeMethodName String pmn,String name) &#123; BTraceUtils.println(\"className=\" + pcn + \",\" + \"methodName=\" + pmn + \",\" + \"name=\" + name ); &#125; */&#125; å‘é€è¯·æ±‚ 1curl:http://localhost:8080/method1?name=gulj&amp;age=12 ç›‘æ§ç»“æœ é€šè¿‡ç¬”è€…ä»¥ä¸Šçš„ä»‹ç»ï¼Œå°ä¼™ä¼´ä»¬æƒ³å¿…å·²ç»çŸ¥é“btraceæ€ä¹ˆç©äº†ï¼Œä¸‹é¢ä¸ºäº†é¿å…ç¯‡å¹…è¿‡é•¿ï¼Œç¬”è€…åªç»™å‡ºç¤ºä¾‹ä»£ç ä¸­çš„å¾…è¿½è¸ªä»£ç å’Œè¿½è¸ªä»£ç ï¼Œå°ä¼™ä¼´ä»¬è‡ªè¡Œè¿è¡ŒæŸ¥çœ‹æ•ˆæœã€‚ æ‹¦æˆªè¿”å›å€¼ã€å¼‚å¸¸ã€è¡Œå·æ‹¦æˆªè¿”å›å€¼æ‹¦æˆªçº¿ä¸Šä»£ç æ–¹æ³•çš„è¿”å›å€¼ ç¼–å†™å¾…è¿½è¸ªä»£ç  ReturnValueController.java12345678@RestControllerpublic class ReturnValueController &#123; @GetMapping(\"/returnValue\") public String returnValue(@RequestParam(\"name\") String name) &#123; return name; &#125;&#125; ç¼–å†™è¿½è¸ªä»£ç è„šæœ¬ BtracePrintConstructorArgSimple.java 12345678910111213@BTracepublic class BtracePrintReturnValueSimple &#123; @OnMethod( clazz = \"com.gulj.monitor.controller.ReturnValueController\", method = \"returnValue\", location = @Location(Kind.RETURN) ) public static void anyRead(@ProbeClassName String pcn, @ProbeMethodName String pmn, @Return AnyType result) &#123; BTraceUtils.println(\"className=\" + pcn + \",\" + \"methodName=\" + pmn + \",\" + \"result=\" + result); &#125;&#125; ä½¿ç”¨ @Location(Kind.RETURN) æŒ‡å®šç›‘æ§è¿”å›å€¼çš„åœ°æ–¹ï¼Œä½¿ç”¨ @Return AnyType result å­˜æ”¾ç›‘æ§çš„è¿”å›å€¼ æ‹¦æˆªå¼‚å¸¸æ‹¦æˆªçº¿ä¸Šä»£ç æŒ‡å®šæ–¹æ³•å³ä½¿åå¹¶å¼‚å¸¸ï¼Œä»èƒ½å¼‚å¸¸æ ˆä¿¡æ¯è¢«ç›‘æ§è¾“å‡º ç¼–å†™å¾…è¿½è¸ªä»£ç  OnThrowController.java 12345678910111213141516171819@RestControllerpublic class OnThrowController &#123; @GetMapping(\"/exception\") public String exception() &#123; try &#123; //TODO ä¸šåŠ¡ä»£ç  int i = 1 / 0; //TODO ä¸šåŠ¡ä»£ç  &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; return \"success\"; &#125;&#125; ç¼–å†™è¿½è¸ªä»£ç è„šæœ¬ BtracePrintOnThrowSimple.java 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061@BTracepublic class BtracePrintOnThrowSimple &#123; /** * ä»£ç ä» usersguide.html ä¸­ copy btrace/samples/OnThrow.java */ // store current exception in a thread local // variable (@TLS annotation). Note that we can't // store it in a global variable! @TLS static Throwable currentException; // introduce probe into every constructor of java.lang.Throwable // class and store \"this\" in the thread local variable. @OnMethod( clazz = \"java.lang.Throwable\", method = \"&lt;init&gt;\" ) public static void onthrow(@Self Throwable self) &#123; currentException = self; &#125; @OnMethod( clazz = \"java.lang.Throwable\", method = \"&lt;init&gt;\" ) public static void onthrow1(@Self Throwable self, String s) &#123; currentException = self; &#125; @OnMethod( clazz = \"java.lang.Throwable\", method = \"&lt;init&gt;\" ) public static void onthrow1(@Self Throwable self, String s, Throwable cause) &#123; currentException = self; &#125; @OnMethod( clazz = \"java.lang.Throwable\", method = \"&lt;init&gt;\" ) public static void onthrow2(@Self Throwable self, Throwable cause) &#123; currentException = self; &#125; // when any constructor of java.lang.Throwable returns // print the currentException's stack trace. @OnMethod( clazz = \"java.lang.Throwable\", method = \"&lt;init&gt;\", location = @Location(Kind.RETURN) ) public static void onthrowreturn() &#123; if (currentException != null) &#123; BTraceUtils.Threads.jstack(currentException); println(\"=====================\"); currentException = null; &#125; &#125;&#125; ç›‘æ§ç»“æœ è™½ç„¶æˆ‘ä»¬åœ¨ç¨‹åºä¸­æŠŠå¼‚å¸¸åé—­äº†ï¼Œä½†æ˜¯é€šè¿‡btraceçš„å¼‚å¸¸ç›‘æ§è„šæœ¬æˆ‘ä»¬ä»èƒ½è¾“å‡ºå¼‚å¸¸æ ˆä¿¡æ¯ï¼Œè¿™æ— ç–‘å¾ˆå¥½åœ°å¸®åŠ©æˆ‘ä»¬è§£å†³çº¿ä¸Šé—®é¢˜ï¼ˆbtraceçš„å¼‚å¸¸ç›‘æ§è„šæœ¬å‚è€ƒ usersguide.html ä¸­çš„ btrace/samples/OnThrow.javaæ–‡ä»¶ï¼‰ æ‹¦æˆªè¡Œå·æ‹¦æˆªçº¿ä¸Šä»£ç æŒ‡å®šè¡Œæ˜¯å¦è¢«æ‰§è¡Œåˆ°","categories":[{"name":"Java","slug":"Java","permalink":"http://www.gulj.cn/categories/Java/"}],"tags":[{"name":"btrace","slug":"btrace","permalink":"http://www.gulj.cn/tags/btrace/"}]},{"title":"Java çº¿ä¸Šé—®é¢˜æ’æŸ¥ç¥å™¨ BTrace å…¥é—¨","slug":"Java-çº¿ä¸Šé—®é¢˜æ’æŸ¥ç¥å™¨-BTrace-å…¥é—¨","date":"2018-07-30T03:27:13.000Z","updated":"2019-02-14T07:07:12.861Z","comments":true,"path":"2018/07/30/Java-çº¿ä¸Šé—®é¢˜æ’æŸ¥ç¥å™¨-BTrace-å…¥é—¨/","link":"","permalink":"http://www.gulj.cn/2018/07/30/Java-çº¿ä¸Šé—®é¢˜æ’æŸ¥ç¥å™¨-BTrace-å…¥é—¨/","excerpt":"ä»‹ç»BTraceæ˜¯Javaå¹³å°çš„å®‰å…¨ï¼ŒåŠ¨æ€è·Ÿè¸ªå·¥å…·ã€‚ BTraceå¯ç”¨äºåŠ¨æ€è·Ÿè¸ªæ­£åœ¨è¿è¡Œçš„Javaç¨‹åºï¼ˆç±»ä¼¼äºOpenSolarisåº”ç”¨ç¨‹åºå’Œæ“ä½œç³»ç»Ÿçš„DTraceï¼‰ã€‚ BTraceåŠ¨æ€æ£€æµ‹ç›®æ ‡åº”ç”¨ç¨‹åºçš„ç±»ä»¥æ³¨å…¥è·Ÿè¸ªä»£ç ï¼ˆâ€œå­—èŠ‚ç è·Ÿè¸ªâ€ï¼‰ BTraceæ˜¯æ£€æŸ¥å’Œè§£å†³çº¿ä¸Šçš„é—®é¢˜çš„åˆ©å™¨ï¼ŒBTrace å¯ä»¥é€šè¿‡ç¼–å†™è„šæœ¬çš„æ–¹å¼ï¼Œåœ¨æœåŠ¡ä¸ç”¨é‡å¯çš„æƒ…å†µä¸‹ï¼Œè·å–ç¨‹åºæ‰§è¡Œè¿‡ç¨‹ä¸­ç›¸å…³ä¿¡æ¯ã€‚","text":"ä»‹ç»BTraceæ˜¯Javaå¹³å°çš„å®‰å…¨ï¼ŒåŠ¨æ€è·Ÿè¸ªå·¥å…·ã€‚ BTraceå¯ç”¨äºåŠ¨æ€è·Ÿè¸ªæ­£åœ¨è¿è¡Œçš„Javaç¨‹åºï¼ˆç±»ä¼¼äºOpenSolarisåº”ç”¨ç¨‹åºå’Œæ“ä½œç³»ç»Ÿçš„DTraceï¼‰ã€‚ BTraceåŠ¨æ€æ£€æµ‹ç›®æ ‡åº”ç”¨ç¨‹åºçš„ç±»ä»¥æ³¨å…¥è·Ÿè¸ªä»£ç ï¼ˆâ€œå­—èŠ‚ç è·Ÿè¸ªâ€ï¼‰ BTraceæ˜¯æ£€æŸ¥å’Œè§£å†³çº¿ä¸Šçš„é—®é¢˜çš„åˆ©å™¨ï¼ŒBTrace å¯ä»¥é€šè¿‡ç¼–å†™è„šæœ¬çš„æ–¹å¼ï¼Œåœ¨æœåŠ¡ä¸ç”¨é‡å¯çš„æƒ…å†µä¸‹ï¼Œè·å–ç¨‹åºæ‰§è¡Œè¿‡ç¨‹ä¸­ç›¸å…³ä¿¡æ¯ã€‚ å®‰è£…ä¸‹è½½åœ°å€ï¼šBtrace-1.3.11 ä¸‹è½½å®Œæˆï¼Œè¿›è¡Œè§£å‹ï¼Œè‡ªè¡Œæ”¾å…¥è¯»è€…è‡ªå·±çš„å®‰è£…ç›®å½• 12# è§£å‹$ tar -zxvf btrace-bin-1.3.11.tgz.tar.gz é…ç½®ç¯å¢ƒå˜é‡ MaxOsç”¨æˆ· ç¼–è¾‘ ~/.bash_profile æ–‡ä»¶æ·»åŠ  123# btrace(BTRACE_HOMEçš„è·¯å¾„è®°å¾—æ›¿æ¢æˆè‡ªå·±çš„btraceçš„ç›®å½•)export BTRACE_HOME=/Users/gulj/Applications/developsoftware/btrace export PATH=$PATH:$BTRACE_HOME/bin è®©.bash_profileç”Ÿæ•ˆ 1$ source ~./bash_profile Windowç”¨æˆ· ç¼–è¾‘ï¼šå³é”®â€”&gt;æˆ‘çš„ç”µè„‘â€”&gt;æˆ‘çš„ç”µè„‘â€”&gt;å±æ€§â€”&gt;é«˜çº§ç³»ç»Ÿè®¾ç½®â€”&gt;ç¯å¢ƒå˜é‡â€”&gt;ç³»ç»Ÿå˜é‡ åœ¨ç³»ç»Ÿå˜é‡ä¸­æ–°å»ºç¯å¢ƒå˜é‡ BTRACE_HOME 1BTRACE_HOME=/Users/gulj/Applications/developsoftware/btrace åœ¨ç³»ç»Ÿå˜é‡ä¸­æ‰¾åˆ°pathï¼Œåœ¨åé¢æ·»åŠ  1%BTRACE_HOME%\\bin éªŒè¯å®‰è£…æ˜¯å¦æ­£ç¡® 123$ btrace --versionBTrace v.1.3.11 (20180406) Btraceè¿è¡Œè„šæœ¬æ–¹å¼ åœ¨JVisualä¸­æ·»åŠ Btraceæ’ä»¶ï¼Œæ·»åŠ classpath ä½¿ç”¨å‘½ä»¤è¡Œ btrace [-I include-path] [-p port] [-cp classpath] pid btrace-script [args] Btrace æ³¨è§£åœ¨æˆ‘ä»¬è§£å‹åçš„/Users/gulj/Applications/developsoftware/btrace/docsç›®å½•ä¸‹ï¼Œæœ‰ä¸ªusersguide.htmlæ–‡ä»¶ï¼Œé‡Œé¢è¯¦ç»†ä»‹ç»äº†å„ç§æ³¨è§£çš„ä½œç”¨ä»¥åŠä½¿ç”¨æ–¹æ³• Method Annotations @com.sun.btrace.annotations.OnMethod @com.sun.btrace.annotations.OnTimer @com.sun.btrace.annotations.OnError @com.sun.btrace.annotations.OnExit @com.sun.btrace.annotations.OnEvent @com.sun.btrace.annotations.OnLowMemory @com.sun.btrace.annotations.OnProbe Argument Annotations @com.sun.btrace.annotations.Self @com.sun.btrace.annotations.Return @com.sun.btrace.annotations.CalledInstance @com.sun.btrace.annotations.CalledMethod Field Annotations @com.sun.btrace.annotations.Export @com.sun.btrace.annotations.Property @com.sun.btrace.annotations.TLS Class Annotations @com.sun.btrace.annotations.DTrace @com.sun.btrace.annotations.DTraceRef @com.sun.btrace.annotations.BTrace ä½¿ç”¨ç¤ºä¾‹æ–°å»ºä¸€ä¸ªspringbootçš„webå·¥ç¨‹å¼•å…¥btraceçš„mavenç›¸å…³ä¾èµ–12345678910111213141516171819202122232425262728&lt;!-- btrace start --&gt;&lt;dependency&gt; &lt;groupId&gt;com.sun.btrace&lt;/groupId&gt; &lt;artifactId&gt;btrace-boot&lt;/artifactId&gt; &lt;scope&gt;system&lt;/scope&gt; &lt;version&gt;1.3.11&lt;/version&gt; &lt;type&gt;jar&lt;/type&gt; &lt;systemPath&gt;/Users/gulj/Applications/developsoftware/btrace/build/btrace-boot.jar&lt;/systemPath&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;com.sun.btrace&lt;/groupId&gt; &lt;artifactId&gt;btrace-client&lt;/artifactId&gt; &lt;scope&gt;system&lt;/scope&gt; &lt;version&gt;1.3.11&lt;/version&gt; &lt;type&gt;jar&lt;/type&gt; &lt;systemPath&gt;/Users/gulj/Applications/developsoftware/btrace/build/btrace-client.jar&lt;/systemPath&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;com.sun.btrace&lt;/groupId&gt; &lt;artifactId&gt;btrace-agent&lt;/artifactId&gt; &lt;scope&gt;system&lt;/scope&gt; &lt;version&gt;1.3.11&lt;/version&gt; &lt;type&gt;jar&lt;/type&gt; &lt;systemPath&gt;/Users/gulj/Applications/developsoftware/btrace/build/btrace-agent.jar&lt;/systemPath&gt;&lt;/dependency&gt;&lt;!-- btrace end --&gt; ç¼–å†™è¦è¿½è¸ªè°ƒè¯•çš„ä»£ç 1234567@RestControllerpublic class UserController &#123; @GetMapping(\"/hello\") public String helloBtrace(@RequestParam(\"name\") String name) &#123; return \"helloï¼Œ\" + name; &#125;&#125; ç¼–å†™è¿½è¸ªä»£ç 123456789101112@BTracepublic class BtracePrintArgSimple &#123; @OnMethod( clazz = \"com.gulj.monitor.controller.UserController\", method = \"helloBtrace\", location = @Location(Kind.ENTRY) ) public static void andyRead(@ProbeClassName String pcn, @ProbeMethodName String pmn, AnyType[] args) &#123; BTraceUtils.printArray(args); BTraceUtils.println(\"className=\" + pcn + \",\" + \"methodName\" + pmn); &#125;&#125; è¿è¡Œå…ˆæŠŠæˆ‘ä»¬çš„springbootå·¥ç¨‹å¯åŠ¨ï¼Œé€šè¿‡ jps -l å–å¾—å·¥ç¨‹çš„pid ï¼Œç„¶ååœ¨æ‰§è¡Œ 12# 49165 å°±æ˜¯ç¬”è€…å·¥ç¨‹çš„pidbtrace 49165 BtracePrintArgSimple.java è¿™æ ·æˆ‘ä»¬çš„è¿½è¸ªä»£ç å°±å¤„äºä¸€ç›´ç›‘æ§çŠ¶æ€ï¼Œæ­¤æ—¶ï¼Œæˆ‘ä»¬é€šè¿‡curlã€postmanç­‰æ–¹å¼ï¼Œè¯·æ±‚æˆ‘ä»¬å†™å¥½çš„æ¥å£ 1curl http://localhost:8080/hello?name=\"btrace\" é‚£ä¹ˆæˆ‘ä»¬çš„btraceç›‘æ§å°±ä¼šè¾“å‡ºæˆ‘ä»¬ç›‘æ§çš„ç»“æœ è¿½è¸ªçš„ä»£ç ï¼ˆBtracePrintArgSimpleï¼‰å¯ä»¥å•ç‹¬å­˜æ”¾ï¼Œæ–°å»ºä¸€ä¸ªå·¥ç¨‹ï¼Œä¸å¿…å’Œæˆ‘ä»¬çš„ä¸šåŠ¡å·¥ç¨‹æ”¾åœ¨ä¸€èµ·","categories":[{"name":"Java","slug":"Java","permalink":"http://www.gulj.cn/categories/Java/"}],"tags":[{"name":"btrace","slug":"btrace","permalink":"http://www.gulj.cn/tags/btrace/"}]},{"title":"Springé›†æˆActiveMQ","slug":"Springé›†æˆActiveMQ","date":"2018-06-20T10:29:51.000Z","updated":"2019-02-14T07:07:12.863Z","comments":true,"path":"2018/06/20/Springé›†æˆActiveMQ/","link":"","permalink":"http://www.gulj.cn/2018/06/20/Springé›†æˆActiveMQ/","excerpt":"æ ¸å¿ƒç±»ä»‹ç» ConnectionFactory ç”¨äºç®¡ç†è¿æ¥çš„è¿æ¥å·¥å‚ ä¸€ä¸ªSpringä¸ºæˆ‘ä»¬æä¾›çš„è¿æ¥æ±  Spring ä¸­æä¾›äº† SingleConnectionFactory å’Œ CachingConnectionFactory JmsTemplate ç”¨äºå‘é€å’Œæ¥æ”¶æ¶ˆæ¯çš„æ¨¡æ¿ç±» MessageListener æ¶ˆæ¯ç›‘å¬å™¨","text":"æ ¸å¿ƒç±»ä»‹ç» ConnectionFactory ç”¨äºç®¡ç†è¿æ¥çš„è¿æ¥å·¥å‚ ä¸€ä¸ªSpringä¸ºæˆ‘ä»¬æä¾›çš„è¿æ¥æ±  Spring ä¸­æä¾›äº† SingleConnectionFactory å’Œ CachingConnectionFactory JmsTemplate ç”¨äºå‘é€å’Œæ¥æ”¶æ¶ˆæ¯çš„æ¨¡æ¿ç±» MessageListener æ¶ˆæ¯ç›‘å¬å™¨ åœ¨pom.xmlä¸­æ·»åŠ ActiveMQä¾èµ–12345678910111213141516171819202122232425262728293031323334353637383940414243&lt;properties&gt; &lt;spring.version&gt;4.2.5.RELEASE&lt;/spring.version&gt;&lt;/properties&gt;&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;junit&lt;/groupId&gt; &lt;artifactId&gt;junit&lt;/artifactId&gt; &lt;version&gt;4.12&lt;/version&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-context&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-jms&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-test&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.projectlombok&lt;/groupId&gt; &lt;artifactId&gt;lombok&lt;/artifactId&gt; &lt;version&gt;1.16.20&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt; &lt;artifactId&gt;activemq-core&lt;/artifactId&gt; &lt;version&gt;5.7.0&lt;/version&gt; &lt;exclusions&gt; &lt;exclusion&gt; &lt;artifactId&gt;spring-context&lt;/artifactId&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;/exclusion&gt; &lt;/exclusions&gt; &lt;/dependency&gt;&lt;/dependencies&gt; é˜Ÿåˆ—æ¨¡å¼æ¼”ç¤ºç”Ÿäº§è€…å‘é€æ¶ˆæ¯ç”Ÿäº§è€…å‘é€æ¶ˆæ¯æ¥å£ ProducerService.java 12345678910public interface ProducerService &#123; /** * å‘é€æ¶ˆæ¯ * * @param message */ void sendMessage(String message);&#125; ç”Ÿäº§è€…å‘é€æ¶ˆæ¯æ¥å£å®ç°ç±» ProducerServiceImpl.java 1234567891011121314151617181920public class ProducerServiceImpl implements ProducerService &#123; @Autowired private JmsTemplate jmsTemplate; @Resource(name = \"queueDestination\") private Destination destination; public void sendMessage(final String message) &#123; // ä½¿ç”¨jmsTemplateå‘é€æ¶ˆæ¯ jmsTemplate.send(destination, new MessageCreator() &#123; // åˆ›å»ºä¸€ä¸ªæ¶ˆæ¯ public Message createMessage(Session session) throws JMSException &#123; TextMessage textMessage = session.createTextMessage(message); return textMessage; &#125; &#125;); System.out.println(\"å‘é€æ¶ˆæ¯ï¼š\" + message); &#125;&#125; ç”Ÿäº§è€…å…¬å…±é…ç½®æ–‡ä»¶ common.xml 1234567891011121314151617181920212223242526&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;beans xmlns=\"http://www.springframework.org/schema/beans\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:context=\"http://www.springframework.org/schema/context\" xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\"&gt; &lt;!-- å¯ç”¨æ³¨è§£ --&gt; &lt;context:annotation-config/&gt; &lt;!-- active mq ä¸ºæˆ‘ä»¬æä¾›çš„ ConnectionFactory --&gt; &lt;bean id=\"targetConnectionFactory\" class=\"org.apache.activemq.ActiveMQConnectionFactory\"&gt; &lt;property name=\"brokerURL\" value=\"tcp://localhost:61616\"/&gt; &lt;/bean&gt; &lt;!-- spring jms ä¸ºæˆ‘ä»¬æä¾›çš„è¿æ¥æ± --&gt; &lt;bean id=\"connectionFactory\" class=\"org.springframework.jms.connection.SingleConnectionFactory\"&gt; &lt;property name=\"targetConnectionFactory\" ref=\"targetConnectionFactory\"/&gt; &lt;/bean&gt; &lt;!-- ä¸€ä¸ªé˜Ÿåˆ—ç›®çš„åœ°ï¼Œç‚¹å¯¹ç‚¹çš„--&gt; &lt;bean id=\"queueDestination\" class=\"org.apache.activemq.command.ActiveMQQueue\"&gt; &lt;constructor-arg value=\"queue-spring\"&gt;&lt;/constructor-arg&gt; &lt;/bean&gt; &lt;/beans&gt; ç”Ÿäº§è€…é…ç½®æ–‡ä»¶ producer.xml å¯¼å…¥å…¬å…± common.xml æ–‡ä»¶ 1234567891011121314151617&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;beans xmlns=\"http://www.springframework.org/schema/beans\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"&gt; &lt;!-- å¼•å…¥å…¬å…±é…ç½®--&gt; &lt;import resource=\"common.xml\"/&gt; &lt;!-- é…ç½®JmsTemplateï¼Œç”¨äºå‘é€æ¶ˆæ¯--&gt; &lt;bean id=\"jmsTemplate\" class=\"org.springframework.jms.core.JmsTemplate\"&gt; &lt;property name=\"connectionFactory\" ref=\"connectionFactory\"/&gt; &lt;/bean&gt; &lt;!-- é…ç½®è‡ªå·±å®šä¹‰çš„bean--&gt; &lt;bean class=\"com.gulj.spring.jms.producer.ProducerServiceImpl\"&gt;&lt;/bean&gt;&lt;/beans&gt; ç”Ÿäº§è€…å¯åŠ¨ç±» AppProducer.java è¿è¡Œmainæ–¹æ³•ï¼Œå¯åŠ¨ç”Ÿäº§è€…å‘é€æ¶ˆæ¯ 12345678910public class AppProducer &#123; public static void main(String[] args) &#123; ClassPathXmlApplicationContext context = new ClassPathXmlApplicationContext(\"producer.xml\"); ProducerService producerService = context.getBean(ProducerService.class); for (int i = 0; i &lt; 80; i++) &#123; producerService.sendMessage(\"test spring jms\" + i); &#125; context.close(); &#125;&#125; ç”Ÿäº§è€…å‘é€æ¶ˆæ¯è¿è¡Œæ•ˆæœå›¾ æ¶ˆè´¹è€…æ¶ˆè´¹æ¶ˆæ¯æ¶ˆè´¹è€…ç›‘å¬æ¶ˆæ¯è¿›è¡Œæ¶ˆè´¹ ConsumerMessageListener.java123456789101112public class ConsumerMessageListener implements MessageListener &#123; public void onMessage(Message message) &#123; TextMessage textMessage = (TextMessage) message; try &#123; System.out.println(\"æ¥æ”¶åˆ°çš„æ¶ˆæ¯ï¼š\" + textMessage.getText()); &#125; catch (JMSException e) &#123; e.printStackTrace(); &#125; &#125;&#125; æ¶ˆè´¹è€…é…ç½®æ–‡ä»¶ consumer.xml 123456789101112131415161718192021&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;beans xmlns=\"http://www.springframework.org/schema/beans\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"&gt; &lt;!-- å¼•å…¥å…¬å…±é…ç½® --&gt; &lt;import resource=\"common.xml\"/&gt; &lt;!-- é…ç½®è‡ªå®šä¹‰çš„æ¶ˆæ¯ç›‘å¬å™¨--&gt; &lt;bean id=\"consumerMessageListener\" class=\"com.gulj.spring.jms.consumer.ConsumerMessageListener\"&gt;&lt;/bean&gt; &lt;!-- é…ç½®æ¶ˆæ¯ç›‘å¬å®¹å™¨ --&gt; &lt;bean id=\"jmsContainer\" class=\"org.springframework.jms.listener.DefaultMessageListenerContainer\"&gt; &lt;!-- è¿æ¥å·¥å‚ --&gt; &lt;property name=\"connectionFactory\" ref=\"connectionFactory\"/&gt; &lt;!-- é˜Ÿåˆ—åç§° --&gt; &lt;property name=\"destination\" ref=\"queueDestination\"/&gt; &lt;!--æ¶ˆæ¯ç›‘å¬å™¨--&gt; &lt;property name=\"messageListener\" ref=\"consumerMessageListener\"/&gt; &lt;/bean&gt;&lt;/beans&gt; æ¶ˆè´¹è€…å¯åŠ¨ç±» AppConsumer.java ç›´æ¥è¿è¡Œmainæ–¹æ³•ï¼Œç›‘å¬æ¶ˆæ¯è¿›è¡Œæ¶ˆè´¹ 123456public class AppConsumer &#123; public static void main(String[] args) &#123; ApplicationContext context = new ClassPathXmlApplicationContext(\"consumer.xml\"); &#125;&#125; æ¶ˆè´¹è€…æ¶ˆè´¹æ¶ˆæ¯è¿è¡Œæ•ˆæœå›¾","categories":[{"name":"Java","slug":"Java","permalink":"http://www.gulj.cn/categories/Java/"}],"tags":[{"name":"activemq","slug":"activemq","permalink":"http://www.gulj.cn/tags/activemq/"}]},{"title":"ActiveMQå…¥é—¨æ•™ç¨‹","slug":"ActiveMQå…¥é—¨æ•™ç¨‹","date":"2018-06-12T07:10:18.000Z","updated":"2019-02-14T07:07:12.858Z","comments":true,"path":"2018/06/12/ActiveMQå…¥é—¨æ•™ç¨‹/","link":"","permalink":"http://www.gulj.cn/2018/06/12/ActiveMQå…¥é—¨æ•™ç¨‹/","excerpt":"ä»‹ç»ActiveMQActiveMQ æ˜¯Apacheå‡ºçš„ï¼Œæœ€æµè¡Œçš„ï¼ŒåŠŸèƒ½å¼ºå¤§çš„å³æ—¶é€šè®¯å’Œé›†æˆæ¨¡å¼çš„å¼€æºæœåŠ¡å™¨ã€‚ActiveMQ æ˜¯ä¸€ä¸ªå®Œå…¨æ”¯æŒJMS1.1å’ŒJ2EE 1.4è§„èŒƒçš„ JMS Providerå®ç°ã€‚æä¾›å®¢æˆ·ç«¯æ”¯æŒè·¨è¯­è¨€å’Œåè®®ï¼Œå¸¦æœ‰æ˜“äºåœ¨å……åˆ†æ”¯æŒJMS 1.1å’Œ1.4ä½¿ç”¨J2EEä¼ä¸šé›†æˆæ¨¡å¼å’Œè®¸å¤šå…ˆè¿›çš„åŠŸèƒ½ã€‚ ä»€ä¹ˆæ˜¯JMSï¼ŸJavaæ¶ˆæ¯æœåŠ¡(Java Message Service) å³JMSï¼Œæ˜¯ä¸€ä¸ªjavaå¹³å°ä¸­å…³äºé¢å‘æ¶ˆæ¯ä¸­é—´ä»¶çš„APIï¼Œç”¨äºåœ¨ä¸¤ä¸ªåº”ç”¨ç¨‹åºä¹‹é—´ï¼Œæˆ–åˆ†å¸ƒå¼ç³»ç»Ÿä¸­å‘é€æ¶ˆæ¯ï¼Œè¿›è¡Œå¼‚æ­¥é€šä¿¡ã€‚ ä»€ä¹ˆæ˜¯AMQPï¼ŸAMQP(advanced message queuing protocol) æ˜¯ä¸€ä¸ªæä¾›ç»Ÿä¸€æ¶ˆæ¯æœåŠ¡çš„åº”ç”¨å±‚æ ‡å‡†å±‚åè®®ï¼ŒåŸºäºæ­¤åè®®çš„å®¢æˆ·ç«¯ä¸æ¶ˆæ¯ä¸­é—´ä»¶å¯ä¼ é€’æ€§ï¼Œå¹¶ä¸å—å®¢æˆ·ç«¯/ä¸­é—´ä»¶ä¸åŒäº§å“ï¼Œä¸åŒå¼€å‘è¯­è¨€ç­‰æ¡ä»¶çš„é™åˆ¶ã€‚","text":"ä»‹ç»ActiveMQActiveMQ æ˜¯Apacheå‡ºçš„ï¼Œæœ€æµè¡Œçš„ï¼ŒåŠŸèƒ½å¼ºå¤§çš„å³æ—¶é€šè®¯å’Œé›†æˆæ¨¡å¼çš„å¼€æºæœåŠ¡å™¨ã€‚ActiveMQ æ˜¯ä¸€ä¸ªå®Œå…¨æ”¯æŒJMS1.1å’ŒJ2EE 1.4è§„èŒƒçš„ JMS Providerå®ç°ã€‚æä¾›å®¢æˆ·ç«¯æ”¯æŒè·¨è¯­è¨€å’Œåè®®ï¼Œå¸¦æœ‰æ˜“äºåœ¨å……åˆ†æ”¯æŒJMS 1.1å’Œ1.4ä½¿ç”¨J2EEä¼ä¸šé›†æˆæ¨¡å¼å’Œè®¸å¤šå…ˆè¿›çš„åŠŸèƒ½ã€‚ ä»€ä¹ˆæ˜¯JMSï¼ŸJavaæ¶ˆæ¯æœåŠ¡(Java Message Service) å³JMSï¼Œæ˜¯ä¸€ä¸ªjavaå¹³å°ä¸­å…³äºé¢å‘æ¶ˆæ¯ä¸­é—´ä»¶çš„APIï¼Œç”¨äºåœ¨ä¸¤ä¸ªåº”ç”¨ç¨‹åºä¹‹é—´ï¼Œæˆ–åˆ†å¸ƒå¼ç³»ç»Ÿä¸­å‘é€æ¶ˆæ¯ï¼Œè¿›è¡Œå¼‚æ­¥é€šä¿¡ã€‚ ä»€ä¹ˆæ˜¯AMQPï¼ŸAMQP(advanced message queuing protocol) æ˜¯ä¸€ä¸ªæä¾›ç»Ÿä¸€æ¶ˆæ¯æœåŠ¡çš„åº”ç”¨å±‚æ ‡å‡†å±‚åè®®ï¼ŒåŸºäºæ­¤åè®®çš„å®¢æˆ·ç«¯ä¸æ¶ˆæ¯ä¸­é—´ä»¶å¯ä¼ é€’æ€§ï¼Œå¹¶ä¸å—å®¢æˆ·ç«¯/ä¸­é—´ä»¶ä¸åŒäº§å“ï¼Œä¸åŒå¼€å‘è¯­è¨€ç­‰æ¡ä»¶çš„é™åˆ¶ã€‚ JMS å’Œ AMQP å¯¹æ¯” ActiveMQã€RabbitMQ å’Œ Kafka ç®€å•å¯¹æ¯” JMSè§„èŒƒJMSç›¸å…³æ¦‚å¿µ æ¶ˆè´¹è€…/è®¢é˜…è€… ï¼š æ¥æ”¶å¹¶å¤„ç†æ¶ˆæ¯çš„å®¢æˆ·ç«¯ æ¶ˆæ¯ ï¼š åº”ç”¨ç¨‹åºä¹‹é—´ä¼ é€’çš„æ•°æ®å†…å®¹ æ¶ˆæ¯æ¨¡å¼ ï¼š åœ¨å®¢æˆ·ç«¯ä¹‹é—´ä¼ é€’æ¶ˆæ¯çš„æ–¹å¼ï¼ŒJMSä¸­å®šä¹‰äº†ä¸»é¢˜å’Œé˜Ÿåˆ—ä¸¤ç§æ¨¡å¼ JMSæ¶ˆæ¯æ¨¡å¼â€”é˜Ÿåˆ—æ¨¡å‹ å®¢æˆ·ç«¯åŒ…æ‹¬ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€… é˜Ÿåˆ—ä¸­çš„æ¶ˆæ¯åªèƒ½è¢«ä¸€ä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹ æ¶ˆè´¹è€…å¯ä»¥éšæ—¶æ¶ˆè´¹é˜Ÿåˆ—ä¸­çš„æ¶ˆæ¯ é˜Ÿåˆ—æ¨¡å‹ç¤ºæ„å›¾ JMSæ¶ˆæ¯æ¨¡å¼â€”ä¸»é¢˜æ¨¡å‹ å®¢æˆ·ç«¯åŒ…æ‹¬ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€… ä¸»é¢˜ä¸­çš„æ¶ˆæ¯è¢«æ‰€æœ‰æ¶ˆè´¹è€…æ¶ˆè´¹ æ¶ˆè´¹è€…å¿…é¡»å…ˆè®¢é˜…ï¼Œæ‰èƒ½æ¶ˆè´¹å‘é€åˆ°ä¸»é¢˜ä¸­çš„æ¶ˆæ¯ ä¸»é¢˜æ¨¡å‹ç¤ºæ„å›¾ JMSç¼–ç æ¥å£ ConnectionFactory ç”¨äºåˆ›å»ºè¿æ¥åˆ°æ¶ˆæ¯ä¸­é—´ä»¶çš„è¿æ¥å·¥å‚ Connection ä»£è¡¨äº†åº”ç”¨ç¨‹åºå’Œæ¶ˆæ¯æœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡é“¾è·¯ Destination æŒ‡æ¶ˆæ¯å‘å¸ƒå’Œæ¥æ”¶çš„åœ°ç‚¹ï¼ŒåŒ…æ‹¬é˜Ÿåˆ—æˆ–ä¸»é¢˜ Session è¡¨ç¤ºä¸€ä¸ªå•çº¿ç¨‹çš„ä¸Šä¸‹æ–‡ï¼Œç”¨äºå‘é€å’Œæ¥æ”¶æ¶ˆæ¯ MessageConsumer ç”±ä¼šè¯åˆ›å»ºï¼Œç”¨äºæ¥æ”¶å‘é€åˆ°ç›®æ ‡çš„æ¶ˆæ¯ MessageProducer ç”±ä¼šè¯åˆ›å»ºï¼Œç”¨äºå‘é€æ¶ˆæ¯åˆ°ç›®æ ‡ Message æ˜¯åœ¨æ¶ˆè´¹è€…å’Œç”Ÿäº§è€…ä¹‹é—´ä¼ é€çš„å¯¹è±¡ï¼Œæ¶ˆæ¯å¤´ï¼Œä¸€ç»„æ¶ˆæ¯å±æ€§ï¼Œä¸€ä¸ªæ¶ˆæ¯ä½“ JMSç¼–ç æ¥å£ä¹‹é—´çš„å…³ç³» å®‰è£… æŸ¥è¯¢Dockeré•œåƒ 1$ docker search activemq ä¸‹è½½Dockeré•œåƒ 1$ docker pull webcenter/activemq åˆ›å»º&amp;è¿è¡ŒActiveMQå®¹å™¨ 1$ docker run -d --name myactivemq -p 61616:61616 -p 8161:8161 webcenter/activemq æŸ¥çœ‹WEBç®¡ç†é¡µé¢ æµè§ˆå™¨è¾“å…¥http://127.0.0.1:8161/ ç‚¹å‡»Manage ActiveMQ brokerä½¿ç”¨é»˜è®¤è´¦å·/å¯†ç ï¼šadmin/adminè¿›å…¥æŸ¥çœ‹ é˜Ÿåˆ—æ¨¡å¼æ¶ˆæ¯å’Œä¸»é¢˜æ¨¡å¼æ¶ˆæ¯ä»£ç æ¼”ç¤ºé˜Ÿåˆ—æ¨¡å¼æ¶ˆæ¯æ¼”ç¤º ç”Ÿäº§è€… AppProducer.java 1234567891011121314151617181920212223242526272829303132333435363738394041public class AppProducer &#123; // MQæœåŠ¡å™¨åœ°å€ private static final String BROKER_URL = \"tcp://127.0.0.1:61616\"; // é˜Ÿåˆ—åç§° private static final String QUEUE_NAME = \"queue-test\"; public static void main(String[] args) throws JMSException &#123; // 1.åˆ›å»ºè¿æ¥å·¥å‚ ConnectionFactory factory = new ActiveMQConnectionFactory(BROKER_URL); // 2.åˆ›å»ºè¿æ¥ Connection connection = factory.createConnection(); // 3.å¯åŠ¨è¿æ¥ connection.start(); // 4.åˆ›å»ºä¼šè¯ Session session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE); // 5.åˆ›å»ºä¸€ä¸ªç›®æ ‡ Destination destination = session.createQueue(QUEUE_NAME); // 6.åˆ›å»ºä¸€ä¸ªç”Ÿäº§è€… MessageProducer producer = session.createProducer(destination); // å¾ªç¯å‘é€æ¶ˆæ¯ for (int i = 0; i &lt; 100; i++) &#123; // åˆ›å»ºæ¶ˆæ¯ TextMessage textMessage = session.createTextMessage(\"ã€test-activemq-producerã€‘\" + i); // å‘å¸ƒæ¶ˆæ¯ producer.send(textMessage); System.out.println(\"æ¶ˆæ¯å‘é€æˆåŠŸï¼š\" + textMessage); &#125; // å…³é—­è¿æ¥ connection.close(); &#125;&#125; æ¶ˆè´¹è€… AppConsumer.java (ç”±äºæ¶ˆè´¹è€…çš„åˆ›å»ºæµç¨‹å’Œç”Ÿäº§è€…éå¸¸ç±»ä¼¼ï¼Œç‰¹æ„ç”¨ ActiveMqHelper ç±»è¿›è¡Œç®€å•å°è£…ä¸€ä¸‹) 1234567891011121314151617181920212223242526272829303132public class AppConsumer &#123; public static void main(String[] args) throws JMSException &#123; // åˆ›å»ºè¿æ¥ Connection connection = ActiveMqHelper.createConnection(); // åˆ›å»ºä¼šè¯ Session session = ActiveMqHelper.createSession(connection); // åˆ›å»ºä¸€ä¸ªç›®æ ‡ Destination destination = ActiveMqHelper.createQueue(session); // åˆ›å»ºä¸€ä¸ªæ¶ˆè´¹è€… MessageConsumer consumer = session.createConsumer(destination); // æ¶ˆè´¹è€…ç›‘å¬è¦æ¶ˆè´¹çš„ä¿¡æ¯ consumer.setMessageListener(message -&gt; &#123; // æ¥æ”¶åˆ°çš„æ¶ˆæ¯å†…å®¹c TextMessage textMessage = (TextMessage) message; try &#123; System.out.println(\"ã€æ¶ˆè´¹è€…æ¥æ”¶åˆ°çš„æ¶ˆæ¯ã€‘\" + textMessage.getText()); &#125; catch (JMSException e) &#123; e.printStackTrace(); &#125; &#125;); // å…³é—­è¿æ¥,å› ä¸ºç›‘å¬æ˜¯å¼‚æ­¥æ“ä½œï¼Œ // å¦‚æœäº‹å…ˆå…³é—­è¿æ¥ï¼Œç›‘å¬æ“ä½œè¿˜æœªå¤„ç†å®Œæˆï¼Œåˆ™ä¼šæ”¶ä¸åˆ°æ¶ˆæ¯ï¼Œ // æ­£å¸¸å¤„ç†é€»è¾‘æ˜¯åœ¨ç›‘å¬äº‹ä»¶å¤„ç†å®Œæˆåï¼Œå†é‡Šæ”¾è¿æ¥ // connection.close(); &#125;&#125; MQå¸®åŠ©ç±» ActiveMqHelper.java 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869public class ActiveMqHelper &#123; // MQæœåŠ¡å™¨åœ°å€ private static final String BROKER_URL = \"tcp://127.0.0.1:61616\"; // é˜Ÿåˆ—åç§° private static final String QUEUE_NAME = \"queue-test\"; // ä¸»é¢˜åç§° private static final String TOPIC_NAME = \"topic-test\"; /** * åˆ›å»ºè¿æ¥ * * @return * @throws JMSException */ public static Connection createConnection() throws JMSException &#123; // 1.åˆ›å»ºè¿æ¥å·¥å‚ ConnectionFactory factory = new ActiveMQConnectionFactory(BROKER_URL); // 2.åˆ›å»ºè¿æ¥ Connection connection = factory.createConnection(); // 3.å¯åŠ¨è¿æ¥ connection.start(); return connection; &#125; /** * åˆ›å»ºä¼šè¯ * * @param connection * @return * @throws JMSException */ public static Session createSession(Connection connection) throws JMSException &#123; // 4.åˆ›å»ºä¼šè¯ return connection.createSession(false, Session.AUTO_ACKNOWLEDGE); &#125; /** * åˆ›å»ºé˜Ÿåˆ—ç›®æ ‡ * * @param session * @return * @throws JMSException */ public static Destination createQueue(Session session) throws JMSException &#123; // 5.åˆ›å»ºä¸€ä¸ªé˜Ÿåˆ—ç›®æ ‡ return session.createQueue(QUEUE_NAME); &#125; /** * åˆ›å»ºä¸»é¢˜ç›®æ ‡ * * @param session * @return * @throws JMSException */ public static Destination createTopic(Session session) throws JMSException &#123; // 5.åˆ›å»ºä¸€ä¸ªä¸»é¢˜ç›®æ ‡ return session.createTopic(TOPIC_NAME); &#125;&#125; ä»£ç æ•ˆæœå›¾å±•ç¤º ä¸»é¢˜æ¨¡å¼æ¶ˆæ¯æ¼”ç¤ºç”Ÿäº§è€… AppProducer.java (ä¸»é¢˜æ¨¡å¼çš„ä»£ç ç¤ºä¾‹å’Œé˜Ÿåˆ—æ¨¡å¼çš„ä»£ç ç¤ºä¾‹åŸºæœ¬ç›¸åŒï¼Œåªæœ‰åœ¨åˆ›å»ºä¸»é¢˜ç›®æ ‡çš„æ—¶å€™ä¸åŒï¼Œè¿˜è¯·è€é“è‡ªè¡Œå®ç°) æ¶ˆè´¹è€…åŒç†å‚è€ƒé˜Ÿåˆ—æ¨¡å¼ä»£ç å®ç° 12345678910public class AppProducer &#123; public static void main(String[] args) throws JMSException &#123; // .... // 3.åˆ›å»ºä¸»é¢˜ç›®æ ‡ (ä¸é˜Ÿåˆ—æ¨¡å¼å”¯ä¸€åŒºåˆ«çš„ä»£ç ï¼Œå…¶å®ƒéƒ½ä¸€æ ·) Destination destination = session.createTopic(TOPIC_NAME); // .... &#125;&#125; ä¸»é¢˜æ¨¡å¼æ³¨æ„ç‚¹ï¼š1ã€å…ˆå¯åŠ¨AppConsumer.javaç±»ï¼ˆæ¶ˆè´¹è€…å…ˆè¿›è¡Œè®¢é˜…ï¼‰ï¼Œåœ¨å¯åŠ¨ AppProvider.java ç±»ï¼ˆç”Ÿäº§è€…è¿›è¡Œç”Ÿäº§ï¼‰è¿™æ ·æ¶ˆè´¹è€…æ‰èƒ½ç›‘å¬åˆ°ç”Ÿäº§è€…ç”Ÿæˆçš„æ¶ˆæ¯è¿›è¡Œæ¶ˆè´¹ï¼›é˜Ÿåˆ—æ¨¡å¼æ²¡æœ‰æ­¤è¦æ±‚2ã€ç”Ÿäº§è€…ç”Ÿäº§100æ¡æ¶ˆæ¯ï¼Œè‹¥æœ‰å¤šä¸ªæ¶ˆè´¹è€…ï¼Œæ¯ä¸ªæ¶ˆè´¹è€…å‡æ¶ˆè´¹100æ¡æ¶ˆæ¯ï¼›è€Œé˜Ÿåˆ—æ¨¡å¼ï¼Œåˆ™æ˜¯æ¯ä¸ªæ¶ˆè´¹è€…åˆè®¡èµ·æ¥æ¶ˆè´¹è¿™ 100 æ¡æ¶ˆæ¯ ä»£ç æ•ˆæœå›¾å±•ç¤º","categories":[{"name":"Java","slug":"Java","permalink":"http://www.gulj.cn/categories/Java/"}],"tags":[{"name":"activemq","slug":"activemq","permalink":"http://www.gulj.cn/tags/activemq/"}]},{"title":"Mac OSXå¹³å°ä½¿ç”¨jenvç®¡ç†å¤šä¸ªJavaç‰ˆæœ¬","slug":"OSXå¹³å°ä½¿ç”¨jenvç®¡ç†å¤šä¸ªJavaç‰ˆæœ¬","date":"2018-06-08T08:45:28.000Z","updated":"2019-02-14T07:07:12.862Z","comments":true,"path":"2018/06/08/OSXå¹³å°ä½¿ç”¨jenvç®¡ç†å¤šä¸ªJavaç‰ˆæœ¬/","link":"","permalink":"http://www.gulj.cn/2018/06/08/OSXå¹³å°ä½¿ç”¨jenvç®¡ç†å¤šä¸ªJavaç‰ˆæœ¬/","excerpt":"JDKå®‰è£… JDKä¸‹è½½ jdk7ä¸‹è½½é“¾æ¥ jdk8ä¸‹è½½é“¾æ¥ ä¸‹è½½è‡ªå·±éœ€è¦çš„æ‰©å±•åä¸ºdmgçš„Jdkç‰ˆæœ¬ï¼ŒæŒ‰ç…§æç¤ºç›´æ¥ä¸€æ­¥æ­¥å®‰è£…å³å¯ é…ç½®JDKç¯å¢ƒå˜é‡ æ‰“å¼€ vim ~/.bash_profile æ–‡ä»¶ è¿›è¡Œæ·»åŠ  1234export JAVA_8_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_112.jdk/Contents/Homeexport JAVA_7_HOME=/Library/Java/JavaVirtualMachines/jdk1.7.0_80.jdk/Contents/Home# é»˜è®¤æ¿€æ´» jdk8export JAVA_HOME=$JAVA_8_HOME","text":"JDKå®‰è£… JDKä¸‹è½½ jdk7ä¸‹è½½é“¾æ¥ jdk8ä¸‹è½½é“¾æ¥ ä¸‹è½½è‡ªå·±éœ€è¦çš„æ‰©å±•åä¸ºdmgçš„Jdkç‰ˆæœ¬ï¼ŒæŒ‰ç…§æç¤ºç›´æ¥ä¸€æ­¥æ­¥å®‰è£…å³å¯ é…ç½®JDKç¯å¢ƒå˜é‡ æ‰“å¼€ vim ~/.bash_profile æ–‡ä»¶ è¿›è¡Œæ·»åŠ  1234export JAVA_8_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_112.jdk/Contents/Homeexport JAVA_7_HOME=/Library/Java/JavaVirtualMachines/jdk1.7.0_80.jdk/Contents/Home# é»˜è®¤æ¿€æ´» jdk8export JAVA_HOME=$JAVA_8_HOME ç¼–è¾‘å®Œæˆï¼Œé‡æ–°åŠ è½½ .bash_profile 1$ source ~/.bash_profile jEnvå®‰è£… å®‰è£… 1$ brew install jenv é…ç½® å®‰è£…äº†zshï¼Œé…ç½®å¦‚ä¸‹12$ echo 'export PATH=\"$HOME/.jenv/bin:$PATH\"' &gt;&gt; ~/.zshrc$ echo 'eval \"$(jenv init -)\"' &gt;&gt; ~/.zshrc å¦‚æœæ˜¯é»˜è®¤çš„bash 12$ echo 'export PATH=\"$HOME/.jenv/bin:$PATH\"' &gt;&gt; ~/.bash_profile$ echo 'eval \"$(jenv init -)\"' &gt;&gt; ~/.bash_profilec jEnvé…ç½®JDKæŸ¥çœ‹å®‰è£…çš„javaç‰ˆæœ¬ï¼Œå¦‚æœæˆ‘ä»¬ä¸€å¼€å§‹æœªæ·»åŠ jdkï¼Œæ‰§è¡Œjenv versions åº”è¯¥æ˜¯ç©ºçš„ï¼Œ* å·ä½ç½®è¡¨ç¤ºå½“å‰çš„jdkç‰ˆæœ¬ 12345678$ jenv versions system 1.7* 1.7.0.80 (set by /Users/gulj/.java-version) 1.8 1.8.0.112 oracle64-1.7.0.80 oracle64-1.8.0.112 é‡å¯ä¸‹terminalï¼Œä¸ºjEnvæ·»åŠ javaç‰ˆæœ¬ æ·»åŠ jdk7 1$ jenv add /Library/Java/JavaVirtualMachines/jdk1.7.0_80.jdk/Contents/Home æ·»åŠ jdk8 1$ jenv add /Library/Java/JavaVirtualMachines/jdk1.8.0_112.jdk/Contents/Home æ·»åŠ å®Œjdk7å’Œjdk8ä¹‹åï¼Œå†æ‰§è¡Œ jenv versions å‘½ä»¤å°±ä¼šçœ‹åˆ°æˆ‘ä»¬æ·»åŠ çš„jdk jEnvå¸¸ç”¨å‘½ä»¤ ç§»é™¤æŒ‡å®šç‰ˆæœ¬jdk 1$ jenv remove 1.8.0.111 é€‰æ‹©ä¸€ä¸ªjdkç‰ˆæœ¬ 1$ jenv local 1.8.0.111 è®¾ç½®é»˜è®¤çš„jdkç‰ˆæœ¬ 1$ jenv global 1.8.0.111 æŸ¥çœ‹å½“å‰ç‰ˆæœ¬jdkçš„è·¯å¾„ 1jenv which java","categories":[{"name":"Java","slug":"Java","permalink":"http://www.gulj.cn/categories/Java/"}],"tags":[{"name":"mac","slug":"mac","permalink":"http://www.gulj.cn/tags/mac/"}]},{"title":"Mac OSXå¹³å°å¼€å‘å·¥å…·å’Œå¸¸ç”¨è½¯ä»¶æ¨è","slug":"OSXå¹³å°å¼€å‘å·¥å…·å’Œå¸¸ç”¨è½¯ä»¶æ¨è","date":"2018-06-07T01:30:46.000Z","updated":"2019-02-14T07:07:12.863Z","comments":true,"path":"2018/06/07/OSXå¹³å°å¼€å‘å·¥å…·å’Œå¸¸ç”¨è½¯ä»¶æ¨è/","link":"","permalink":"http://www.gulj.cn/2018/06/07/OSXå¹³å°å¼€å‘å·¥å…·å’Œå¸¸ç”¨è½¯ä»¶æ¨è/","excerpt":"å¼€å‘å·¥å…· Beyond Compare 4 Beyond Compare æ˜¯ä¸€æ¬¾å¼ºå¤§ä¸“ä¸šçš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹å¯¹æ¯”å·¥å…·ã€‚ä½¿ç”¨å®ƒå¯ä»¥å¾ˆæ–¹ä¾¿åœ°æ¯”è¾ƒå‡ºä¸¤ä¸ªæ–‡ä»¶æˆ–æ–‡ä»¶å¤¹çš„å·®å¼‚ï¼Œç›¸å·®çš„æ¯ä¸€ä¸ªå­—èŠ‚ç”¨é¢œè‰²åŠ ä»¥æ ‡è¯†ï¼Œè®©æ‚¨æŸ¥çœ‹æ–¹ä¾¿ï¼Œæ”¯æŒä¼—å¤šç§æ ¼å¼çš„å¯¹æ¯”ã€‚åªéœ€ä½¿ç”¨ç®€å•æ“ä½œæ–¹å¼æ–¹å¯å¼€å¯å¿«æ·çœäº‹çš„æ–‡ä»¶å¯¹æ¯”ä½“éªŒï¼Œæ‰¾å‡ºæ‚¨æ‰€éœ€å·®å¼‚ã€åˆå¹¶å˜åŒ–ï¼Œç„¶ååŒæ­¥æ–‡ä»¶ï¼Œå¹¶ç”ŸæˆæŠ¥å‘Šä¸€æ°”å‘µæˆã€‚ å› ç‰ˆæœ¬é—®é¢˜ï¼Œä¸å†æä¾›ä¸‹è½½ï¼Œè¿˜è¯·å¤§å®¶æ”¯æŒæ­£ç‰ˆï¼","text":"å¼€å‘å·¥å…· Beyond Compare 4 Beyond Compare æ˜¯ä¸€æ¬¾å¼ºå¤§ä¸“ä¸šçš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹å¯¹æ¯”å·¥å…·ã€‚ä½¿ç”¨å®ƒå¯ä»¥å¾ˆæ–¹ä¾¿åœ°æ¯”è¾ƒå‡ºä¸¤ä¸ªæ–‡ä»¶æˆ–æ–‡ä»¶å¤¹çš„å·®å¼‚ï¼Œç›¸å·®çš„æ¯ä¸€ä¸ªå­—èŠ‚ç”¨é¢œè‰²åŠ ä»¥æ ‡è¯†ï¼Œè®©æ‚¨æŸ¥çœ‹æ–¹ä¾¿ï¼Œæ”¯æŒä¼—å¤šç§æ ¼å¼çš„å¯¹æ¯”ã€‚åªéœ€ä½¿ç”¨ç®€å•æ“ä½œæ–¹å¼æ–¹å¯å¼€å¯å¿«æ·çœäº‹çš„æ–‡ä»¶å¯¹æ¯”ä½“éªŒï¼Œæ‰¾å‡ºæ‚¨æ‰€éœ€å·®å¼‚ã€åˆå¹¶å˜åŒ–ï¼Œç„¶ååŒæ­¥æ–‡ä»¶ï¼Œå¹¶ç”ŸæˆæŠ¥å‘Šä¸€æ°”å‘µæˆã€‚ å› ç‰ˆæœ¬é—®é¢˜ï¼Œä¸å†æä¾›ä¸‹è½½ï¼Œè¿˜è¯·å¤§å®¶æ”¯æŒæ­£ç‰ˆï¼ IntelliJ IDEA IntelliJ IDEA ä¸»è¦ç”¨äºæ”¯æŒ Javaã€Scalaã€Groovy ç­‰è¯­è¨€çš„å¼€å‘å·¥å…·ï¼ŒåŒæ—¶å…·å¤‡æ”¯æŒç›®å‰ä¸»æµçš„æŠ€æœ¯å’Œæ¡†æ¶ï¼Œæ“…é•¿äºä¼ä¸šåº”ç”¨ã€ç§»åŠ¨åº”ç”¨å’Œ Web åº”ç”¨çš„å¼€å‘ IntelliJ IDEA ä¸‹è½½ Navicat Premium 12 Navicat Premiumæ˜¯ä¸€å¥—æ•°æ®åº“ç®¡ç†å·¥å…·ï¼Œç»“åˆäº†å…¶å®ƒNavicatæˆå‘˜çš„åŠŸèƒ½ï¼Œæ”¯æŒå•ä¸€ç¨‹åºåŒæ™‚è¿æ¥åˆ°MySQLã€MariaDBã€SQL Serverã€SQLiteã€Oracleå’ŒPostgreSQLæ•°æ®åº“ã€‚Navicat Premiumå¯æ»¡è¶³ç°ä»Šæ•°æ®åº“ç®¡ç†ç³»ç»Ÿçš„ä½¿ç”¨åŠŸèƒ½ï¼ŒåŒ…æ‹¬å­˜å‚¨è¿‡ç¨‹ã€äº‹ä»¶ã€è§¦å‘å™¨ã€å‡½æ•°ã€è§†å›¾ç­‰ã€‚ Navicat Premium 12.0.26 Macä¸­æ–‡ç ´è§£ç‰ˆä¸‹è½½ å¯†ç : x643 SwitchHosts ç”¨äºå¿«é€Ÿåˆ‡æ¢ hosts æ–‡ä»¶çš„å°ç¨‹åºï¼ŒåŸºäº Electron å¼€å‘ï¼ŒåŒæ—¶ä½¿ç”¨äº† Reactã€Ant Design ä»¥åŠ CodeMirror ç­‰æ¡†æ¶/åº“ã€‚ SwitchHostsä¸‹è½½ Charles Charlesæ˜¯ä¸€æ¬¾ç”¨äºHTTPä¿¡æ¯æŠ“åŒ…å·¥å…·ï¼Œå¯ä»¥å¿«é€Ÿæœ‰æ•ˆçš„è·å¾—HTTPä¿¡æ¯ï¼Œéå¸¸åˆ©äºå¼€å‘è€…çš„ç½‘é¡µå¼€å‘å’Œè°ƒè¯•ä¿®æ”¹ç­‰ï¼Charles æœ‰ç€å¯è§†åŒ–çš„æ“ä½œç•Œé¢ï¼Œéå¸¸åˆ©ç”¨ç¼–è¾‘è€…çš„ä½¿ç”¨å’Œè°ƒè¯•ï¼ Charles 4.2.5 Macç ´è§£ç‰ˆä¸‹è½½ å¯†ç : mpdd iTerm2 iTerm2æ˜¯Macä¸‹æœ€å¥½çš„ç»ˆç«¯å·¥å…· iTerm2ä¸‹è½½ typora ä¸€æ¬¾æ— å¯æŒ‘å‰”çš„ Markdown ç¼–è¾‘å™¨ typoraä¸‹è½½ Redis Desktop Manager ä¸€æ¬¾åŸºäºQt5çš„è·¨å¹³å°Redisæ¡Œé¢ç®¡ç†è½¯ä»¶ Redis Desktop Managerä¸‹è½½ VirtualBox VirtualBoxå·ç§°æ˜¯æœ€å¼ºçš„å…è´¹è™šæ‹Ÿæœºè½¯ä»¶ï¼Œå®ƒä¸ä»…å…·æœ‰ä¸°å¯Œçš„ç‰¹è‰²ï¼Œè€Œä¸”æ€§èƒ½ä¹Ÿå¾ˆä¼˜å¼‚ï¼ VirtualBox ä¸‹è½½ Postman Postmanæ˜¯googleå¼€å‘çš„ä¸€æ¬¾åŠŸèƒ½å¼ºå¤§çš„ç½‘é¡µè°ƒè¯•ä¸å‘é€ç½‘é¡µHTTPè¯·æ±‚ï¼Œå¹¶èƒ½è¿è¡Œæµ‹è¯•ç”¨ä¾‹çš„çš„Chromeæ’ä»¶ Postman ä¸‹è½½ Visual Studio Code Visual Studio Codeï¼ˆç®€ç§°VS Codeï¼‰æ˜¯ä¸€ä¸ªç”±å¾®è½¯å¼€å‘çš„ï¼ŒåŒæ—¶æ”¯æŒWindowsã€Linuxå’ŒmacOSæ“ä½œç³»ç»Ÿä¸”å¼€æ”¾æºä»£ç çš„æ–‡æœ¬ç¼–è¾‘å™¨ã€‚[4]å®ƒæ”¯æŒè°ƒè¯•ï¼Œå¹¶å†…ç½®äº†Git ç‰ˆæœ¬æ§åˆ¶åŠŸèƒ½ï¼ŒåŒæ—¶ä¹Ÿå…·æœ‰å¼€å‘ç¯å¢ƒåŠŸèƒ½ï¼Œä¾‹å¦‚ä»£ç è¡¥å…¨ï¼ˆç±»ä¼¼äº IntelliSenseï¼‰ã€ä»£ç ç‰‡æ®µã€ä»£ç é‡æ„ç­‰ã€‚è¯¥ç¼–è¾‘å™¨æ”¯æŒç”¨æˆ·è‡ªå®šä¹‰é…ç½®ï¼Œä¾‹å¦‚æ”¹å˜ä¸»é¢˜é¢œè‰²ã€é”®ç›˜å¿«æ·æ–¹å¼ã€ç¼–è¾‘å™¨å±æ€§å’Œå…¶ä»–å‚æ•°ï¼Œè¿˜æ”¯æŒæ‰©å±•ç¨‹åºå¹¶åœ¨ç¼–è¾‘å™¨ä¸­å†…ç½®äº†æ‰©å±•ç¨‹åºç®¡ç†çš„åŠŸèƒ½ Visual Studio Code ä¸‹è½½ Go2Shell Go2Shell å¯ä»¥åœ¨ Finder ä¸­æ‰“å¼€å½“å‰ç›®å½•çš„ç»ˆç«¯çª—å£ï¼Œæ˜¯ä¸€ä¸ªå¯¹å¼€å‘è€…æ¥è¯´éå¸¸æœ‰ç”¨çš„App Go2Shell ä¸‹è½½ Axure RP Axure RPæ˜¯ç¾å›½Axure Software Solutionå…¬å¸æ——èˆ°äº§å“ï¼Œæ˜¯ä¸€ä¸ªä¸“ä¸šçš„å¿«é€ŸåŸå‹è®¾è®¡å·¥å…·ï¼Œè®©è´Ÿè´£å®šä¹‰éœ€æ±‚å’Œè§„æ ¼ã€è®¾è®¡åŠŸèƒ½å’Œç•Œé¢çš„ä¸“å®¶èƒ½å¤Ÿå¿«é€Ÿåˆ›å»ºåº”ç”¨è½¯ä»¶æˆ–Webç½‘ç«™çš„çº¿æ¡†å›¾ã€æµç¨‹å›¾ã€åŸå‹å’Œè§„æ ¼è¯´æ˜æ–‡æ¡£ã€‚ä½œä¸ºä¸“ä¸šçš„åŸå‹è®¾è®¡å·¥å…·ï¼Œå®ƒèƒ½å¿«é€Ÿã€é«˜æ•ˆçš„åˆ›å»ºåŸå‹ï¼ŒåŒæ—¶æ”¯æŒå¤šäººåä½œè®¾è®¡å’Œç‰ˆæœ¬æ§åˆ¶ç®¡ç†ã€‚ Axure RP 8.1.0.3372 Macç ´è§£ç‰ˆä¸‹è½½ å¯†ç : ast9 å¸¸ç”¨è½¯ä»¶ PDF Expert å¿«é€Ÿã€è½»å·§ã€æ˜“ç”¨çš„PDFç¼–è¾‘å™¨ï¼Œè½»æ¾åœ¨MACä¸Šå®ŒæˆPDFç¼–è¾‘ã€é˜…è¯»ã€æ‰¹æ³¨ã€ç¼–è¾‘æ–‡æœ¬ã€æ·»åŠ ç…§ç‰‡ã€å¡«å†™è¡¨å•ã€ç­¾ç½²åˆåŒã€åˆå¹¶PDFæ–‡æ¡£ä»¥åŠåŠ å¯†ä¿æŠ¤ï¼Œåªéœ€è½»è½»ç‚¹å‡»å‡ ä¸‹å³å¯ï¼Œå‰æ‰€æœªæœ‰çš„ä½“éªŒ å› ç‰ˆæœ¬é—®é¢˜ï¼Œä¸å†æä¾›ä¸‹è½½ï¼Œè¿˜è¯·å¤§å®¶æ”¯æŒæ­£ç‰ˆï¼ Alfred 3 Alfredå¯ä»¥å¸®åŠ©ä½ å¿«é€Ÿã€æ–¹ä¾¿çš„æ‰“å¼€ä»»æ„åº”ç”¨ç¨‹åºï¼Œé…åˆå¿«æ·é”®ä½ å¯ä»¥å¤§å¤§æé«˜å·¥ä½œæ•ˆç‡ã€‚ Alfred 3.6.1 Macç ´è§£ç‰ˆä¸‹è½½ å¯†ç : kq9t BetterZip BetterZipæ˜¯ä¸€æ¬¾åŠŸèƒ½å¼ºå¤§çš„å‹ç¼©è½¯ä»¶ï¼Œä¸å¿…è§£å‹å°±èƒ½å¿«é€Ÿåœ°æ£€æŸ¥å‹ç¼©æ–‡æ¡£ã€‚å®ƒèƒ½æ‰§è¡Œæ–‡ä»¶ä¹‹é—´çš„åˆå¹¶å¹¶æä¾›å¯†ç ã€‚ä½¿ç”¨å®ƒï¼Œç”¨æˆ·å¯ä»¥æ›´å¿«æ·çš„å‘å‹ç¼©æ–‡ä»¶ä¸­æ·»åŠ å’Œåˆ é™¤æ–‡ä»¶ã€‚ å®ƒæ”¯æŒåŒ…æ‹¬zipã€gzã€bzã€bz2ã€tarã€tgzã€tbzã€rarã€7-zipã€cpioã€ arjã€lhaã€lhzã€cabã€isoã€chmã€rpmã€debã€nsisã€sitã€ddã€hqxå’Œbinç­‰å¤šç§æ ¼å¼çš„æ–‡ä»¶ã€‚ BetterZip 4.1.3 Macä¸­æ–‡ç ´è§£ç‰ˆä¸‹è½½ å¯†ç : kndb Snagit Snagitå¯ä»¥ä½¿ç”¨æ­¤å·¥å…·è½»æ¾æŠ“å–å›¾åƒã€æ–‡æœ¬å’Œå½±éŸ³ç­‰å¤šç§å†…å®¹å½¢å¼ï¼Œå†…ç½®å¼ºå¤§ç¼–è¾‘å™¨ï¼Œæ•æ‰ã€ç¼–è¾‘ä¸€æ­¥åˆ°ä½ã€‚ Snagit 4.1.9 Macç ´è§£ç‰ˆä¸‹è½½ å¯†ç : dga7 Office Office 2016æ˜¯ä¸€æ¬¾é›†æˆè‡ªåŠ¨åŒ–åŠå…¬è½¯ä»¶ï¼ŒOffice 2016ç”±å„ç§åŠŸèƒ½ç»„ä»¶æ„æˆï¼ŒåŒ…æ‹¬Word 2016ã€Excel 2016ã€PowerPoint 2016ã€Access 2016ã€Outlook 2016å’ŒPublisher 2016ç­‰ Office 2016 16.13.1 Macä¸­æ–‡ç ´è§£ç‰ˆä¸‹è½½ å¯†ç : 2qwt Office 2016 ç ´è§£è¡¥ä¸ä¸‹è½½ å¯†ç : 8y59","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://www.gulj.cn/categories/å·¥å…·/"}],"tags":[{"name":"mac","slug":"mac","permalink":"http://www.gulj.cn/tags/mac/"}]},{"title":"IntelliJ IDEA ä½¿ç”¨æŠ€å·§","slug":"idea-ä½¿ç”¨æŠ€å·§","date":"2018-05-23T09:37:25.000Z","updated":"2019-02-14T07:07:12.865Z","comments":true,"path":"2018/05/23/idea-ä½¿ç”¨æŠ€å·§/","link":"","permalink":"http://www.gulj.cn/2018/05/23/idea-ä½¿ç”¨æŠ€å·§/","excerpt":"æ— å¤„ä¸åœ¨çš„è·³è½¬ é¡¹ç›®ä¹‹é—´çš„è·³è½¬ ä¸‹ä¸€ä¸ªå·¥ç¨‹çª—å£ ï¼ˆWindow -&gt; Next Project Windowï¼‰alt + command + ] ä¸Šä¸€ä¸ªå·¥ç¨‹çª—å£ ï¼ˆWindow -&gt; Previous Project Windowï¼‰alt + command + [","text":"æ— å¤„ä¸åœ¨çš„è·³è½¬ é¡¹ç›®ä¹‹é—´çš„è·³è½¬ ä¸‹ä¸€ä¸ªå·¥ç¨‹çª—å£ ï¼ˆWindow -&gt; Next Project Windowï¼‰alt + command + ] ä¸Šä¸€ä¸ªå·¥ç¨‹çª—å£ ï¼ˆWindow -&gt; Previous Project Windowï¼‰alt + command + [ æ–‡ä»¶ä¹‹é—´çš„è·³è½¬ æŸ¥çœ‹å½“å‰æ‰“å¼€çš„æ–‡ä»¶command + e åªæŸ¥çœ‹å½“å‰æ‰“å¼€å¹¶ä¸”ä¿®æ”¹çš„æ–‡ä»¶shift + command + e æµè§ˆä¿®æ”¹ä½ç½®è·³è½¬ æœ€åä¸€æ¬¡ä¿®æ”¹çš„ä½ç½® ï¼ˆNavigate -&gt; Last Edit Locationï¼‰shift + command + delete æµè§ˆä½ç½®è·³è½¬ åä¸€ä¸ªæµè§ˆçš„ä½ç½® ï¼ˆNavigate -&gt; Backï¼‰alt + command + &lt;â€” å‰ä¸€ä¸ªæµè§ˆçš„ä½ç½® ï¼ˆNavigate -&gt; Forwardï¼‰alt + command + â€”&gt; æ”¶è—ç±»æˆ–æŸä¸€ä¸ªæ–¹æ³•ä½¿ç”¨ command + 2 è°ƒå‡º favorite çª—å£ä½¿ç”¨å¿«æ·é”® alt + shirt + f å¯ä»¥å°†ç±»æ·»åŠ åˆ°è‡ªå®šçš„favoriteä¸­ï¼Œæ·»åŠ æ–¹æ³•ï¼šé¦–å…ˆè¦é€‰ä¸­æ–¹æ³•åï¼Œç„¶åå†æŒ‰ä½å¿«æ·é”®( shift + command + f )è¿›è¡Œæ·»åŠ  å­—ç¬¦è·³è½¬æ’ä»¶emacsIdeaç½®è·³è½¬ ä½œç”¨ï¼š å¿«é€Ÿè·³è½¬åˆ°ä»¥æŸä¸€ä¸ªå­—ç¬¦å¼€å¤´çš„ä½ç½® å®‰è£…æ’ä»¶ eamcsIdea çš„æ–¹æ³•å¯ä»¥æŸ¥çœ‹æˆ‘ä¸Šä¸€ç¯‡åšæ–‡ Intellij Idea å¿…å¤‡æ’ä»¶ æ’ä»¶å®‰è£…å®Œæˆï¼Œåœ¨keymapä¸­æ‰¾åˆ° AceJumpWord å³é”®é€‰æ‹© Add Keyboard ShorCut æ·»åŠ  crtl + k å¿«æ·é”® æ•ˆæœæ¼”ç¤ºéœ€æ±‚ï¼šè·³è½¬åˆ°ä»¥ a å­—æ¯å¼€å¤´ address ä½ç½®ï¼›ï¼ˆåœ¨æ•ˆæœå›¾T1ç±»ä¸­æœ‰ä¸‰ä¸ªåœ°æ–¹æ˜¯ä»¥å­—æ¯aå¼€å¤´ï¼Œâ€œæˆå‘˜å˜é‡ addressï¼Œæˆå‘˜å˜é‡ ageï¼Œå±€éƒ¨å˜é‡ a â€ï¼‰ï¼›æ“ä½œï¼šé¦–å…ˆæˆ‘ä»¬å…ˆæŒ‰ ctrl + kï¼ˆå°±æ˜¯æˆ‘ä»¬ä¹‹å‰å®šä¹‰æ’ä»¶eamcsIdeaçš„å¿«æ·é”®ï¼‰ ç„¶åæŒ‰å­—æ¯ aï¼ˆæƒ³ä»¥ä»€ä¹ˆå­—æ¯å¼€å¤´å°±æŒ‰ä»€ä¹ˆå­—æ¯ï¼Œè¿™é‡Œåªæ¼”ç¤ºä»¥aå­—æ¯å¼€å¤´ï¼‰ è¿™æ ·åœ¨T1ç±»ä¸­å°±ä¼šä»¥å­—æ¯æ ‡è¯†é€‰ä¸­æ‰€æœ‰ä»¥aå¼€å¤´çš„å­—ç¬¦ï¼Œæˆ‘ä»¬è¦è·³è½¬åˆ°å“ªé‡Œå°±æŒ‰é€‰ä¸­æ ‡è¯†çš„å­—ç¬¦å³å¯ ï¼Œç°åœ¨æˆ‘ä»¬è¦è·³è½¬åˆ° address ä½ç½®ï¼Œé€‰ä¸­çš„å­—ç¬¦æ˜¯ d åœ¨é”®ç›˜ä¸ŠæŒ‰å­—ç¬¦ d å³å¯ ç²¾å‡†æœç´¢ ç±»command + n æ–‡ä»¶shift + command + n æ–¹æ³•æˆ–å±æ€§alt + shift + command + n å­—ç¬¦ä¸²ctrl + shift + f ä»£ç å°åŠ©æ‰‹ åˆ—æ“ä½œ é€‰ä¸­ä¸€ä¸ªå†’å·ï¼ˆ ï¼šï¼‰å­—ç¬¦ï¼ŒæŒ‰ ctrl + command + g åˆ™ä¼šé€‰ä¸­æ‰€æœ‰å†’å·ï¼ŒæŒ‰é”®ç›˜å·¦å³æ–¹å‘é”®è¿›è¡Œå…‰æ ‡å·¦å³æ–¹å‘ç§»åŠ¨, æŒ‰ command + w å¯é€‰ä¸­ä¸€å®šåŒºåŸŸçš„å­—ç¬¦ Live Template ä½œç”¨ï¼šå®šä¹‰è¯¸å¤šä»£ç æ¨¡æ¿ï¼Œåˆ©ç”¨å¿«æ·é”®å¿«é€Ÿç”Ÿæˆè‡ªå®šä¹‰ä»£ç æ¨¡æ¿ æ¼”ç¤ºï¼š ç¬”è€…å¸¸ç”¨è‡ªå®šä¹‰çš„ä»£ç æ¨¡æ¿å¦‚ä¸‹ï¼š 12345678910111213141516171819202122232425// int å¸¸é‡public static final int $VAR1$ = $VAR2$;// String å¸¸é‡ public static final int $VAR1$ = $VAR2$;// å¸¦æœ‰æ³¨é‡Šçš„ private int å¿«æ·é”® ï¼ˆpicï¼‰************************************/** * $VAR1$ */private int $VAR2$;$END$************************************// å¸¦æœ‰æ³¨é‡Šçš„ private String å¿«æ·é”® ï¼ˆpscï¼‰************************************/** * $VAR1$ */private String $VAR2$;$END$************************************ Postfix ä»‹ç» forï¼Œnnï¼Œsoutï¼Œreturn çš„ç”¨æ³• ç¥å¥‡çš„ alter + enter ä½¿ç”¨ alter + enter å¿«æ·é”®èƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬ï¼šå®ç°æ¥å£ã€å¯¼åŒ…ã€åˆ›å»ºå‡½æ•°ã€çº æ­£å•è¯æ‹¼å†™ã€ç”Ÿæˆå‡½æ•°è¿”å›å˜é‡ã€å­—ç¬¦ä¸²formatç­‰ç­‰ æ¼”ç¤ºï¼š ç¼–å†™é«˜è´¨é‡çš„ä»£ç  é‡æ„ï¼ˆé‡æ„å˜é‡ï¼Œé‡æ„æ–¹æ³•ï¼‰ å…‰æ ‡æ”¾åˆ°å˜é‡ä½ç½® æŒ‰ shift + f6 ä¼šå‡ºç°çº¢æ¡†é€‰ä¸­å˜é‡ï¼Œè¿›è¡Œå˜é‡é‡æ„ï¼›ä¸ºæ–¹æ³•æ·»åŠ å‚æ•°ï¼Œä½¿ç”¨ alter + enter æç¤ºè¿›è¡Œæ–¹æ³•é‡æ„ æ¼”ç¤ºï¼š æŠ½å– æŠ½å–å˜é‡alt + command + v æŠ½å–é™æ€å˜é‡alt + command + c æŠ½å–æˆå‘˜å˜é‡alt + command + f æŠ½å–æ–¹æ³•å‚æ•°alt + command + p æŠ½å–æ–¹æ³•alt + command + m","categories":[{"name":"Java","slug":"Java","permalink":"http://www.gulj.cn/categories/Java/"}],"tags":[{"name":"idea","slug":"idea","permalink":"http://www.gulj.cn/tags/idea/"}]},{"title":"IntelliJ IDEA å¿…å¤‡æ’ä»¶","slug":"intellij-idea-å¿…å¤‡æ’ä»¶","date":"2018-05-22T08:49:44.000Z","updated":"2019-02-14T07:07:12.866Z","comments":true,"path":"2018/05/22/intellij-idea-å¿…å¤‡æ’ä»¶/","link":"","permalink":"http://www.gulj.cn/2018/05/22/intellij-idea-å¿…å¤‡æ’ä»¶/","excerpt":"æ’ä»¶å®‰è£…æ–¹å¼ ä¸‹è½½æ’ä»¶åˆ°æœ¬åœ°ï¼Œä»æœ¬åœ°å®‰è£…æ‰“å¼€ idea -&gt; settings -&gt; plugins -&gt; Install plugin from disk -&gt; é€‰ä¸­æœ¬åœ°ä¸‹è½½å¥½çš„æ’ä»¶jaråŒ… -&gt; é‡å¯","text":"æ’ä»¶å®‰è£…æ–¹å¼ ä¸‹è½½æ’ä»¶åˆ°æœ¬åœ°ï¼Œä»æœ¬åœ°å®‰è£…æ‰“å¼€ idea -&gt; settings -&gt; plugins -&gt; Install plugin from disk -&gt; é€‰ä¸­æœ¬åœ°ä¸‹è½½å¥½çš„æ’ä»¶jaråŒ… -&gt; é‡å¯ ç›´æ¥åœ¨çº¿å®‰è£…æ‰“å¼€ idea -&gt; settings -&gt; plugins -&gt; è¾“å…¥æ’ä»¶åç§° -&gt; å®‰è£… -&gt; é‡å¯idea æ’ä»¶åˆ—è¡¨ lombokåœ°å€ï¼šhttps://plugins.jetbrains.com/plugin/6317-lombok-plugin ä½œç”¨ï¼š â€‹ å…å»IDEå»ç”Ÿæˆå…¶å±æ€§çš„æ„é€ å™¨ã€getterã€setterã€equalsã€hashcodeã€toStringç­‰æ–¹æ³• æˆªå›¾ï¼š .ignoreåœ°å€ï¼šhttps://plugins.jetbrains.com/plugin/7495--ignore ä½œç”¨ï¼š â€‹ ç”Ÿæˆå„ç§ignoreæ–‡ä»¶ï¼Œä¸€é”®åˆ›å»ºgit ignoreæ–‡ä»¶æ¨¡æ¿ï¼Œé€šè¿‡ç¼–è¾‘å™¨ç›´æ¥å°†æ–‡ä»¶åŠ å…¥åˆ°ignoreæ–‡ä»¶ä¸­ï¼Œå…å»æ‰‹åŠ¨æ·»åŠ æ“ä½œ æˆªå›¾ï¼š FindBugs-IDEAåœ°å€ï¼šhttps://plugins.jetbrains.com/plugin/3847-findbugs-idea ä½œç”¨ï¼š â€‹ æ£€æµ‹ä»£ç ä¸­å¯èƒ½éšè—çš„bugä»¥åŠä¸è§„èŒƒä½ç½® æˆªå›¾ï¼š GsonFormatåœ°å€ï¼šhttps://plugins.jetbrains.com/plugin/7654-gsonformat ä½œç”¨ï¼š â€‹ æ ¹æ®jsonæ–‡æœ¬ï¼Œç”Ÿæˆå¯¹åº”çš„javaç±» æˆªå›¾ï¼š VisualVM Launcheråœ°å€ï¼šhttps://plugins.jetbrains.com/plugin/7115-visualvm-launcher ä½œç”¨ï¼š æŸ¥çœ‹javaç¨‹åºjvmçš„ä½¿ç”¨æƒ…å†µï¼Œä¾‹å¦‚å†…å­˜åˆ†æï¼Œcpuåˆ†æï¼Œå¯¹è±¡å ç”¨å†…å­˜å¤§å°ï¼Œæ–¹ä¾¿jvmè°ƒä¼˜ æˆªå›¾ï¼š ä½¿ç”¨ VisualVM Launcher ä¸åƒå…¶å®ƒæ’ä»¶ä¸€æ ·ï¼Œç›´æ¥å®‰è£…æ’ä»¶å°±å¯ä»¥ä½¿ç”¨ï¼Œå®ƒè¦é…åˆ VisualVM å®¢æˆ·ç«¯ä¸€èµ·ä½¿ç”¨ é¦–æ¬¡ç”¨ Intellij IDEA æ‰§è¡ŒVisualVMçš„æ—¶å€™ï¼Œéœ€è¦é…ç½® VisualVM executable ç¬”è€…çš„è·¯å¾„æ˜¯ï¼š /Applications/VisualVM.app/Contents/Resources/visualvm/bin/visualvm GenerateAllSetteråœ°å€ï¼šhttps://plugins.jetbrains.com/plugin/9360-generateallsetter ä½œç”¨ï¼š â€‹ ä¸€é”®ç”Ÿæˆå¯¹è±¡çš„æ‰€æœ‰setæ–¹æ³• æˆªå›¾ï¼š Free Mybatis Pluginåœ°å€ï¼šhttps://plugins.jetbrains.com/plugin/8321-free-mybatis-plugin ä½œç”¨ï¼š æ ¹æ®å®šä¹‰mapperæ¥å£æ–¹æ³•ï¼Œç”Ÿæˆå¯¹åº”çš„mapper.xmlæ–‡ä»¶ä¸­çš„æ–¹æ³•ï¼Œå¿«é€Ÿåœ¨mapper.javaæ–‡ä»¶å’Œmapper.xmlæ–‡ä»¶ä¹‹é—´æ¥å›åˆ‡æ¢ æˆªå›¾ï¼š Background Image Plusåœ°å€ï¼šhttps://plugins.jetbrains.com/plugin/8502-background-image-plus ä½œç”¨ï¼š â€‹ ä¸ºideaç¼–è¾‘å™¨è®¾ç½®å›¾ç‰‡èƒŒæ™¯ æˆªå›¾ï¼š","categories":[{"name":"Java","slug":"Java","permalink":"http://www.gulj.cn/categories/Java/"}],"tags":[{"name":"idea","slug":"idea","permalink":"http://www.gulj.cn/tags/idea/"}]},{"title":"Webpack å­¦ä¹ ç¤ºä¾‹","slug":"webpack-æ•™ç¨‹","date":"2018-04-09T08:13:54.000Z","updated":"2019-02-14T07:07:13.521Z","comments":true,"path":"2018/04/09/webpack-æ•™ç¨‹/","link":"","permalink":"http://www.gulj.cn/2018/04/09/webpack-æ•™ç¨‹/","excerpt":"ä»‹ç»Webpack æ˜¯ä¸€ä¸ªç°ä»£ JavaScript åº”ç”¨ç¨‹åºçš„é™æ€æ¨¡å—æ‰“åŒ…å™¨(module bundler)ã€‚å½“ Webpack å¤„ç†åº”ç”¨ç¨‹åºæ—¶ï¼Œå®ƒä¼šé€’å½’åœ°æ„å»ºä¸€ä¸ªä¾èµ–å…³ç³»å›¾(dependency graph)ï¼Œå…¶ä¸­åŒ…å«åº”ç”¨ç¨‹åºéœ€è¦çš„æ¯ä¸ªæ¨¡å—ï¼Œç„¶åå°†æ‰€æœ‰è¿™äº›æ¨¡å—æ‰“åŒ…æˆä¸€ä¸ªæˆ–å¤šä¸ª bundle æœ¬ç« èŠ‚ä¸»è¦ä»‹ç»Webpackçš„æ ¸å¿ƒæ¦‚å¿µçš„Demoä½¿ç”¨ç¤ºä¾‹ï¼Œå»ºè®®è¯»è€…æŸ¥çœ‹ä¹‹å‰è¯·é˜…è¯»Webpackçš„å®˜æ–¹æ–‡æ¡£ä¹Ÿå¯ä»¥æŸ¥çœ‹ä¸­æ–‡åœ°å€æ–‡æ¡£ Webpackç‰ˆæœ¬ï¼š 3.9.0 ä»£ç GitHubåœ°å€ï¼š https://github.com/gulijian/webpack-learning-example","text":"ä»‹ç»Webpack æ˜¯ä¸€ä¸ªç°ä»£ JavaScript åº”ç”¨ç¨‹åºçš„é™æ€æ¨¡å—æ‰“åŒ…å™¨(module bundler)ã€‚å½“ Webpack å¤„ç†åº”ç”¨ç¨‹åºæ—¶ï¼Œå®ƒä¼šé€’å½’åœ°æ„å»ºä¸€ä¸ªä¾èµ–å…³ç³»å›¾(dependency graph)ï¼Œå…¶ä¸­åŒ…å«åº”ç”¨ç¨‹åºéœ€è¦çš„æ¯ä¸ªæ¨¡å—ï¼Œç„¶åå°†æ‰€æœ‰è¿™äº›æ¨¡å—æ‰“åŒ…æˆä¸€ä¸ªæˆ–å¤šä¸ª bundle æœ¬ç« èŠ‚ä¸»è¦ä»‹ç»Webpackçš„æ ¸å¿ƒæ¦‚å¿µçš„Demoä½¿ç”¨ç¤ºä¾‹ï¼Œå»ºè®®è¯»è€…æŸ¥çœ‹ä¹‹å‰è¯·é˜…è¯»Webpackçš„å®˜æ–¹æ–‡æ¡£ä¹Ÿå¯ä»¥æŸ¥çœ‹ä¸­æ–‡åœ°å€æ–‡æ¡£ Webpackç‰ˆæœ¬ï¼š 3.9.0 ä»£ç GitHubåœ°å€ï¼š https://github.com/gulijian/webpack-learning-example How to useInstall webpack 1$ npm i -g webpack Clone the repo. 1$ git clone https://github.com/gulijian/webpack-learning-example.git Install the dependencies 12# è¿›å…¥æ¯ä¸ªç« èŠ‚æ ¹ç›®å½•ï¼Œæ‰§è¡Œ npm install $ npm install Open the each chapter index.html IndexStyle-loader Style-loader/url Css-loader And Css-Module Js Tree-shaking Url-loader ProvidePlugin Clean-webpack-plugin chapter4-1 (source)style-loader use å¤„ç†cssï¼Œä»¥ style æ ‡ç­¾å½¢å¼å¼•å…¥css app.js1import './css/app.css' app.css123html &#123; background: #00bcd4b5;&#125; index.html123456&lt;!DOCTYPE html&gt;&lt;html lang=\"en\"&gt;&lt;body&gt; &lt;script src=\"./dist/app.bundle.js\"&gt;&lt;/script&gt;&lt;/body&gt;&lt;/html&gt; webpack.config.js12345678910111213141516171819202122232425262728var path = require('path')module.exports = &#123; entry: &#123; 'app': './src/app.js' &#125;, output: &#123; path: path.resolve(__dirname,'./dist/'), filename: '[name].bundle.js' &#125;, module: &#123; rules: [ &#123; test: /\\.css$/, use: [ &#123; loader: 'style-loader' &#125;, &#123; loader: 'css-loader' &#125; ] &#125; ] &#125;&#125; chapter4-2 (source)style-loader/url use å¤„ç†cssï¼Œä»¥æ ‡ç­¾å½¢å¼å¼•å…¥css app.js1import './css/app.css' app.css123456789html &#123; background: #00bcd4b5; &#125;#styleLoaderUrl &#123; font-size: 30px; color: white; text-align: center;&#125; index.html1234567&lt;!DOCTYPE html&gt;&lt;html lang=\"en\"&gt;&lt;body&gt; &lt;span id=\"styleLoaderUrl\"&gt; hello style-loader/url&lt;/span&gt; &lt;script src=\"./dist/app.bundle.js\"&gt;&lt;/script&gt;&lt;/body&gt;&lt;/html&gt; webpak.config.js1234567891011121314151617181920212223242526272829var path = require('path')module.exports = &#123; entry: &#123; 'app': './src/app.js' &#125;, output: &#123; path: path.resolve(__dirname,'./dist/'), publicPath: './dist/', filename: '[name].bundle.js' &#125;, module: &#123; rules: [ &#123; test: /\\.css$/, use: [ &#123; loader: 'style-loader/url' &#125;, &#123; loader: 'file-loader' &#125; ] &#125; ] &#125;&#125; chapter4-3 (source)css-loader and css-module use å¤„ç†cssï¼Œæ”¯æŒ css-module å½¢å¼ app.js12345678import app1 from './css/app1.css'import app2 from './css/app2.css'var app = document.getElementById('app');// ä½¿ç”¨æ ·å¼app.innerHTML = '&lt;div class = \"'+app1.box+'\"&gt;&lt;/div&gt;' app1.css12345678.box &#123; composes: borderBox from './app2.css'; height: 200px; width: 200px; border-radius: 4px; background: #76d4e0ab; margin: 0 auto;&#125; app2.css123.borderBox &#123; border: 4px solid #e87ff5;&#125; index.html1234567&lt;!DOCTYPE html&gt;&lt;html lang=\"en\"&gt;&lt;body&gt; &lt;div id=\"app\"&gt;&lt;/div&gt; &lt;script src=\"./dist/app.bundle.js\"&gt;&lt;/script&gt;&lt;/body&gt;&lt;/html&gt; webpack.config.js1234567891011121314151617181920212223242526272829303132var path = require('path')module.exports = &#123; entry: &#123; 'app': './src/app.js' &#125;, output: &#123; path: path.resolve(__dirname,'./dist/'), filename: '[name].bundle.js' &#125;, module: &#123; rules: [ &#123; test: /\\.css$/, use: [ &#123; loader: 'style-loader' &#125;, &#123; loader: 'css-loader', options: &#123; minimize: true, // å¯ç”¨å‹ç¼© modules: true // å¯ç”¨ css module &#125; &#125; ] &#125; ] &#125;&#125; chapter5-1 (source)UglifyJsPlugin use ä½¿ç”¨ UglifyJsPlugin æ’ä»¶ï¼› ä¸æ‰“åŒ…æ²¡æœ‰ä½¿ç”¨çš„ js util.js1234567891011export function a ()&#123; return 'this is a';&#125;export function b ()&#123; return 'this is b';&#125;export function c ()&#123; return 'this is c';&#125; app.js123import &#123; a &#125; from './common/util.js'console.log(a()) index.html123456&lt;!DOCTYPE html&gt;&lt;html lang=\"en\"&gt;&lt;body&gt; &lt;script src=\"./dist/app.bundle.js\"&gt;&lt;/script&gt;&lt;/body&gt;&lt;/html&gt; webpack.config.js123456789101112131415161718var webpack = require('webpack')var path = require('path')module.exports = &#123; entry: &#123; 'app': './src/app.js', &#125;, output: &#123; path: path.resolve(__dirname,'./dist/'), filename: '[name].bundle.js' &#125;, plugins: [ new webpack.optimize.UglifyJsPlugin() ]&#125; app.js ä¸­åªä½¿ç”¨äº† util.js ä¸­çš„ a å‡½æ•° æ‰“åŒ…çš„æ—¶å€™åªä¼šæ‰“åŒ… a å‡½æ•°ï¼›å› ä¸º b å’Œ c å‡½æ•°æ²¡æœ‰ä½¿ç”¨åˆ°ï¼Œåˆ™ä¸ä¼šè¢«æ‰“åŒ… chapter6-1 (source)url-loader use å›¾ç‰‡æ–‡ä»¶å¤„ç† app.js12345var img1 = document.getElementById('img1')var img2 = document.getElementById('img2')img1.src = require('./assets/img1.jpg')img2.src = require('./assets/img2.png') index.html12345678910&lt;!DOCTYPE html&gt;&lt;html lang=\"en\"&gt;&lt;body&gt; &lt;!-- size &lt; 30kb --&gt; &lt;img id=\"img1\"/&gt; &lt;!-- size &gt; 30kb --&gt; &lt;img id=\"img2\"&gt; &lt;script src=\"./dist/app.bundle.js\"&gt;&lt;/script&gt;&lt;/body&gt;&lt;/html&gt; webpack.config.js1234567891011121314151617181920212223242526272829var path = require('path')module.exports = &#123; entry: &#123; 'app': './src/app.js', &#125;, output: &#123; path: path.resolve(__dirname,'./dist/'), filename: '[name].bundle.js' &#125;, module: &#123; rules: [ &#123; test: /\\.(png|jpg|jpeg|gif)$/, use: [ &#123; loader:'url-loader', options: &#123; limit: 30000 &#125; &#125; ] &#125; ] &#125;&#125; å›¾ç‰‡ å°äº 30kb ä¼šå˜æˆbase64ç¼–ç ï¼Œå¤§äº 30kb ä¼šç”Ÿæˆå›¾ç‰‡åœ°å€ 12&lt;img id=\"img1\" src=\"6443347e97d394b23b05746b2fe41cd1.jpg\"&gt;&lt;img id=\"img2\" src=\"data:image/png;base64,iVBORw0KGgoAXBIWXMAAC4jAAAuIwF4pT92AAAKTWlD\"/&gt; chapter7-1 (source)ProvidePlugin use å¤„ç†ç¬¬ä¸‰æ–¹ JS åº“ï¼Œæ–¹å¼ä¸€ï¼šï¼ˆ jquery ä½œä¸ºnpmçš„ä¸€ä¸ªmoduleï¼‰ app.js1$('#app').append('hello jquery') index.html1234567&lt;!DOCTYPE html&gt;&lt;html lang=\"en\"&gt;&lt;body&gt; &lt;div id=\"app\"&gt;&lt;/div&gt; &lt;script src=\"./dist/app.bundle.js\"&gt;&lt;/script&gt;&lt;/body&gt;&lt;/html&gt; webpack.config.js12345678910111213141516171819var path = require('path')var webpack = require('webpack')module.exports = &#123; entry: &#123; 'app': './src/app.js', &#125;, output: &#123; path: path.resolve(__dirname,'./dist/'), filename: '[name].bundle.js' &#125;, plugins: [ new webpack.ProvidePlugin(&#123; $: 'jquery' &#125;) ]&#125; chapter7-2 (source) å¤„ç†ç¬¬ä¸‰æ–¹ JS åº“ï¼Œæ–¹å¼äºŒï¼šï¼ˆå¼•å…¥æœ¬åœ°çš„ jquery åº“ï¼‰ app.js1$('#app').append('hello jquery') index.html1234567&lt;!DOCTYPE html&gt;&lt;html lang=\"en\"&gt;&lt;body&gt; &lt;div id=\"app\"&gt;&lt;/div&gt; &lt;script src=\"./dist/app.bundle.js\"&gt;&lt;/script&gt;&lt;/body&gt;&lt;/html&gt; webpack.config.js1234567891011121314151617181920212223242526var path = require('path')var webpack = require('webpack')module.exports = &#123; entry: &#123; 'app': './src/app.js', &#125;, output: &#123; path: path.resolve(__dirname,'./dist/'), filename: '[name].bundle.js' &#125;, // æ³¨æ„ jquery$ çš„åå­— è¦å’Œ ProvidePlugin æ’ä»¶ä¸­é…ç½®çš„åç§°ï¼ˆjqueryï¼‰ä¿æŒä¸€è‡´ resolve: &#123; alias: &#123; jquery$: path.resolve(__dirname,'src/libs/jquery.min.js') &#125; &#125;, plugins: [ new webpack.ProvidePlugin(&#123; $: 'jquery' &#125;) ]&#125; å¦‚æœ jquery åœ¨CDNä¸Šï¼Œç›´æ¥å¼•å…¥å³å¯ chapter8-1 (source)clean-webpack-plugin use æ¯æ¬¡æ‰“åŒ…æ¸…é™¤åŸå…ˆçš„æ‰“åŒ…ç›®å½• app.js123var app = document.getElementById('app')app.innerHTML = '&lt;h1&gt;ä½¿ç”¨ clean-webpack-plugin æ’ä»¶ï¼Œå¯ä»¥æ¯æ¬¡æ‰“åŒ…æ¸…é™¤åŸå…ˆçš„æ‰“åŒ…ç›®å½•&lt;/h1&gt;' index.html1234567&lt;!DOCTYPE html&gt;&lt;html lang=\"en\"&gt;&lt;body&gt; &lt;span id=\"app\"&gt;&lt;/span&gt; &lt;script src=\"./dist/app.bundle.js\"&gt;&lt;/script&gt;&lt;/body&gt;&lt;/html&gt; webpack.config.js12345678910111213141516171819var path = require('path')var CleanWebpackPlugin = require('clean-webpack-plugin')module.exports = &#123; entry: &#123; 'app': './src/app.js', &#125;, output: &#123; path: path.resolve(__dirname,'./dist/'), filename: '[name].bundle.js' &#125;, plugins: [ new CleanWebpackPlugin([ 'dist' ]) ]&#125;","categories":[{"name":"Java","slug":"Java","permalink":"http://www.gulj.cn/categories/Java/"}],"tags":[{"name":"webpack","slug":"webpack","permalink":"http://www.gulj.cn/tags/webpack/"}]},{"title":"ã€Dockeræ•™ç¨‹ã€‘Docker Linuxç½‘ç»œå‘½åç©ºé—´","slug":"docker-linuxå‘½åç©ºé—´","date":"2018-03-31T02:44:25.000Z","updated":"2019-02-14T07:07:12.863Z","comments":true,"path":"2018/03/31/docker-linuxå‘½åç©ºé—´/","link":"","permalink":"http://www.gulj.cn/2018/03/31/docker-linuxå‘½åç©ºé—´/","excerpt":"å‰è¨€åˆ°ç°åœ¨æˆ‘ä»¬å·²ç»äº†è§£åˆ°Dockerçš„é•œåƒã€å®¹å™¨ç­‰æ¦‚å¿µï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸€å°å®¿ä¸»æœºä¸Šè¿è¡Œä¸€ä¸ªæˆ–è€…å¤šä¸ªå®¹å™¨ï¼Œä¹Ÿå¯ä»¥å°†ä¸åŒçš„å®¹å™¨è¿è¡Œåœ¨ä¸åŒçš„å®¿ä¸»æœºä¸Šï¼Œé‚£ä¹ˆè¿™äº›å®¹å™¨æ˜¯æ€æ ·è¿›è¡Œäº’ç›¸é€šä¿¡å‘¢ï¼Ÿæœ¬æ–‡å°†ä»‹ç»Linuxç½‘ç»œå‘½åç©ºé—´æ¦‚å¿µï¼Œæ¥å¸®åŠ©è¯»è€…æ›´å¥½åœ°äº†è§£åˆ°Dockerå®¹å™¨ä¹‹é—´çš„é€šä¿¡ã€‚ å®¹å™¨ä¹‹é—´çš„é€šä¿¡(åŒä¸€å°å®¿ä¸»æœºä¸Š)é»˜è®¤æƒ…å†µä¸‹ï¼Œåœ¨åŒä¸€å°å®¿ä¸»æœºä¸Šçš„å¤šä¸ªå®¹å™¨æ˜¯å¯ä»¥äº’ç›¸è®¿é—®çš„ï¼Œå®¹å™¨çš„ç½‘ç»œå‘½åç©ºé—´å’Œå®¿ä¸»æœºçš„ç½‘ç»œå‘½åç©ºé—´æ˜¯ç›¸äº’ç‹¬ç«‹éš”ç¦»çš„ æŸ¥çœ‹å®¿ä¸»æœºçš„ç½‘ç»œå‘½åç©ºé—´","text":"å‰è¨€åˆ°ç°åœ¨æˆ‘ä»¬å·²ç»äº†è§£åˆ°Dockerçš„é•œåƒã€å®¹å™¨ç­‰æ¦‚å¿µï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸€å°å®¿ä¸»æœºä¸Šè¿è¡Œä¸€ä¸ªæˆ–è€…å¤šä¸ªå®¹å™¨ï¼Œä¹Ÿå¯ä»¥å°†ä¸åŒçš„å®¹å™¨è¿è¡Œåœ¨ä¸åŒçš„å®¿ä¸»æœºä¸Šï¼Œé‚£ä¹ˆè¿™äº›å®¹å™¨æ˜¯æ€æ ·è¿›è¡Œäº’ç›¸é€šä¿¡å‘¢ï¼Ÿæœ¬æ–‡å°†ä»‹ç»Linuxç½‘ç»œå‘½åç©ºé—´æ¦‚å¿µï¼Œæ¥å¸®åŠ©è¯»è€…æ›´å¥½åœ°äº†è§£åˆ°Dockerå®¹å™¨ä¹‹é—´çš„é€šä¿¡ã€‚ å®¹å™¨ä¹‹é—´çš„é€šä¿¡(åŒä¸€å°å®¿ä¸»æœºä¸Š)é»˜è®¤æƒ…å†µä¸‹ï¼Œåœ¨åŒä¸€å°å®¿ä¸»æœºä¸Šçš„å¤šä¸ªå®¹å™¨æ˜¯å¯ä»¥äº’ç›¸è®¿é—®çš„ï¼Œå®¹å™¨çš„ç½‘ç»œå‘½åç©ºé—´å’Œå®¿ä¸»æœºçš„ç½‘ç»œå‘½åç©ºé—´æ˜¯ç›¸äº’ç‹¬ç«‹éš”ç¦»çš„ æŸ¥çœ‹å®¿ä¸»æœºçš„ç½‘ç»œå‘½åç©ºé—´ 1234567891011121314151617181920212223$ ip a1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN qlen 1 link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00 inet 127.0.0.1/8 scope host lo valid_lft forever preferred_lft forever inet6 ::1/128 scope host valid_lft forever preferred_lft forever2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP qlen 1000 link/ether 52:54:00:ad:3b:43 brd ff:ff:ff:ff:ff:ff inet 10.0.2.15/24 brd 10.0.2.255 scope global dynamic eth0 valid_lft 85639sec preferred_lft 85639sec inet6 fe80::5054:ff:fead:3b43/64 scope link valid_lft forever preferred_lft forever3: eth1: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP qlen 1000 link/ether 08:00:27:7e:86:8c brd ff:ff:ff:ff:ff:ff inet 192.168.215.20/24 brd 192.168.215.255 scope global eth1 valid_lft forever preferred_lft forever inet6 fe80::a00:27ff:fe7e:868c/64 scope link valid_lft forever preferred_lft forever4: docker0: &lt;NO-CARRIER,BROADCAST,MULTICAST,UP&gt; mtu 1500 qdisc noqueue state DOWN link/ether 02:42:79:71:de:73 brd ff:ff:ff:ff:ff:ff inet 172.17.0.1/16 brd 172.17.255.255 scope global docker0 valid_lft forever preferred_lft forever æ–°å»ºä¸¤ä¸ªå®¹å™¨æ”¾å…¥åå°è¿è¡Œ 123$ docker run -d --name demo1 busybox /bin/sh -c \"while true;do sleep 3600;done\"$ docker run -d --name demo2 busybox /bin/sh -c \"while true;do sleep 3600;done\" æŸ¥çœ‹ä¸¤ä¸ªå®¹å™¨çš„ç½‘ç»œå‘½åç©ºé—´ 12345678910111213141516171819$ docker exec demo1 ip a1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue qlen 1 link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00 inet 127.0.0.1/8 scope host lo valid_lft forever preferred_lft forever5: eth0@if6: &lt;BROADCAST,MULTICAST,UP,LOWER_UP,M-DOWN&gt; mtu 1500 qdisc noqueue link/ether 02:42:ac:11:00:02 brd ff:ff:ff:ff:ff:ff inet 172.17.0.2/16 brd 172.17.255.255 scope global eth0 valid_lft forever preferred_lft forever $ docker exec demo2 ip a1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue qlen 1 link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00 inet 127.0.0.1/8 scope host lo valid_lft forever preferred_lft forever7: eth0@if8: &lt;BROADCAST,MULTICAST,UP,LOWER_UP,M-DOWN&gt; mtu 1500 qdisc noqueue link/ether 02:42:ac:11:00:03 brd ff:ff:ff:ff:ff:ff inet 172.17.0.3/16 brd 172.17.255.255 scope global eth0 valid_lft forever preferred_lft forever è¿™é‡Œå¯ä»¥çœ‹åˆ°å®¿ä¸»æœºã€demo1å’Œdemo2çš„ç½‘ç»œå‘½åç©ºé—´éƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œæµ‹è¯•å®¹å™¨demo1å’Œå®¹å™¨demo2æ˜¯å¦å¯ä»¥äº’é€š 12345678910111213# åœ¨ demo1 å†… ping demo2å®¹å™¨çš„ipåœ°å€$ docker exec test1 ping 172.17.0.3PING 172.17.0.3 (172.17.0.3): 56 data bytes64 bytes from 172.17.0.3: seq=0 ttl=64 time=0.086 ms64 bytes from 172.17.0.3: seq=1 ttl=64 time=0.104 ms64 bytes from 172.17.0.3: seq=2 ttl=64 time=0.081 ms# åœ¨ demo2 å†… ping demo1å®¹å™¨çš„ipåœ°å€$ docker exec test2 ping 172.17.0.2PING 172.17.0.2 (172.17.0.2): 56 data bytes64 bytes from 172.17.0.2: seq=0 ttl=64 time=0.079 ms64 bytes from 172.17.0.2: seq=1 ttl=64 time=0.102 ms64 bytes from 172.17.0.2: seq=2 ttl=64 time=0.101 ms ä»ä¸Šé¢çœ‹å‡ºå®¹å™¨demo1å’Œå®¹å™¨demok2å¯ä»¥äº’ç›¸è®¿é—® ä¸ºäº†æ›´å¥½åœ°äº†è§£åˆ°åœ¨åŒä¸€å®¿ä¸»æœºä¸Šå®¹å™¨é—´çš„é€šä¿¡ï¼Œä¸‹é¢æˆ‘ä»¬ä»Linuxç½‘ç»œå‘½åç©ºé—´æ¥ä¸ºå¤§å®¶è§£é‡Š åœ¨è¿™ä¹‹å‰æˆ‘ä»¬å…ˆæŠŠæˆ‘ä»¬åˆšæ‰è¿è¡Œçš„demo1å’Œdemo2ä¸¤ä¸ªå®¹å™¨åœæ­¢æ‰ 1$ sudo docker stop demo1 demo2 Linux çš„ç½‘ç»œå‘½åç©ºé—´(namespace)ä¸‹é¢æˆ‘ä»¬å°†åœ¨å®¿ä¸»æœºä¸Šåˆ›å»ºä¸¤ä¸ªç½‘ç»œå‘½åç©ºé—´åˆ†åˆ«ä¸ºtest1å’Œtest2ï¼Œç„¶åå†åˆ›å»ºä¸€å¯¹Veth æ¥å£ï¼Œåˆ†åˆ«åˆ†é…ç»™test1å’Œtest2ï¼Œè¿™æ ·test1å’Œtest2å°±èƒ½å¤Ÿè¿æ¥èµ·æ¥ï¼Œèƒ½å¤Ÿäº’ç›¸è®¿é—® åˆ›å»ºç½‘ç»œå‘½åç©ºé—´123$ sudo ip netns add test1$ sudo ip netns add test2 æŸ¥çœ‹ç½‘ç»œå‘½åç©ºé—´123$ sudo ip netns listtest2test1 åœ¨dockerå®¹å™¨ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æŸ¥çœ‹å®¹å™¨çš„ç½‘ç»œå‘½åç©ºé—´ï¼ŒåŒç†æˆ‘ä»¬ä¹Ÿå¯ä»¥æŸ¥çœ‹æˆ‘ä»¬åˆ›å»ºçš„ç½‘ç»œå‘½åç©ºé—´è¯¦ç»†ä¿¡æ¯ 1234567$ sudo ip netns exec test1 ip a1: lo: &lt;LOOPBACK&gt; mtu 65536 qdisc noop state DOWN qlen 1 link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00 $ sudo ip netns exec test2 ip a 1: lo: &lt;LOOPBACK&gt; mtu 65536 qdisc noop state DOWN qlen 1 link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00 ç°åœ¨å¯ä»¥çœ‹åˆ°æˆ‘ä»¬åˆ›å»ºçš„ä¸¤ä¸ªå‘½åç©ºé—´test1å’Œtes2åªæœ‰æœ¬åœ°çš„å›ç¯ç«¯å£ï¼Œä¹Ÿæ²¡æœ‰æœ¬åœ° ip 127.0.0.1 ä¹‹ç±»å¹¶ä¸”çŠ¶æ€æ˜¯DOWNçš„çŠ¶æ€ æŸ¥çœ‹æœ¬åœ°çš„ ip link 123456789$ sudo ip link 1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT qlen 1 link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:002: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP mode DEFAULT qlen 1000 link/ether 52:54:00:ad:3b:43 brd ff:ff:ff:ff:ff:ff3: eth1: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP mode DEFAULT qlen 1000 link/ether 08:00:27:7e:86:8c brd ff:ff:ff:ff:ff:ff4: docker0: &lt;NO-CARRIER,BROADCAST,MULTICAST,UP&gt; mtu 1500 qdisc noqueue state DOWN mode DEFAULT link/ether 02:42:79:71:de:73 brd ff:ff:ff:ff:ff:ff ç°åœ¨æœ¬åœ°åªæœ‰å››ä¸ª ip link ä¸‹é¢åœ¨å®¿ä¸»æœºä¸Šæ·»åŠ ä¸€å¯¹ link (vethl-test1 å’Œ veth-test2) 1$ sudo ip link add veth-test1 type veth peer name veth-test2 æ¥ä¸‹æ¥æˆ‘ä»¬å†æ¬¡æŸ¥çœ‹æœ¬åœ°çš„ ip link 12345678910111213$ sudo ip link 1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT qlen 1 link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:002: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP mode DEFAULT qlen 1000 link/ether 52:54:00:ad:3b:43 brd ff:ff:ff:ff:ff:ff3: eth1: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP mode DEFAULT qlen 1000 link/ether 08:00:27:7e:86:8c brd ff:ff:ff:ff:ff:ff4: docker0: &lt;NO-CARRIER,BROADCAST,MULTICAST,UP&gt; mtu 1500 qdisc noqueue state DOWN mode DEFAULT link/ether 02:42:79:71:de:73 brd ff:ff:ff:ff:ff:ff9: veth-test2@veth-test1: &lt;BROADCAST,MULTICAST,M-DOWN&gt; mtu 1500 qdisc noop state DOWN mode DEFAULT qlen 1000 link/ether 9e:44:34:0b:41:39 brd ff:ff:ff:ff:ff:ff10: veth-test1@veth-test2: &lt;BROADCAST,MULTICAST,M-DOWN&gt; mtu 1500 qdisc noop state DOWN mode DEFAULT qlen 1000 link/ether 5a:ed:e6:53:00:fb brd ff:ff:ff:ff:ff:ff åºå·ï¼š9.ï¼ˆveth-test2@veth-test1ï¼‰ï¼Œ10.ï¼ˆveth-test1@veth-test2ï¼‰å°±æ˜¯æˆ‘ä»¬åˆšæ·»åŠ çš„ä¸€å¯¹ link å°† veth-test1 è¿™ä¸ªæ¥å£æ·»åŠ åˆ°ç½‘ç»œå‘½åç©ºé—´test1ä¸Š 1$ sudo ip link set veth-test1 netns test1 è¿™æ—¶å€™æˆ‘ä»¬ä¼šå‘ç°æœ¬åœ°çš„ ip link åºå·ï¼š10 æ¶ˆå¤±äº†ï¼Œè€Œæˆ‘ä»¬åˆ›å»ºçš„test1ç½‘ç»œå‘½åç©ºé—´å¤šäº† veth-test1,æˆ‘ä»¬æ¥æŸ¥çœ‹test1çš„ ip link 12345$ sudo ip netns exec test1 ip link 1: lo: &lt;LOOPBACK&gt; mtu 65536 qdisc noop state DOWN mode DEFAULT qlen 1 link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:0010: veth-test1@if9: &lt;BROADCAST,MULTICAST&gt; mtu 1500 qdisc noop state DOWN mode DEFAULT qlen 1000 link/ether 5a:ed:e6:53:00:fb brd ff:ff:ff:ff:ff:ff link-netnsid 0 åŒç†å°† veth-test2 è¿™ä¸ªæ¥å£æ·»åŠ åˆ°ç½‘ç»œå‘½åç©ºé—´test2ä¸Š 1$ sudo ip link set veth-test2 netns test2 ç°åœ¨æˆ‘ä»¬æŠŠåˆ›å»ºçš„veth-test1å’Œveth-test2åˆ†åˆ«æ·»åŠ åˆ°äº†ç½‘ç»œå‘½åç©ºé—´test1å’Œtest2ä¸Š(æ­¤æ—¶ä»–ä»¬éƒ½æ²¡æœ‰ipåœ°å€ï¼ŒçŠ¶æ€ä¹Ÿæ˜¯DOWNçš„çŠ¶æ€) 123456789101112# test1$ sudo ip netns exec test1 ip link 1: lo: &lt;LOOPBACK&gt; mtu 65536 qdisc noop state DOWN mode DEFAULT qlen 1 link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:0010: veth-test1@if9: &lt;BROADCAST,MULTICAST&gt; mtu 1500 qdisc noop state DOWN mode DEFAULT qlen 1000 link/ether 5a:ed:e6:53:00:fb brd ff:ff:ff:ff:ff:ff link-netnsid 0# test21: lo: &lt;LOOPBACK&gt; mtu 65536 qdisc noop state DOWN mode DEFAULT qlen 1 link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:009: veth-test2@if10: &lt;BROADCAST,MULTICAST&gt; mtu 1500 qdisc noop state DOWN mode DEFAULT qlen 1000 link/ether 9e:44:34:0b:41:39 brd ff:ff:ff:ff:ff:ff link-netnsid 0 åˆ†åˆ«ä¸ºä¸¤ä¸ªæ¥å£ veth-test1 å’Œ veth-test2 åˆ†é…ipåœ°å€,ç„¶åè®©å…¶çŠ¶æ€ç”±DOWNå˜ä¸ºUP (åŒæ—¶ä¹Ÿå¯ä»¥æŠŠå„è‡ªçš„å›ç¯ç«¯å£ lo çŠ¶æ€ä¹Ÿè®¾ç½®ä¸º UPï¼Œä¸ç„¶åˆ°æ—¶å€™pingè‡ªå·±çš„æ—¶å€™pingä¸é€š) 1234567891011# ä¸ºveth-test1å’Œveth-test2åˆ†é…IPåœ°å€$ sudo ip netns exec test1 ip addr add 192.168.1.1/24 dev veth-test1$ sudo ip netns exec test2 ip addr add 192.168.1.2/24 dev veth-test2# è®¾ç½®veth-test1å’Œveth-test2çš„çŠ¶æ€ç”±DOWNå˜ä¸ºUP$ sudo ip netns exec test1 ip link set dev veth-test1 up$ sudo ip netns exec test2 ip link set dev veth-test2 up# è®¾ç½®test1å’Œtest2çš„æœ¬åœ°å›ç¯ç«¯å£çŠ¶æ€ç”±DOWNå˜ä¸ºUP$ sudo ip netns exec test1 ip link set dev lo up$ sudo ip netns exec test2 ip link set dev lo up ç°åœ¨æˆ‘ä»¬å¯ä»¥çœ‹åˆ°æˆ‘ä»¬åˆ›å»ºçš„test1å’Œtest2è¿™ä¸¤ä¸ªç½‘ç»œå‘½åç©ºé—´ä¸Šçš„veth-test1å’Œveth-test2æ¥å£åˆ†é…çš„IPåœ°å€ï¼Œå¹¶ä¸”çŠ¶æ€ä¸ºUP 123456789101112131415161718192021# test1$ sudo ip netns exec test1 ip a1: lo: &lt;LOOPBACK&gt; mtu 65536 qdisc noop state DOWN qlen 1 link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:0010: veth-test1@if9: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP qlen 1000 link/ether 5a:ed:e6:53:00:fb brd ff:ff:ff:ff:ff:ff link-netnsid 1 inet 192.168.1.1/24 scope global veth-test1 valid_lft forever preferred_lft forever inet6 fe80::58ed:e6ff:fe53:fb/64 scope link valid_lft forever preferred_lft forever # test2 $ sudo ip netns exec test2 ip a1: lo: &lt;LOOPBACK&gt; mtu 65536 qdisc noop state DOWN qlen 1 link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:009: veth-test2@if10: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP qlen 1000 link/ether 9e:44:34:0b:41:39 brd ff:ff:ff:ff:ff:ff link-netnsid 0 inet 192.168.1.2/24 scope global veth-test2 valid_lft forever preferred_lft forever inet6 fe80::9c44:34ff:fe0b:4139/64 scope link valid_lft forever preferred_lft forever åˆ°æ­¤æˆ‘ä»¬å·²ç»æˆåŠŸåœ°å®Œæˆäº†é€šè¿‡æˆ‘ä»¬è‡ªå·±åˆ›å»ºçš„test1å’Œtest2è¿™ä¸¤ä¸ªç½‘ç»œå‘½åç©ºé—´ï¼Œä»–ä»¬ä¹‹é—´å¯ä»¥é€šè¿‡veth-test1å’Œveth-test2äº’ç›¸è®¿é—® 12345678910111213# test1 ä¸Š ping test2çš„ipsudo ip netns exec test1 ping 192.168.1.2PING 192.168.1.2 (192.168.1.2) 56(84) bytes of data.64 bytes from 192.168.1.2: icmp_seq=1 ttl=64 time=0.048 ms64 bytes from 192.168.1.2: icmp_seq=2 ttl=64 time=0.059 ms64 bytes from 192.168.1.2: icmp_seq=3 ttl=64 time=0.067 ms# test2 ä¸Š ping test1çš„ip$ sudo ip netns exec test2 ping 192.168.1.1PING 192.168.1.1 (192.168.1.1) 56(84) bytes of data.64 bytes from 192.168.1.1: icmp_seq=1 ttl=64 time=0.048 ms64 bytes from 192.168.1.1: icmp_seq=2 ttl=64 time=0.052 ms64 bytes from 192.168.1.1: icmp_seq=3 ttl=64 time=0.079 ms åœ¨åŒä¸€å°å®¿ä¸»æœºä¸Šçš„dockerå¤šå®¹å™¨ä»–ä»¬åˆ†åˆ«æœ‰å„è‡ªçš„ç½‘ç»œå‘½åç©ºé—´ï¼Œä»–ä»¬ä¹‹é—´çš„é€šä¿¡åŸç†ï¼Œå’Œæˆ‘ä»¬è‡ªå·±åˆ›å»ºçš„test1å’Œtest2è¿™ä¸¤ä¸ªç½‘ç»œå‘½åç©ºé—´ä»–ä»¬ä¹‹é—´çš„é€šä¿¡åŸç†ç±»ä¼¼","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://www.gulj.cn/categories/è¿ç»´/"}],"tags":[{"name":"docker","slug":"docker","permalink":"http://www.gulj.cn/tags/docker/"}]},{"title":"ã€Dockeræ•™ç¨‹ã€‘Docker æ•°æ®æŒä¹…åŒ–","slug":"docker-æ•°æ®æŒä¹…åŒ–","date":"2018-03-30T03:47:38.000Z","updated":"2019-02-14T07:07:12.864Z","comments":true,"path":"2018/03/30/docker-æ•°æ®æŒä¹…åŒ–/","link":"","permalink":"http://www.gulj.cn/2018/03/30/docker-æ•°æ®æŒä¹…åŒ–/","excerpt":"ä»‹ç»Docker å®¹å™¨ä¸€æ—¦åˆ é™¤ï¼Œé‚£ä¹ˆæˆ‘ä»¬åœ¨å®¹å™¨å†…çš„ä¸€åˆ‡æ“ä½œå°†ä¸å¤å­˜åœ¨ï¼Œæ¯”å¦‚æˆ‘ä»¬åœ¨å®¹å™¨å†…å­˜å‚¨çš„æ•°æ®ç­‰ï¼›ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒDocker æå‡ºäº†æ•°æ®å·æ¦‚å¿µï¼Œå°±åƒæˆ‘ä»¬è¿è¡Œä¸€ä¸ªmysqlå®¹å™¨ï¼Œæˆ‘ä»¬éœ€è¦å­˜å‚¨æˆ‘ä»¬çš„æ•°æ®ï¼Œæ—¥å¿—ä¹‹ç±»ï¼Œæƒ³è¦ä»–ä»¬ä¸ä¼šéšç€å®¹å™¨çš„åˆ é™¤è€Œé”€æ¯ï¼Œæˆ–è€…æˆ‘ä»¬éœ€è¦åœ¨å„ä¸ªå®¹å™¨é—´å…±äº«æ•°æ®ï¼Œé‚£ä¹ˆè¿™äº›æ•°æ®å·æˆ–è€…æ•°æ®å·å®¹å™¨éƒ½èƒ½åšåˆ°ã€‚ æ•°æ®å·æ˜¯ä¸€ä¸ªå¯ä¾›ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨ä½¿ç”¨çš„ç‰¹æ®Šç›®å½•ï¼Œå®ƒç»•è¿‡ UFSï¼Œå¯ä»¥æä¾›å¾ˆå¤šæœ‰ç”¨çš„ç‰¹æ€§ï¼š æ•°æ®å·å¯ä»¥åœ¨å®¹å™¨ä¹‹é—´å…±äº«å’Œé‡ç”¨ å¯¹æ•°æ®å·çš„ä¿®æ”¹ä¼šç«‹é©¬ç”Ÿæ•ˆ å¯¹æ•°æ®å·çš„æ›´æ–°ï¼Œä¸ä¼šå½±å“é•œåƒ æ•°æ®å·é»˜è®¤ä¼šä¸€ç›´å­˜åœ¨ï¼Œå³ä½¿å®¹å™¨è¢«åˆ é™¤ æ•°æ®å·çš„ç”Ÿå‘½å‘¨æœŸä¸€ç›´æŒç»­åˆ°æ²¡æœ‰å®¹å™¨ä½¿ç”¨å®ƒä¸ºæ­¢ æ•°æ®å·çš„ä½¿ç”¨ï¼Œç±»ä¼¼äº Linux ä¸‹å¯¹ç›®å½•æˆ–æ–‡ä»¶è¿›è¡Œ mountï¼Œé•œåƒä¸­çš„è¢«æŒ‡å®šä¸ºæŒ‚è½½ç‚¹çš„ç›®å½•ä¸­çš„æ–‡ä»¶ä¼šéšè—æ‰ï¼Œèƒ½æ˜¾ç¤ºçœ‹çš„æ˜¯æŒ‚è½½çš„æ•°æ®å·","text":"ä»‹ç»Docker å®¹å™¨ä¸€æ—¦åˆ é™¤ï¼Œé‚£ä¹ˆæˆ‘ä»¬åœ¨å®¹å™¨å†…çš„ä¸€åˆ‡æ“ä½œå°†ä¸å¤å­˜åœ¨ï¼Œæ¯”å¦‚æˆ‘ä»¬åœ¨å®¹å™¨å†…å­˜å‚¨çš„æ•°æ®ç­‰ï¼›ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒDocker æå‡ºäº†æ•°æ®å·æ¦‚å¿µï¼Œå°±åƒæˆ‘ä»¬è¿è¡Œä¸€ä¸ªmysqlå®¹å™¨ï¼Œæˆ‘ä»¬éœ€è¦å­˜å‚¨æˆ‘ä»¬çš„æ•°æ®ï¼Œæ—¥å¿—ä¹‹ç±»ï¼Œæƒ³è¦ä»–ä»¬ä¸ä¼šéšç€å®¹å™¨çš„åˆ é™¤è€Œé”€æ¯ï¼Œæˆ–è€…æˆ‘ä»¬éœ€è¦åœ¨å„ä¸ªå®¹å™¨é—´å…±äº«æ•°æ®ï¼Œé‚£ä¹ˆè¿™äº›æ•°æ®å·æˆ–è€…æ•°æ®å·å®¹å™¨éƒ½èƒ½åšåˆ°ã€‚ æ•°æ®å·æ˜¯ä¸€ä¸ªå¯ä¾›ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨ä½¿ç”¨çš„ç‰¹æ®Šç›®å½•ï¼Œå®ƒç»•è¿‡ UFSï¼Œå¯ä»¥æä¾›å¾ˆå¤šæœ‰ç”¨çš„ç‰¹æ€§ï¼š æ•°æ®å·å¯ä»¥åœ¨å®¹å™¨ä¹‹é—´å…±äº«å’Œé‡ç”¨ å¯¹æ•°æ®å·çš„ä¿®æ”¹ä¼šç«‹é©¬ç”Ÿæ•ˆ å¯¹æ•°æ®å·çš„æ›´æ–°ï¼Œä¸ä¼šå½±å“é•œåƒ æ•°æ®å·é»˜è®¤ä¼šä¸€ç›´å­˜åœ¨ï¼Œå³ä½¿å®¹å™¨è¢«åˆ é™¤ æ•°æ®å·çš„ç”Ÿå‘½å‘¨æœŸä¸€ç›´æŒç»­åˆ°æ²¡æœ‰å®¹å™¨ä½¿ç”¨å®ƒä¸ºæ­¢ æ•°æ®å·çš„ä½¿ç”¨ï¼Œç±»ä¼¼äº Linux ä¸‹å¯¹ç›®å½•æˆ–æ–‡ä»¶è¿›è¡Œ mountï¼Œé•œåƒä¸­çš„è¢«æŒ‡å®šä¸ºæŒ‚è½½ç‚¹çš„ç›®å½•ä¸­çš„æ–‡ä»¶ä¼šéšè—æ‰ï¼Œèƒ½æ˜¾ç¤ºçœ‹çš„æ˜¯æŒ‚è½½çš„æ•°æ®å· Dockeræä¾›äº†ä¸¤ç§æ–¹å¼ç®¡ç†æ•°æ® æ•°æ®å· æ•°æ®å·å®¹å™¨ æ•°æ®å·æ·»åŠ æ•°æ®å·åœ¨ docker run å‘½ä»¤ä¸­ ä½¿ç”¨ -v æ ‡è¯†ç»™å®¹å™¨å†…æ·»åŠ ä¸€ä¸ªæˆ–è€…å¤šä¸ªæ•°æ®å· åœ¨å®¹å™¨å†…åˆ›å»ºä¸€ä¸ªæ–°çš„æ•°æ®å· /data/shop 1$ docker run -d -P --name my-shop-web -v /data/shop sqgulj/shop-web è¿™ç§æ–¹å¼æˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨Dockerfileä¸­ä½¿ç”¨VOLUMEæŒ‡ä»¤æ¥ç»™åˆ›å»ºçš„å®¹å™¨æ·»åŠ ä¸€ä¸ªæˆ–è€…å¤šä¸ªæ•°æ®å·ï¼Œæ¯”å¦‚å®˜æ–¹çš„ mysql çš„ Dockerfile ä¸­ç”¨ VOLUME æŒ‡å®šäº†æ•°æ®å· 123456789101112131415161718192021.........RUN &#123; apt-get update &amp;&amp; apt-get install -y mysql-server=\"$&#123;MYSQL_VERSION&#125;\" &amp;&amp; rm -rf /var/lib/apt/lists/* \\ &amp;&amp; rm -rf /var/lib/mysql &amp;&amp; mkdir -p /var/lib/mysql /var/run/mysqld \\ &amp;&amp; chown -R mysql:mysql /var/lib/mysql /var/run/mysqld \\# ensure that /var/run/mysqld (used for socket and lock files) is writable regardless of the UID our mysqld instance ends up having at runtime &amp;&amp; chmod 777 /var/run/mysqld \\# comment out a few problematic configuration values &amp;&amp; find /etc/mysql/ -name '*.cnf' -print0 \\ | xargs -0 grep -lZE '^(bind-address|log)' \\ | xargs -rt -0 sed -Ei 's/^(bind-address|log)/#&amp;/' \\# don't reverse lookup hostnames, they are usually another container &amp;&amp; echo '[mysqld]\\nskip-host-cache\\nskip-name-resolve' &gt; /etc/mysql/conf.d/docker.cnfVOLUME /var/lib/mysqlCOPY docker-entrypoint.sh /usr/local/bin/RUN ln -s usr/local/bin/docker-entrypoint.sh /entrypoint.sh # backwards compatENTRYPOINT [\"docker-entrypoint.sh\"]............ å…¶ä¸­ VOLUME /var/lib/mysql æŒ‡å®šäº†mysqlçš„æ•°æ®å· å°†å®¿ä¸»æœºçš„ä¸€ä¸ªç›®å½•ï¼ŒæŒ‚åœ¨åˆ°å®¹å™¨é‡Œä½¿ç”¨ -vï¼Œé™¤äº†å¯ä»¥åˆ›å»ºä¸€ä¸ªæ•°æ®å·ï¼Œè¿˜å¯ä»¥æŒ‚è½½æœ¬åœ°ä¸»æœºç›®å½•åˆ°å®¹å™¨ä¸­ 1$ docker run -d -P --name my-shop-web -v /local/data/shop:/data/shop sqgulj/shop-web è¿™å°†ä¼šæŠŠæœ¬åœ°ç›®å½•/local/data/shopæŒ‚è½½åˆ°å®¹å™¨çš„/data/shopç›®å½•ï¼Œå®¿ä¸»æœºä¸Šçš„ç›®å½•å¿…é¡»æ˜¯ç»å¯¹è·¯å¾„ï¼Œå¦‚æœç›®å½•ä¸å­˜åœ¨dockerä¼šè‡ªåŠ¨åˆ›å»ºå®ƒã€‚ å‡ºäºå¯ç§»æ¤å’Œåˆ†äº«çš„è€ƒè™‘ï¼Œåœ¨Dockerfileä¸­è¿™ç§æ–¹å¼ä¸æ”¯æŒ dockeré»˜è®¤æƒ…å†µä¸‹æ˜¯å¯¹æ•°æ®å·æœ‰è¯»å†™æƒé™ï¼Œä½†æ˜¯æˆ‘ä»¬é€šè¿‡è¿™æ ·çš„æ–¹å¼è®©æ•°æ®å·åªè¯»ï¼š 1$ docker run -d -P --name my-shop-web -v /local/data/shop:/data/shop:ro sqgulj/shop-web è¿™é‡Œæˆ‘ä»¬åŒæ ·æŒ‚è½½äº†/local/data/shopç›®å½•ï¼Œåªæ˜¯æ·»åŠ äº† ro é€‰é¡¹æ¥é™åˆ¶å®ƒåªè¯»ã€‚ å°†å®¿ä¸»æœºä¸Šå•ä¸ªæ–‡ä»¶æŒ‚è½½åˆ°å®¹å™¨ä¸­é™¤äº†èƒ½æŒ‚è½½ç›®å½•å¤–ï¼Œ-v æ ‡è¯†è¿˜å¯ä»¥å°†å®¿ä¸»æœºçš„ä¸€ä¸ªç‰¹å®šæ–‡ä»¶æŒ‚è½½ä¸ºæ•°æ®å· 1$ sudo docker run --rm -it -v ~/.bash_history:/.bash_history ubuntu /bin/bash è¿™æ ·å°±å¯ä»¥è®°å½•åœ¨å®¹å™¨è¾“å…¥è¿‡çš„å‘½ä»¤äº† å¦‚æœç›´æ¥æŒ‚è½½ä¸€ä¸ªæ–‡ä»¶ï¼Œå¾ˆå¤šæ–‡ä»¶ç¼–è¾‘å·¥å…·ï¼ŒåŒ…æ‹¬ vi æˆ–è€… sed â€“in-placeï¼Œå¯èƒ½ä¼šé€ æˆæ–‡ä»¶ inode çš„æ”¹å˜ï¼Œä» Docker 1.1.0èµ·ï¼Œè¿™ä¼šå¯¼è‡´æŠ¥é”™è¯¯ä¿¡æ¯ã€‚æ‰€ä»¥æœ€ç®€å•çš„åŠæ³•å°±ç›´æ¥æŒ‚è½½æ–‡ä»¶çš„çˆ¶ç›®å½•ã€‚ æŸ¥çœ‹æ•°æ®å· ä½¿ç”¨å‘½ä»¤ docker volume å¯ä»¥æŸ¥çœ‹æˆ‘ä»¬ç”Ÿæˆçš„æ•°æ®å· 123$ docker volume ls DRIVER VOLUME NAMElocal b202765855d3b77e574284fde0079d31fb0258997a7b72eb6f7c8299053f216b æˆ‘ä»¬å¯ä»¥çœ‹åˆ°æˆ‘ä»¬æ·»åŠ çš„æ•°æ®å· /data/shop ï¼Œå½“æˆ‘ä»¬æŸ¥çœ‹çš„æ—¶å€™å¹¶ä¸æ˜¯æˆ‘ä»¬æä¾›çš„åç§°ï¼Œè€Œæ˜¯ç”Ÿæˆä¸€ç³»åˆ—çš„éšæœºä¸²ï¼Œå½“æˆ‘ä»¬ä¸ºå¤šä¸ªå®¹å™¨æ·»åŠ æ•°æ®å·çš„æ—¶å€™ï¼Œå®ƒä¹Ÿä¼šä¸ºå…¶ç”Ÿæˆä¸€ç³»åˆ—çš„éšæœºä¸²ï¼Œè¿™æ ·ä¸åˆ©äºæˆ‘ä»¬è¾¨è¯†å“ªäº›æ•°æ®å·æŒ‚åœ¨å“ªä¸ªå®¹å™¨ä¸­ï¼Œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ·»åŠ æ•°æ®æ•°æ®å·çš„æ—¶å€™ï¼Œä¸ºæ•°æ®å·èµ·ä¸ªè¾¨è¯†çš„åç§°ï¼Œæ¯”å¦‚ 1$ docker run -d -P --name my-shop-web -v shopwebdata:/data/shop sqgulj/shop-web æˆ‘ä»¬å‘ç°ï¼Œè¿™æ¬¡æˆ‘ä»¬ä¸ºå®¹å™¨æ·»åŠ ä¸€ä¸ªæ•°æ®çš„æ—¶å€™æˆ‘ä»¬åœ¨å‰é¢åŠ äº†ä¸€ä¸ª shopwebdata ï¼Œæ³¨æ„shopwebdataå‰é¢æ²¡æœ‰æ–œæ ( / )ï¼Œå¦‚æœæœ‰æ–œæ é‚£æ˜¯æŠŠæœ¬åœ°çš„ä¸€ä¸ªç›®å½•æŒ‚è½½åˆ°å®¹å™¨å†…çš„ä¸€ä¸ªç›®å½• 123$ docker volume ls DRIVER VOLUME NAMElocal shopwebdata è¿™æ¬¡æˆ‘ä»¬å°±èƒ½çœ‹åˆ°æˆ‘ä»¬æ·»åŠ çš„æ•°æ®å·å°±æ˜¯æˆ‘ä»¬èµ·çš„åç§°ï¼Œè€Œä¸æ˜¯ä¸€äº›åˆ—çš„éšæœºä¸² ä½¿ç”¨å‘½ä»¤ docker inspect æŸ¥çœ‹æ•°æ®å· 123456789101112131415161718# my-shop-web ä¸ºå®¹å™¨çš„åç§°$ docker inspect my-shop-web............\"Mounts\": [ &#123; \"Type\": \"volume\", \"Name\": \"b202765855d3b77e574284fde0079d31fb0258997a7b72eb6f7c8299053f216b\", \"Source\": \"/var/lib/docker/volumes/b202765855d3b77e574284fde0079d31fb0258997a7b72eb6f7c8299053f216b/_data\", \"Destination\": \"/data/shop\", \"Driver\": \"local\", \"Mode\": \"\", \"RW\": true, \"Propagation\": \"\" &#125; ], ............. è¿™é‡Œåªåˆ—å‡ºäº†å…¶ä¸­çš„ Mounts å±æ€§ï¼Œä»ä¸­å¯ä»¥çœ‹åˆ°Sourceå­—æ®µæ˜¾ç¤ºäº†æ•°æ®å·å­˜æ”¾çš„ä½ç½® åˆ é™¤æ•°æ®å·æ•°æ®å·æ˜¯è¢«è®¾è®¡æ¥æŒä¹…åŒ–æ•°æ®çš„ï¼Œå› æ­¤ï¼Œåˆ é™¤å®¹å™¨å¹¶ä¸ä¼šåˆ é™¤æ•°æ®å·ã€‚å¦‚æœæƒ³è¦åœ¨åˆ é™¤å®¹å™¨æ—¶åŒæ—¶åˆ é™¤æ•°æ®å·ï¼Œå¯ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š 1$ docker rm -v å®¹å™¨ID è¿™æ ·æ—¢å¯åœ¨åˆ é™¤å®¹å™¨çš„åŒæ—¶ä¹Ÿå°†æ•°æ®å·åˆ é™¤ã€‚ æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨ docker volume rm å‘½ä»¤åˆ é™¤æ•°æ®å· 12345# æŸ¥çœ‹æ•°æ®å·$ docker volume ls# æŒ‡å®šæ•°æ®å·åç§°åˆ é™¤$ docker volume rm volume_name volume_name åˆ é™¤æ‰€æœ‰çš„æ•°æ®å· 1docker volume rm $(docker volume ls -f dangling=true -q) æ•°æ®å·å®¹å™¨å¦‚æœæœ‰äº›æ•°æ®ï¼Œéœ€è¦åœ¨å¤šä¸ªå®¹å™¨ä¹‹é—´è¿›è¡Œå…±äº«ï¼Œè¿™æ—¶å€™å¯ä»¥ä½¿ç”¨æ•°æ®å·å®¹å™¨åˆ›å»ºæ•°æ®å·å®¹å™¨ 1docker run --name mysql-volume -v /data mysql å…¶å®ƒå®¹å™¨å¯ä»¥ä½¿ç”¨â€“volumes-fromæ ‡è¯†ï¼Œæ¥ä½¿ç”¨é€šè¿‡åˆšåˆšåˆ›å»ºçš„æ•°æ®å·å®¹å™¨ï¼Œæ¥æŒ‚è½½å¯¹åº”çš„æ•°æ®å· 123$ docker run -d --volumes-from mysql-volume --name db1 mysql$ docker run -d --volumes-from mysql-volume --name db2 mysql è¿™æ · db1 å’Œ db2 ä¸¤ä¸ªå®¹å™¨éƒ½å…±äº« mysql-volume è¿™ä¸ªå®¹å™¨ä¸­çš„æ–‡ä»¶ æŒ‚è½½ç›¸åŒæ•°æ®å·çš„å®¹å™¨ï¼Œå®¹å™¨çš„åœæ­¢å’Œåˆ é™¤ï¼Œä¸ä¼šå¯¹æ•°æ®å·äº§ç”Ÿå½±å“ æˆ‘ä»¬ä¹Ÿè¿˜å¯ä»¥å¯¹ä¸€ä¸ªå®¹å™¨ä½¿ç”¨å¤šä¸ª â€“volumes-from æ ‡è¯†ï¼Œæ¥å°†å¤šä¸ªæ•°æ®å·æ¡¥æ¥åˆ°è¿™ä¸ªå®¹å™¨ä¸­","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://www.gulj.cn/categories/è¿ç»´/"}],"tags":[{"name":"docker","slug":"docker","permalink":"http://www.gulj.cn/tags/docker/"}]},{"title":"ã€Dockeræ•™ç¨‹ã€‘Docker å®¹å™¨","slug":"docker-å®¹å™¨","date":"2018-03-29T06:17:03.000Z","updated":"2019-02-14T07:07:12.864Z","comments":true,"path":"2018/03/29/docker-å®¹å™¨/","link":"","permalink":"http://www.gulj.cn/2018/03/29/docker-å®¹å™¨/","excerpt":"ä»‹ç»Docker å®¹å™¨æ˜¯ç”¨äºè¿è¡Œé•œåƒçš„æ²™ç®±ç¯å¢ƒï¼Œå®ƒæ˜¯ Docker é•œåƒçš„è¿è¡Œå®ä¾‹ï¼›å®¹å™¨éƒ½æ˜¯ç›¸äº’éš”ç¦»ã€äº’ä¸å¯è§çš„ï¼Œæˆ‘ä»¬å¯ä»¥ç†è§£ä¸ºï¼šé•œåƒæ˜¯Dockerç”Ÿå‘½å‘¨æœŸçš„æ‰“åŒ…å’Œæ„å»ºé˜¶æ®µï¼Œè€Œå®¹å™¨æ˜¯Dockerçš„å¯åŠ¨å’Œæ‰§è¡Œé˜¶æ®µã€‚ å®¹å™¨æ˜¯ä»é•œåƒåˆ›å»ºçš„åº”ç”¨è¿è¡Œå®ä¾‹ï¼Œå¯ä»¥å°†å…¶å¯åŠ¨ã€å¼€å§‹ã€åœæ­¢ã€åˆ é™¤ï¼Œè€Œè¿™äº›å®¹å™¨éƒ½æ˜¯ç›¸äº’éš”ç¦»ã€äº’ä¸å¯è§çš„ã€‚ é•œåƒä½¿ç”¨çš„æ˜¯åˆ†å±‚å­˜å‚¨ï¼Œå®¹å™¨ä¹Ÿæ˜¯å¦‚æ­¤ã€‚æ¯ä¸€ä¸ªå®¹å™¨è¿è¡Œæ—¶ï¼Œæ˜¯ä»¥é•œåƒä¸ºåŸºç¡€å±‚ï¼Œåœ¨å…¶ä¸Šåˆ›å»ºä¸€ä¸ªå½“å‰å®¹å™¨çš„å­˜å‚¨å±‚ï¼Œå®¹å™¨å­˜å‚¨å±‚çš„ç”Ÿå­˜å‘¨æœŸå’Œå®¹å™¨ä¸€æ ·ï¼Œå®¹å™¨æ¶ˆäº¡æ—¶ï¼Œå®¹å™¨å­˜å‚¨å±‚ä¹Ÿéšä¹‹æ¶ˆäº¡ã€‚å› æ­¤ï¼Œä»»ä½•ä¿å­˜äºå®¹å™¨å­˜å‚¨å±‚çš„ä¿¡æ¯éƒ½ä¼šéšå®¹å™¨åˆ é™¤è€Œä¸¢å¤±ã€‚ æ•°æ®å·çš„ç”Ÿå­˜å‘¨æœŸç‹¬ç«‹äºå®¹å™¨ï¼Œå®¹å™¨æ¶ˆäº¡ï¼Œæ•°æ®å·ä¸ä¼šæ¶ˆäº¡ã€‚å› æ­¤ï¼Œä½¿ç”¨æ•°æ®å·åï¼Œå®¹å™¨åˆ é™¤æˆ–è€…é‡æ–°è¿è¡Œä¹‹åï¼Œæ•°æ®å´ä¸ä¼šä¸¢å¤±ã€‚","text":"ä»‹ç»Docker å®¹å™¨æ˜¯ç”¨äºè¿è¡Œé•œåƒçš„æ²™ç®±ç¯å¢ƒï¼Œå®ƒæ˜¯ Docker é•œåƒçš„è¿è¡Œå®ä¾‹ï¼›å®¹å™¨éƒ½æ˜¯ç›¸äº’éš”ç¦»ã€äº’ä¸å¯è§çš„ï¼Œæˆ‘ä»¬å¯ä»¥ç†è§£ä¸ºï¼šé•œåƒæ˜¯Dockerç”Ÿå‘½å‘¨æœŸçš„æ‰“åŒ…å’Œæ„å»ºé˜¶æ®µï¼Œè€Œå®¹å™¨æ˜¯Dockerçš„å¯åŠ¨å’Œæ‰§è¡Œé˜¶æ®µã€‚ å®¹å™¨æ˜¯ä»é•œåƒåˆ›å»ºçš„åº”ç”¨è¿è¡Œå®ä¾‹ï¼Œå¯ä»¥å°†å…¶å¯åŠ¨ã€å¼€å§‹ã€åœæ­¢ã€åˆ é™¤ï¼Œè€Œè¿™äº›å®¹å™¨éƒ½æ˜¯ç›¸äº’éš”ç¦»ã€äº’ä¸å¯è§çš„ã€‚ é•œåƒä½¿ç”¨çš„æ˜¯åˆ†å±‚å­˜å‚¨ï¼Œå®¹å™¨ä¹Ÿæ˜¯å¦‚æ­¤ã€‚æ¯ä¸€ä¸ªå®¹å™¨è¿è¡Œæ—¶ï¼Œæ˜¯ä»¥é•œåƒä¸ºåŸºç¡€å±‚ï¼Œåœ¨å…¶ä¸Šåˆ›å»ºä¸€ä¸ªå½“å‰å®¹å™¨çš„å­˜å‚¨å±‚ï¼Œå®¹å™¨å­˜å‚¨å±‚çš„ç”Ÿå­˜å‘¨æœŸå’Œå®¹å™¨ä¸€æ ·ï¼Œå®¹å™¨æ¶ˆäº¡æ—¶ï¼Œå®¹å™¨å­˜å‚¨å±‚ä¹Ÿéšä¹‹æ¶ˆäº¡ã€‚å› æ­¤ï¼Œä»»ä½•ä¿å­˜äºå®¹å™¨å­˜å‚¨å±‚çš„ä¿¡æ¯éƒ½ä¼šéšå®¹å™¨åˆ é™¤è€Œä¸¢å¤±ã€‚ æ•°æ®å·çš„ç”Ÿå­˜å‘¨æœŸç‹¬ç«‹äºå®¹å™¨ï¼Œå®¹å™¨æ¶ˆäº¡ï¼Œæ•°æ®å·ä¸ä¼šæ¶ˆäº¡ã€‚å› æ­¤ï¼Œä½¿ç”¨æ•°æ®å·åï¼Œå®¹å™¨åˆ é™¤æˆ–è€…é‡æ–°è¿è¡Œä¹‹åï¼Œæ•°æ®å´ä¸ä¼šä¸¢å¤±ã€‚ è¿è¡Œå®¹å™¨ä½¿ç”¨ docker run å‘½ä»¤æ¥è¿è¡Œä¸€ä¸ªå®¹å™¨æ ¼å¼ï¼š 1$ docker run [OPTIONS] IMAGE [COMMAND] [ARG...] [flags] OPTIONSè¯´æ˜ï¼š ç”±äº docker run å‘½ä»¤ OPTIONS æ¯”è¾ƒå¤šï¼Œè¿™é‡Œåªé€‰æ‹©å¤§å®¶å¸¸ç”¨çš„å‡ ä¸ªé€‰é¡¹æ¥è¯´æ˜ -i, --interactive=false æ‰“å¼€STDINï¼Œç”¨äºæ§åˆ¶å°äº¤äº’ -t, --tty åˆ†é…ä¸€ä¸ªä¼ªç»ˆç«¯ï¼ˆpseudo-ttyï¼‰å¹¶ç»‘å®šåˆ°å®¹å™¨çš„æ ‡å‡†è¾“å…¥ä¸Š -d, --detach=false æŒ‡å®šå®¹å™¨è¿è¡Œäºå‰å°è¿˜æ˜¯åå°ï¼Œé»˜è®¤ä¸ºfalse -p, --publish list æŒ‡å®šä¸»æœºçš„ç«¯å£å’Œå®¹å™¨ç«¯å£çš„æ˜ å°„ -P, --publish-all ä½¿ç”¨å®¹å™¨å†…éšæœºä¸€ä¸ªç½‘ç»œç«¯å£æ˜ å°„åˆ°æˆ‘ä»¬ä½¿ç”¨çš„ä¸»æœºä¸Š -v, --volume list ç»™å®¹å™¨æŒ‚è½½å­˜å‚¨å·ï¼ŒæŒ‚è½½åˆ°å®¹å™¨çš„æŸä¸ªç›®å½• -m, --memory æŒ‡å®šå®¹å™¨çš„å†…å­˜ä¸Šé™ --link list æŒ‡å®šå®¹å™¨é—´çš„å…³è”ï¼Œä½¿ç”¨å…¶ä»–å®¹å™¨çš„IPã€envç­‰ä¿¡æ¯ -e, --env list è®¾ç½®ç¯å¢ƒå˜é‡ --restart string æŒ‡å®šå®¹å™¨çš„é‡å¯ç­–ç•¥ ç¤ºä¾‹ï¼š åå°è¿è¡Œä¸€ä¸ªnginx 1$ docker run --name mynginx -p 8088:80 -v $PWD/nginx/www:/www -v $PWD/nginx/logs:/wwwlogs -d nginx æŸ¥çœ‹è¿è¡Œçš„å®¹å™¨ æŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„å®¹å™¨ 123$ docker psCONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES76ea0a1383d4 nginx &quot;nginx -g &apos;daemon ofâ€¦&quot; Less than a second ago Up 3 seconds 0.0.0.0:8088-&gt;80/tcp mynginx æŸ¥çœ‹æ‰€æœ‰å®¹å™¨ï¼ˆåŒ…å«æ­£åœ¨è¿è¡Œå’Œé€€å‡ºçš„å®¹å™¨ï¼‰ 123$ docker ps -aCONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES76ea0a1383d4 nginx \"nginx -g 'daemon ofâ€¦\" 3 minutes ago Exited (0) 2 seconds ago mynginx æŸ¥çœ‹å®¹å™¨çš„è¯¦ç»†ä¿¡æ¯ 1$ dokcer inspect mygnix è¿›å…¥å®¹å™¨ä½¿ç”¨ docker exec å‘½ä»¤è¿›å…¥å®¹å™¨æ ¼å¼ï¼š 1$ docker exec [OPTIONS] CONTAINER COMMAND [ARG...] OPTIONSè¯´æ˜ï¼š -d, --detach åˆ†ç¦»æ¨¡å¼: åœ¨åå°è¿è¡Œ -i, --interactive å³ä½¿æ²¡æœ‰é™„åŠ ä¹Ÿä¿æŒSTDIN æ‰“å¼€ -t, --tty åˆ†é…ä¸€ä¸ªä¼ªç»ˆç«¯ -e, --env list è®¾ç½®ç¯å¢ƒå˜é‡ ç¤ºä¾‹ï¼š ä»¥äº¤äº’æ¨¡å¼è¿›å…¥å®¹å™¨ 12$ docker exec -it mynginx /bin/bashroot@76ea0a1383d4:/# åœæ­¢å’Œé‡å¯å®¹å™¨å¦‚æœæ˜¯äº¤äº’å¼è¿è¡Œçš„ä¸€ä¸ªå®¹å™¨ï¼Œå¯ä»¥é€šè¿‡exitå‘½ä»¤å’ŒCtrl+dæ¥é€€å‡ºç»ˆç«¯ï¼Œè¿™æ ·å®¹å™¨ä¼šç«‹åˆ»ç»ˆæ­¢ 123# exit ç›´æ¥é€€å‡ºï¼Œå®¹å™¨ç»ˆæ­¢ï¼›æˆ–è€…å¿«æ·é”®Ctrl+d $ docer run -it centos /bin/bash[root@f7b52eb5ab02 /]# exit ä½¿ç”¨ docker stop å‘½ä»¤æ¥åœæ­¢æ­£åœ¨è¿è¡Œçš„å®¹å™¨æ ¼å¼ï¼š 1$ docker stop [OPTIONS] CONTAINER [CONTAINER...] ç¤ºä¾‹ï¼š æŒ‡å®šå®¹å™¨åç§°åœæ­¢æ­£åœ¨è¿è¡Œçš„å¤šä¸ªå®¹å™¨ 1$ docker stop mynginx myredis é‡æ–°å¯åŠ¨å®¹å™¨ 12345# å¯åŠ¨ç»ˆæ­¢çš„å®¹å™¨$ docker start mynginx# å°†ä¸€ä¸ªè¿è¡Œæ€çš„å®¹å™¨ç»ˆæ­¢ï¼Œç„¶åå†é‡æ–°å¯åŠ¨å®ƒ$ docker restart myredis åˆ é™¤å®¹å™¨ä½¿ç”¨ docker rm å‘½ä»¤åˆ é™¤ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨æ ¼å¼ï¼š 1$ docker rm [OPTIONS] CONTAINER [CONTAINER...] OPTIONSè¯´æ˜ï¼š -f, --force å¼ºåˆ¶åˆ é™¤ -l, --link ç§»é™¤å®¹å™¨é—´çš„ç½‘ç»œè¿æ¥ï¼Œè€Œéå®¹å™¨æœ¬èº« -v, --volumes åˆ é™¤ä¸å®¹å™¨å…³è”çš„å· ç¤ºä¾‹ï¼š å¼ºåˆ¶åˆ é™¤å®¹å™¨mynginx 1$ docker rm -f mynginx åˆ é™¤mygninxï¼Œå¹¶åˆ é™¤å®¹å™¨æŒ‚è½½çš„æ•°æ®å· 1$ docker rm -v mynginx å¼ºåˆ¶åˆ é™¤æ‰€æœ‰çš„å®¹å™¨ 1$ docker rm -f $(docker ps -aq) åˆ é™¤å®¹å™¨ä½¿ç”¨ docker rm å‘½ä»¤ è€Œ åˆ é™¤å®¹å™¨ä½¿ç”¨ docker rmi å‘½ä»¤ï¼Œæ³¨æ„ä¸¤è€…åŒºåˆ« å¯¼å‡ºå®¹å™¨ä½¿ç”¨å‘½ä»¤ docker export å¯¼å‡ºæœ¬åœ°æŸä¸ªå®¹å™¨ 123456789# æŸ¥çœ‹å®¹å™¨åˆ—è¡¨$ docker ps -aCONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMESf7b52eb5ab02 centos \"/bin/bash\" 18 hours ago Exited (0) 18 hours ago heuristic_edison06a6eb00f8bc centos \"/bin/bash\" 18 hours ago Up 18 hours stupefied_euler76ea0a1383d4 nginx \"nginx -g 'daemon ofâ€¦\" 19 hours ago Up 19 hours 0.0.0.0:8088-&gt;80/tcp mynginx# å¯¼å‡ºå®¹å™¨å¿«ç…§,åˆ°æœ¬åœ°æ–‡ä»¶$ docker export 76ea0a1383d4 &gt; mynginx.tar.gz å¯¼å…¥å®¹å™¨ä½¿ç”¨å‘½ä»¤ docker import ä»å¿«ç…§æ–‡ä»¶ä¸­å¯¼å…¥ä¸ºé•œåƒ 1cat mynginx.tar.gz | docker import - sqgulj/nginx:2.0","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://www.gulj.cn/categories/è¿ç»´/"}],"tags":[{"name":"docker","slug":"docker","permalink":"http://www.gulj.cn/tags/docker/"}]},{"title":"ã€Dockeræ•™ç¨‹ã€‘Docker é•œåƒå‘å¸ƒ","slug":"docker-é•œåƒå‘å¸ƒ","date":"2018-03-28T05:37:58.000Z","updated":"2019-02-14T07:07:12.865Z","comments":true,"path":"2018/03/28/docker-é•œåƒå‘å¸ƒ/","link":"","permalink":"http://www.gulj.cn/2018/03/28/docker-é•œåƒå‘å¸ƒ/","excerpt":"ä»‹ç»å¦‚æœæˆ‘ä»¬è‡ªå·±åœ¨æœ¬åœ°åˆ¶ä½œä¸€ä¸ªé•œåƒï¼Œæƒ³æä¾›ç»™ä»–äººä½¿ç”¨æˆ–è€…ä½œä¸ºè‡ªå·±çš„æ—¥å¸¸å­¦ä¹ ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥æŠŠæˆ‘ä»¬åˆ¶ä½œçš„é•œåƒå‘å¸ƒåˆ°DockerHubä¸Šï¼Œè¿™æ ·ä¸ç®¡æ˜¯å…¶å®ƒäººè¿˜æ˜¯æˆ‘ä»¬è‡ªå·±å°±å¯ä»¥ç›´æ¥ä½¿ç”¨ docker pull å‘½ä»¤è·å–åˆ°æˆ‘ä»¬å‘å¸ƒçš„é•œåƒï¼Œè¿™æ ·æˆ‘ä»¬å†ä¹Ÿä¸ç”¨æ‹…å¿ƒä¸€ä¸å°å¿ƒæŠŠæœ¬åœ°é•œåƒåˆ é™¤äº†ï¼›å½“ç„¶å‘å¸ƒåˆ°DockerHubä¸Šçš„é•œåƒæ˜¯å…¬å¼€çš„ï¼Œæ¯ä¸ªäººéƒ½èƒ½è·å–ï¼Œå¦‚æœæˆ‘ä»¬å¸Œæœ›æˆ‘ä»¬å‘å¸ƒçš„é•œåƒæ˜¯ç§æœ‰çš„åªæœ‰æˆ‘ä»¬è‡ªå·±å¯ä»¥çœ‹è§ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨å®˜æ–¹æä¾›çš„registryé•œåƒæ¥æ­å»ºè‡ªå·±ç§æœ‰çš„é•œåƒä»“åº“,å½“ç„¶æˆ‘ä»¬ä¹Ÿè¿˜å¯ä»¥ä½¿ç”¨Harboræ¥æ­å»ºä¼ä¸šçº§ç§æœ‰ä»“åº“æœåŠ¡å™¨","text":"ä»‹ç»å¦‚æœæˆ‘ä»¬è‡ªå·±åœ¨æœ¬åœ°åˆ¶ä½œä¸€ä¸ªé•œåƒï¼Œæƒ³æä¾›ç»™ä»–äººä½¿ç”¨æˆ–è€…ä½œä¸ºè‡ªå·±çš„æ—¥å¸¸å­¦ä¹ ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥æŠŠæˆ‘ä»¬åˆ¶ä½œçš„é•œåƒå‘å¸ƒåˆ°DockerHubä¸Šï¼Œè¿™æ ·ä¸ç®¡æ˜¯å…¶å®ƒäººè¿˜æ˜¯æˆ‘ä»¬è‡ªå·±å°±å¯ä»¥ç›´æ¥ä½¿ç”¨ docker pull å‘½ä»¤è·å–åˆ°æˆ‘ä»¬å‘å¸ƒçš„é•œåƒï¼Œè¿™æ ·æˆ‘ä»¬å†ä¹Ÿä¸ç”¨æ‹…å¿ƒä¸€ä¸å°å¿ƒæŠŠæœ¬åœ°é•œåƒåˆ é™¤äº†ï¼›å½“ç„¶å‘å¸ƒåˆ°DockerHubä¸Šçš„é•œåƒæ˜¯å…¬å¼€çš„ï¼Œæ¯ä¸ªäººéƒ½èƒ½è·å–ï¼Œå¦‚æœæˆ‘ä»¬å¸Œæœ›æˆ‘ä»¬å‘å¸ƒçš„é•œåƒæ˜¯ç§æœ‰çš„åªæœ‰æˆ‘ä»¬è‡ªå·±å¯ä»¥çœ‹è§ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨å®˜æ–¹æä¾›çš„registryé•œåƒæ¥æ­å»ºè‡ªå·±ç§æœ‰çš„é•œåƒä»“åº“,å½“ç„¶æˆ‘ä»¬ä¹Ÿè¿˜å¯ä»¥ä½¿ç”¨Harboræ¥æ­å»ºä¼ä¸šçº§ç§æœ‰ä»“åº“æœåŠ¡å™¨ é•œåƒå‘å¸ƒåˆ° DockerHubé•œåƒå‘å¸ƒåˆ° DockerHubï¼Œé¦–å…ˆæˆ‘ä»¬éœ€è¦æ³¨å†Œ DockerHub è´¦å·ï¼Œå‡è®¾ç°åœ¨å¤§å®¶éƒ½æœ‰äº†DokcerHubçš„è´¦å·ï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥æˆ‘ä»¬åœ¨æœ¬åœ°åˆ¶ä½œä¸€ä¸ªè‡ªå·±çš„é•œåƒ åˆ›å»ºä¸€ä¸ªgetipç›®å½•ï¼Œè¿›å…¥åˆ°getipç›®å½•ï¼Œç¼–å†™Dockerfile 12345$ mkdir getip$ cd getip $ vim Dockerfile Dokcerfileæ–‡ä»¶ä¸­å†…å®¹ 1234567FROM ubuntu:16.04RUN apt-get update \\ &amp;&amp; apt-get install -y curl \\ &amp;&amp; rm -rf /var/lib/apt/lists/*ENTRYPOINT [\"curl\",\"-s\",\"http://ip.cn\"] åœ¨getipç›®å½•æ‰§è¡Œ docker build å‘½ä»¤æ„å»ºé•œåƒ 12# æ„å»ºé•œåƒ(æ³¨æ„ä»“åº“åå¿…é¡»æ˜¯ä½ æ³¨å†Œçš„ dockerhub çš„ç”¨æˆ·å)docker build -t sqgulj/get-ip:1.0 . æŸ¥çœ‹æ„å»ºçš„é•œåƒ 123$ docker images;REPOSITORY TAG IMAGE ID CREATED SIZEsqgulj/get-ip 1.0 e381e0c1b380 3 hours ago 129MB åœ¨ç»ˆç«¯ä½¿ç”¨ docker login å‘½ä»¤ï¼Œè¾“å…¥è‡ªå·±çš„DockerHubè´¦å·ä¿¡æ¯è¿›è¡Œç™»å½• 123docker loginLogin with your Docker ID to push and pull images from Docker Hub. If you don't have a Docker ID, head over to https://hub.docker.com to create one.Username (sqgulj): ä½¿ç”¨ docker push å‘½ä»¤æŠŠæˆ‘åˆšåˆ¶ä½œçš„é•œåƒæ¨é€åˆ°DockerHub 123456789$ docker push sqgulj/get-ipThe push refers to repository [docker.io/sqgulj/get-ip]83dc3de4596c: Pusheddb584c622b50: Mounted from library/ubuntu52a7ea2bb533: Mounted from library/ubuntu52f389ea437e: Mounted from library/ubuntu88888b9b1b5b: Mounted from library/ubuntua94e0d5a7c40: Mounted from library/ubuntu1.0: digest: sha256:1a3fa4e93464054c2f8050d6f846cccbe943c5e9f6d67f98f2013a32652f3f0b size: 1568 æµè§ˆå™¨ç™»å½•åˆ°DockerHubæŸ¥çœ‹æˆ‘ä»¬æ¨é€çš„é•œåƒ","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://www.gulj.cn/categories/è¿ç»´/"}],"tags":[{"name":"docker","slug":"docker","permalink":"http://www.gulj.cn/tags/docker/"}]},{"title":"ã€Dockeræ•™ç¨‹ã€‘Docker é•œåƒåŠ é€Ÿå™¨","slug":"docker-é•œåƒåŠ é€Ÿå™¨","date":"2018-03-27T14:29:18.000Z","updated":"2019-02-14T07:07:12.864Z","comments":true,"path":"2018/03/27/docker-é•œåƒåŠ é€Ÿå™¨/","link":"","permalink":"http://www.gulj.cn/2018/03/27/docker-é•œåƒåŠ é€Ÿå™¨/","excerpt":"ä»‹ç»ç”±äºå›½å†…è®¿é—®å®˜æ–¹ï¼ˆDockerHubï¼‰çš„é•œåƒæ¯”è¾ƒæ…¢ï¼Œå¯ä»¥ä½¿ç”¨é˜¿é‡Œäº‘å’ŒDaoCloudä¸ºæˆ‘ä»¬æä¾›çš„é•œåƒ é˜¿é‡Œäº‘é•œåƒåŠ é€Ÿå™¨åœ°å€ DaoCloud é•œåƒåŠ é€Ÿå™¨åœ°å€ æœ¬æ–‡ç¬”è€…ä¼šåˆ†åˆ«ä»‹ç»MacOså¹³å°å’ŒCentos7å¹³å°ä¸‹é…ç½®è¿™ä¸¤ç§çš„é•œåƒåŠ é€Ÿå™¨åœ°å€","text":"ä»‹ç»ç”±äºå›½å†…è®¿é—®å®˜æ–¹ï¼ˆDockerHubï¼‰çš„é•œåƒæ¯”è¾ƒæ…¢ï¼Œå¯ä»¥ä½¿ç”¨é˜¿é‡Œäº‘å’ŒDaoCloudä¸ºæˆ‘ä»¬æä¾›çš„é•œåƒ é˜¿é‡Œäº‘é•œåƒåŠ é€Ÿå™¨åœ°å€ DaoCloud é•œåƒåŠ é€Ÿå™¨åœ°å€ æœ¬æ–‡ç¬”è€…ä¼šåˆ†åˆ«ä»‹ç»MacOså¹³å°å’ŒCentos7å¹³å°ä¸‹é…ç½®è¿™ä¸¤ç§çš„é•œåƒåŠ é€Ÿå™¨åœ°å€ MacOS å¹³å°é…ç½®é˜¿é‡Œäº‘DockeråŠ é€Ÿå™¨ ç™»å½•é˜¿é‡Œäº‘æ§åˆ¶å°ï¼ˆéœ€è¦æ³¨å†Œé˜¿é‡Œäº‘å¼€å‘è€…å¹³å°è´¦å·ï¼‰ï¼Œè®¿é—®åœ°å€ï¼šhttps://cr.console.aliyun.com/#/accelerator å¯æŸ¥çœ‹è‡ªå·±ä¸“æœ‰çš„é•œåƒåº“åŠ é€Ÿå™¨åœ°å€ ä¸‹å›¾å±•ç¤ºçš„æ˜¯ç¬”è€…çš„é˜¿é‡Œäº‘é•œåƒåŠ é€Ÿå™¨ç•Œé¢ å³é”®ç‚¹å‡»æ¡Œé¢é¡¶æ çš„ docker å›¾æ ‡ Perferencesâ€¦ -&gt; Daemon -&gt; Registry mirrorsï¼Œæ·»åŠ ä»£ç†åœ°å€ï¼Œè®°å¾—ç‚¹å‡» Apply &amp; Restart æŒ‰é’®ä½¿è®¾ç½®ç”Ÿæ•ˆã€‚ å‡ºç°çš„ â€œregistry-mirrorsâ€ : No certs for 6wnqhom.mirror.aliyuncs.comâ€¦ è­¦å‘Šå¯ä»¥å¿½ç•¥ã€‚ é…ç½®DaoCloudçš„DockeråŠ é€Ÿå™¨ æ‰“å¼€åœ°å€ï¼šhttps://www.daocloud.io/mirror#accelerator-doc å¯ä»¥ä½¿ç”¨githubè´¦å·ç™»å½•æˆ–è€…å¾®ä¿¡ æ·»åŠ DaoCloudçš„dokceré•œåƒä»£ç†åœ°å€å’Œæ·»åŠ é˜¿é‡Œäº‘Dockerä»£ç†åœ°å€æ–¹æ³•ä¸€æ ·ï¼Œè¯»è€…å¯ä»¥å‚è€ƒä¸Šé¢æ·»åŠ çš„é˜¿é‡Œäº‘dockeråŠ é€Ÿå™¨ä»£ç†åœ°å€ Centos7 å¹³å°é…ç½®é˜¿é‡Œäº‘DockeråŠ é€Ÿå™¨é€šè¿‡ä¸Šé¢æˆ‘ä»¬å·²ç»çŸ¥é“äº†å¦‚ä½•è·å–è‡ªå·±çš„çš„é˜¿é‡Œäº‘dockeré•œåƒä»£ç†åœ°å€ ä¿®æ”¹daemoné…ç½®æ–‡ä»¶/etc/docker/daemon.jsonæ¥ä½¿ç”¨åŠ é€Ÿå™¨ï¼š åˆ†åˆ«æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œè®°å¾—æŠŠåŠ é€Ÿå™¨çš„åœ°å€ï¼Œæ”¹æˆè‡ªå·±çš„åŠ é€Ÿå™¨åœ°å€ã€‚ 123456789101112sudo mkdir -p /etc/dockersudo tee /etc/docker/daemon.json &lt;&lt;-'EOF'&#123; \"registry-mirrors\": [\"https://XXXXX.mirror.aliyuncs.com\"]&#125;EOFsudo systemctl daemon-reloadsudo systemctl restart docker é’ˆå¯¹Dockerå®¢æˆ·ç«¯ç‰ˆæœ¬å¤§äº1.10.0çš„ç”¨æˆ· æ£€æŸ¥åŠ é€Ÿå™¨æ˜¯å¦ç”Ÿæ•ˆ Linuxç³»ç»Ÿä¸‹é…ç½®å®ŒåŠ é€Ÿå™¨éœ€è¦æ£€æŸ¥æ˜¯å¦ç”Ÿæ•ˆï¼Œåœ¨å‘½ä»¤è¡Œæ‰§è¡Œ ps -ef | grep dockerdï¼Œå¦‚æœä»ç»“æœä¸­çœ‹åˆ°äº†é…ç½®çš„ â€“registry-mirror å‚æ•°è¯´æ˜é…ç½®æˆåŠŸ å¦‚æœDockerç‰ˆæœ¬å¤§äº1.13æˆ–17.05.0-ce 123$ sudo docker info|grep \"Registry Mirrors\" -A 1Registry Mirrors: https://16wnqhom.mirror.aliyuncs.com/","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://www.gulj.cn/categories/è¿ç»´/"}],"tags":[{"name":"docker","slug":"docker","permalink":"http://www.gulj.cn/tags/docker/"}]},{"title":"ã€Dockeræ•™ç¨‹ã€‘Docker é•œåƒ","slug":"docker-é•œåƒ","date":"2018-03-27T11:03:41.000Z","updated":"2019-02-14T07:07:12.864Z","comments":true,"path":"2018/03/27/docker-é•œåƒ/","link":"","permalink":"http://www.gulj.cn/2018/03/27/docker-é•œåƒ/","excerpt":"è·å–é•œåƒå®˜æ–¹çš„ DockerHub ä¸Šæœ‰å¾ˆå¤šå¼€æºçš„é«˜è´¨é‡é•œåƒï¼Œå¯ä»¥ç›´æ¥ä¾›æˆ‘ä»¬ä½¿ç”¨ ä½¿ç”¨docker pull å‘½ä»¤ç›´æ¥ä» DockerHub ä¸Šè·å– æ ¼å¼ï¼š 1docker pull [é€‰é¡¹] [docker registry åœ°å€]:&lt;ä»“åº“å&gt;:&lt;æ ‡ç­¾&gt; ç¤ºä¾‹ï¼š 123456789# è·å–nginxé•œåƒ$ docker pull nginxUsing default tag: latestlatest: Pulling from library/nginx2a72cbf407d6: Pull completefefa2faca81f: Pull complete080aeede8114: Pull completeDigest: sha256:c4ee0ecb376636258447e1d8effb56c09c75fe7acf756bf7c13efadf38aa0acaStatus: Downloaded newer image for nginx:latest","text":"è·å–é•œåƒå®˜æ–¹çš„ DockerHub ä¸Šæœ‰å¾ˆå¤šå¼€æºçš„é«˜è´¨é‡é•œåƒï¼Œå¯ä»¥ç›´æ¥ä¾›æˆ‘ä»¬ä½¿ç”¨ ä½¿ç”¨docker pull å‘½ä»¤ç›´æ¥ä» DockerHub ä¸Šè·å– æ ¼å¼ï¼š 1docker pull [é€‰é¡¹] [docker registry åœ°å€]:&lt;ä»“åº“å&gt;:&lt;æ ‡ç­¾&gt; ç¤ºä¾‹ï¼š 123456789# è·å–nginxé•œåƒ$ docker pull nginxUsing default tag: latestlatest: Pulling from library/nginx2a72cbf407d6: Pull completefefa2faca81f: Pull complete080aeede8114: Pull completeDigest: sha256:c4ee0ecb376636258447e1d8effb56c09c75fe7acf756bf7c13efadf38aa0acaStatus: Downloaded newer image for nginx:latest ä½¿ç”¨Dockerfileæ„å»ºDockeré•œåƒ ï¼ˆå»ºè®®ä½¿ç”¨Dockerfileæ„å»ºè‡ªå·±çš„Dockeré•œåƒï¼‰ æ ¼å¼ï¼š docker image build [OPTIONS] PATH | URL | - [flags] ç®€å†™ï¼š docker build [OPTIONS] PATH | URL | - [flags] åˆ›å»ºä¸€ä¸ªnginxç›®å½•ï¼Œç¼–å†™dockerfileæ–‡ä»¶ 123456789# åˆ›å»ºä¸€ä¸ªnginxç›®å½•$ mkdir nginx# ç¼–å†™Dockerfileæ–‡ä»¶ (æ³¨æ„åç§°å¿…é¡»ä¸º:Dockerfile)$ vim Dockerfile# Dockerfile æ–‡ä»¶ä¸­å†…å®¹FROM nginxRUN echo '&lt;h1&gt;Hello, nginx!&lt;/h1&gt;' &gt; /usr/share/nginx/html/index.html åœ¨ Dockerfile æ–‡ä»¶æ‰€åœ¨ç›®å½•æ‰§è¡Œä¸‹é¢å‘½ä»¤ï¼Œæ„å»ºåä¸º gulj/nginx:v1 çš„dockeré•œåƒ 12# æ„å»ºåä¸º mynginx:v1 çš„é•œåƒ$ docker build -t gulj/nginx:v1 . ä½¿ç”¨docker commit å‘½ä»¤é€šè¿‡å·²æœ‰çš„ å®¹å™¨ åˆ›å»ºé•œåƒï¼ˆä¸å»ºè®®ä½¿ç”¨ï¼‰ æ ¼å¼ï¼šdocker container commit [é€‰é¡¹] &lt;å®¹å™¨IDæˆ–å®¹å™¨å&gt; [&lt;ä»“åº“å&gt;[:&lt;æ ‡ç­¾&gt;]] ç®€å†™ï¼šdocker commit [é€‰é¡¹] &lt;å®¹å™¨IDæˆ–å®¹å™¨å&gt; [&lt;ä»“åº“å&gt;[:&lt;æ ‡ç­¾&gt;]] æ—¢ç„¶é€šè¿‡å®¹å™¨åˆ›å»ºé•œåƒï¼Œé‚£ä¹ˆé¦–å…ˆéœ€è¦è¿è¡Œä¸€ä¸ªå®¹å™¨ï¼Œè€Œè¿è¡Œä¸€ä¸ªå®¹å™¨éœ€è¦ä¸€ä¸ªåŸºç¡€é•œåƒï¼Œä¸‹é¢å°†ä½¿ç”¨å®˜æ–¹çš„centosé•œåƒï¼Œé€šè¿‡åŠ å·¥æ¥æ„å»ºè‡ªå·±çš„é•œåƒ å¤§è‡´æµç¨‹å¦‚ä¸‹ï¼š â‘  è·å–å®˜æ–¹çš„centosé•œåƒ â‘¡ å¯¹è·å–çš„centosé•œåƒæ‰§è¡Œdocker run å‘½ä»¤è·å–ä¸€ä¸ªå®¹å™¨ â‘¢ å¯¹è·å–çš„å®¹å™¨è¿›è¡Œå®‰è£…vimæ“ä½œï¼Œå®‰è£…ç»“æŸï¼Œé€€å‡ºå®¹å™¨ï¼ˆé»˜è®¤å®˜æ–¹çš„centosé•œåƒæ²¡æœ‰vimå‘½ä»¤ï¼‰ â‘£ é€šè¿‡docker commit å‘½ä»¤æ„å»ºé•œåƒï¼Œè¿™æ ·æˆ‘ä»¬å°±èƒ½å¾—åˆ°äº†ä¸€ä¸ªå¸¦æœ‰vimå‘½ä»¤çš„centosé•œåƒ æŒ‰ç…§æµç¨‹æ“ä½œæ¼”ç¤º 1234567891011121314151617181920212223242526272829# è·å–centosé•œåƒ$ docker pull centosUsing default tag: latestlatest: Pulling from library/centos5e35d10a3eba: Pull completeDigest: sha256:dcbc4e5e7052ea2306eed59563da1fec09196f2ecacbe042acbdcd2b44b05270Status: Downloaded newer image for centos:latest# ä»¥äº¤äº’å¼æ–¹å¼è·å–ä¸€ä¸ªå®¹å™¨,è¿™æ ·æˆ‘ä»¬å°±ä¼šè¿›å…¥å®¹å™¨å†…ï¼Œå®‰è£…vimï¼Œå®‰è£…å®Œä¹‹åé€€å‡ºå®¹å™¨$ docker run -it centos# åœ¨å®¹å™¨å†…å®‰è£…vim[root@34046cf71732 /] yum install vim -y # é€€å‡ºå®¹å™¨[root@34046cf71732 /] exit # æŸ¥çœ‹æˆ‘ä»¬åˆšæ‰è¿è¡Œçš„å®¹å™¨$ dokcer ps -a CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES34046cf71732 centos \"/bin/bash\" 10 minutes ago Exited (0) 15 seconds ago cocky_euler# æ„å»ºå®‰è£…vimçš„centosé•œåƒ, --author æ˜¯æŒ‡å®šä¿®æ”¹çš„ä½œè€…ï¼Œè€Œ --message åˆ™æ˜¯è®°å½•æœ¬æ¬¡ä¿®æ”¹çš„å†…å®¹ï¼Œå¯çœç•¥$ docker commit --author \"gulj &lt;sqgulj@gmail.com&gt;\" --message \"å®‰è£…äº†vim\" cocky_euler gulj/centos-vim:1.0sha256:1109b8f3ea7826225d1dc1ee2693507fe8402eaeeafc57d24b907018a5cc0951# æŸ¥çœ‹æˆ‘ä»¬æ„å»ºçš„é•œåƒ$ docker imagesREPOSITORY TAG IMAGE ID CREATED SIZEgulj/centos-vim 1.0 1109b8f3ea78 15 seconds ago 354MBcentos latest 2d194b392dd1 3 weeks ago 195MB ä¸‹é¢æˆ‘ä»¬é€šè¿‡docker history å‘½ä»¤æŸ¥çœ‹é•œåƒå†…çš„å†å²è®°å½•ï¼Œä¸ centos:latest çš„é•œåƒå†å²è®°å½•æ¯”è¾ƒï¼Œæˆ‘ä»¬ä¼šå¾ˆæ˜æ˜¾åœ°å‘ç°ï¼Œgulj/centos-vim:1.0 çš„é•œåƒå†å²è®°å½•æ¯” centos:latest çš„é•œåƒå†å²è®°å½•å¤šäº†ä¸€å±‚ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬æäº¤çš„ä¸€å±‚ï¼ˆsha256:1109b8f3ea7826225d1â€¦ï¼‰ 1234567891011121314# centos:latest é•œåƒ$ docker history centosIMAGE CREATED CREATED BY SIZE COMMENT2d194b392dd1 3 weeks ago /bin/sh -c #(nop) CMD [\"/bin/bash\"] 0B&lt;missing&gt; 3 weeks ago /bin/sh -c #(nop) LABEL name=CentOS Base Imâ€¦ 0B&lt;missing&gt; 3 weeks ago /bin/sh -c #(nop) ADD file:8d83f3e2c14f39e7fâ€¦ 195MB# æˆ‘ä»¬è‡ªå·±æ„å»ºçš„gulj/centos-vim:1.0é•œåƒ$ docker history gulj/centos-vim:1.0IMAGE CREATED CREATED BY SIZE COMMENT1109b8f3ea78 9 minutes ago /bin/bash 158MB2d194b392dd1 3 weeks ago /bin/sh -c #(nop) CMD [\"/bin/bash\"] 0B&lt;missing&gt; 3 weeks ago /bin/sh -c #(nop) LABEL name=CentOS Base Imâ€¦ 0B&lt;missing&gt; 3 weeks ago /bin/sh -c #(nop) ADD file:8d83f3e2c14f39e7fâ€¦ 195MB docker commit æ“ä½œåªä¸“æ³¨äºå¯è¯»å¯å†™å±‚ï¼ˆRead-Write Layerï¼‰ï¼Œæ•°æ®å· VOLUME æŒ‚è½½çš„ç›®å½•å†…å®¹ï¼Œè¿˜æœ‰ç±»ä¼¼äº hostsã€hostsname å’Œresolv.conf ç­‰æŒ‚è½½æ–‡ä»¶ï¼Œå½“ç„¶è¿˜æœ‰ä¸€äº›å¦‚ /proc å’Œ /sys ç­‰è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿçš„å†…å®¹éƒ½å°†ä¸ä¼šå‡ºç°åœ¨æ‰“åŒ…åçš„é•œåƒä¸­ é•œåƒå¸¸ç”¨å‘½ä»¤æœç´¢é•œåƒä½¿ç”¨ docker search å‘½ä»¤ä»DockerHubä¸­æœç´¢æ ¼å¼ï¼š 1docker search [OPTIONS] TERM OPTIONSè¯´æ˜ï¼š -f, --filter filter æ ¹æ®æŒ‡å®šæ¡ä»¶è¿‡æ»¤ç»“æœ --format string é€šè¿‡Goè¯­è¨€æ¨¡æ¿æ–‡ä»¶å±•ç¤ºé•œåƒ --limit int é™åˆ¶æ˜¾ç¤ºçš„ä¸ªæ•° --no-trunc æ˜¾ç¤ºå®Œæ•´çš„é•œåƒæè¿° ç¤ºä¾‹ï¼š ä»Docker HubæŸ¥æ‰¾æ‰€æœ‰é•œåƒååŒ…å«nginxï¼Œå¹¶ä¸”æ”¶è—æ•°å¤§äº500çš„é•œåƒ 12345docker search -f=stars=500 nginxNAME DESCRIPTION STARS OFFICIAL AUTOMATEDnginx Official build of Nginx. 8227 [OK]jwilder/nginx-proxy Automated Nginx reverse proxy for docker conâ€¦ 1300 [OK]richarvey/nginx-php-fpm Container running Nginx + PHP-FPM capable ofâ€¦ 538 [OK] åˆ—å‡ºé•œåƒä½¿ç”¨ docker images å‘½ä»¤åˆ—å‡ºæœ¬åœ°é•œåƒæ ¼å¼ï¼š 1docker images [OPTIONS] [REPOSITORY[:TAG]] OPTIONSè¯´æ˜ï¼š -a, --all æ˜¾ç¤ºæ‰€æœ‰çš„é•œåƒ (é»˜è®¤éšè—ä¸­é—´å±‚é•œåƒ) --digests æ˜¾ç¤ºæ‘˜è¦ -f, --filter filter æ˜¾ç¤ºæ»¡è¶³æ¡ä»¶çš„é•œåƒ --format string é€šè¿‡Goè¯­è¨€æ¨¡æ¿æ–‡ä»¶å±•ç¤ºé•œåƒ --no-trunc æ˜¾ç¤ºå®Œæ•´çš„é•œåƒä¿¡æ¯ -q, --quiet åªæ˜¾ç¤ºé•œåƒID ç¤ºä¾‹ï¼š æŸ¥çœ‹æœ¬åœ°é•œåƒåˆ—è¡¨ 123456docker images æˆ–è€… docker images lsgulj/centos-vim 1.0 1109b8f3ea78 4 hours ago 354MBnginx latest 7f70b30f2cc6 6 days ago 109MBcentos latest 2d194b392dd1 3 weeks ago 195MBpostgres latest 6152297591eb 3 weeks ago 289MBbusybox latest f6e427c148a7 3 weeks ago 1.15MB å…¶å®ƒä½¿ç”¨æ–¹å¼ï¼š 123456789101112131415docker image lsdocker images -q # åªå±•ç¤ºé•œåƒçš„IDdocker images mysqldocker images mysql:5.7docker images --digests mysql:5.7 docker images -f since=mysql:5.7 # å±•ç¤º mysql:5.7 ä¹‹åå»ºç«‹çš„é•œåƒdocker images --format \"&#123;&#123;.ID&#125;&#125;\\t&#123;&#123;.Repository&#125;&#125;\" # åªå±•ç¤ºé•œåƒIDå’Œä»“åº“docker images -f \"dangling=true\" # å±•ç¤ºè™šæ‚¬é•œåƒ åˆ é™¤é•œåƒä½¿ç”¨ docker rmi å‘½ä»¤åˆ é™¤æœ¬åœ°ä¸€ä¸ªæˆ–å¤šä¸ªé•œåƒæ ¼å¼ï¼š 1docker rmi [OPTIONS] IMAGE [IMAGE...] [flags] OPTIONSè¯´æ˜ï¼š -f, --force å¼ºåˆ¶åˆ é™¤ --no-prune ä¸ç§»é™¤è¯¥é•œåƒçš„è¿‡ç¨‹é•œåƒï¼Œé»˜è®¤ç§»é™¤ ç¤ºä¾‹ï¼š å¼ºåˆ¶åˆ é™¤æœ¬åœ°æŒ‡å®šåç§°çš„é•œåƒ 1docker images rmi -f gitlab/gitlab-ce å…¶å®ƒä½¿ç”¨æ–¹å¼ï¼š 123456789docker rmi -f 2aa1fe2f052b # æ ¹æ®é•œåƒIDåˆ é™¤æŒ‡å®šé•œåƒdocker rmi gulj/centos-vim nginx busybox # åˆ é™¤å¤šä¸ªé•œåƒdocker rmi $(docker images -q redis) # åˆ é™¤æ‰€æœ‰ä»“åº“åä¸ºreidsçš„é•œåƒdocker rmi $(docker images -q -f dangling=true) # åˆ é™¤æ‰€æœ‰çš„è™šæ‚¬é•œåƒdocker rmi $(docker images -aq) # åˆ é™¤æ‰€æœ‰çš„é•œåƒ","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://www.gulj.cn/categories/è¿ç»´/"}],"tags":[{"name":"docker","slug":"docker","permalink":"http://www.gulj.cn/tags/docker/"}]},{"title":"ã€Dockeræ•™ç¨‹ã€‘Docker åˆè¯†","slug":"docker-åˆè¯†","date":"2018-03-27T01:44:09.000Z","updated":"2019-02-14T07:07:12.863Z","comments":true,"path":"2018/03/27/docker-åˆè¯†/","link":"","permalink":"http://www.gulj.cn/2018/03/27/docker-åˆè¯†/","excerpt":"ä»‹ç»Docker é‡‡ç”¨çš„æ˜¯ Client/Server æ¶æ„ã€‚å®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼ŒæœåŠ¡å™¨è´Ÿè´£æ„å»ºã€è¿è¡Œå’Œåˆ†å‘å®¹å™¨ã€‚å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨å¯ä»¥è¿è¡Œåœ¨åŒä¸€ä¸ª Host ä¸Šï¼Œå®¢æˆ·ç«¯ä¹Ÿå¯ä»¥é€šè¿‡ socket æˆ– REST API ä¸è¿œç¨‹çš„æœåŠ¡å™¨é€šä¿¡ã€‚ ç³»ç»Ÿæ¶æ„","text":"ä»‹ç»Docker é‡‡ç”¨çš„æ˜¯ Client/Server æ¶æ„ã€‚å®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼ŒæœåŠ¡å™¨è´Ÿè´£æ„å»ºã€è¿è¡Œå’Œåˆ†å‘å®¹å™¨ã€‚å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨å¯ä»¥è¿è¡Œåœ¨åŒä¸€ä¸ª Host ä¸Šï¼Œå®¢æˆ·ç«¯ä¹Ÿå¯ä»¥é€šè¿‡ socket æˆ– REST API ä¸è¿œç¨‹çš„æœåŠ¡å™¨é€šä¿¡ã€‚ ç³»ç»Ÿæ¶æ„ æ ¸å¿ƒæŠ€æœ¯ Namespaces (namespace) Namespaceæ˜¯Linuxæä¾›çš„ä¸€ç§å†…æ ¸çº§åˆ«ç¯å¢ƒéš”ç¦»çš„æ–¹æ³•,æä¾›äº†å¯¹UTSã€IPCã€mountã€PIDã€networkã€Userç­‰çš„éš”ç¦»æœºåˆ¶ã€‚ Control groups (CGroup) ç”¨æ¥é™åˆ¶ï¼Œæ§åˆ¶ä¸åˆ†ç¦»ä¸€ä¸ªè¿›ç¨‹ç»„ç¾¤çš„èµ„æºï¼ˆå¦‚CPUã€å†…å­˜ã€ç£ç›˜è¾“å…¥è¾“å‡ºç­‰ï¼‰ å¯â€‹â€‹ä»¥è®©â€‹â€‹â€‹æ‚¨â€‹â€‹â€‹ä¸ºâ€‹â€‹â€‹ç³»â€‹â€‹â€‹ç»Ÿâ€‹â€‹â€‹ä¸­â€‹â€‹â€‹æ‰€â€‹â€‹â€‹è¿â€‹â€‹â€‹è¡Œâ€‹â€‹â€‹ä»»â€‹â€‹â€‹åŠ¡â€‹â€‹â€‹ï¼ˆè¿›â€‹â€‹â€‹ç¨‹â€‹â€‹â€‹ï¼‰çš„â€‹â€‹â€‹ç”¨â€‹â€‹â€‹æˆ·â€‹â€‹â€‹å®šâ€‹â€‹â€‹ä¹‰â€‹â€‹â€‹ç»„â€‹â€‹â€‹ç¾¤â€‹â€‹â€‹åˆ†â€‹â€‹â€‹é…â€‹â€‹â€‹èµ„â€‹â€‹â€‹æºâ€‹â€‹â€‹ â€” æ¯”â€‹â€‹â€‹å¦‚â€‹â€‹â€‹ CPU æ—¶â€‹â€‹â€‹é—´â€‹â€‹â€‹ã€â€‹â€‹â€‹ç³»â€‹â€‹â€‹ç»Ÿâ€‹â€‹â€‹å†…â€‹â€‹â€‹å­˜â€‹â€‹â€‹ã€â€‹â€‹â€‹ç½‘â€‹â€‹â€‹ç»œâ€‹â€‹â€‹å¸¦â€‹â€‹â€‹å®½â€‹â€‹â€‹æˆ–â€‹â€‹â€‹è€…â€‹â€‹â€‹è¿™â€‹â€‹â€‹äº›â€‹â€‹â€‹èµ„â€‹â€‹â€‹æºâ€‹â€‹â€‹çš„â€‹â€‹â€‹ç»„â€‹â€‹â€‹åˆã€‚ ä¸»è¦æä¾›äº†ä¸€ä¸‹åŠŸèƒ½ Resource limitation: é™åˆ¶èµ„æºä½¿ç”¨ï¼Œæ¯”å¦‚å†…å­˜ä½¿ç”¨ä¸Šé™ä»¥åŠæ–‡ä»¶ç³»ç»Ÿçš„ç¼“å­˜é™åˆ¶ã€‚ Prioritization: ä¼˜å…ˆçº§æ§åˆ¶ï¼Œæ¯”å¦‚ï¼šCPUåˆ©ç”¨å’Œç£ç›˜IOååã€‚ Accounting: ä¸€äº›å®¡è®¡æˆ–ä¸€äº›ç»Ÿè®¡ï¼Œä¸»è¦ç›®çš„æ˜¯ä¸ºäº†è®¡è´¹ã€‚ Control: æŒ‚èµ·è¿›ç¨‹ï¼Œæ¢å¤æ‰§è¡Œè¿›ç¨‹ Union file systems (AUFS) AUFSæ˜¯ä¸€ä¸ªèƒ½é€æ˜è¦†ç›–ä¸€æˆ–å¤šä¸ªç°æœ‰æ–‡ä»¶ç³»ç»Ÿçš„å±‚çŠ¶æ–‡ä»¶ç³»ç»Ÿã€‚ æ”¯æŒå°†ä¸åŒç›®å½•æŒ‚è½½åˆ°åŒä¸€ä¸ªè™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿä¸‹ï¼Œå¯ä»¥æŠŠä¸åŒçš„ç›®å½•è”åˆåœ¨ä¸€èµ·ï¼Œç»„æˆä¸€ä¸ªå•ä¸€çš„ç›®å½•ã€‚è¿™ç§æ˜¯ä¸€ç§è™šæ‹Ÿçš„æ–‡ä»¶ç³»ç»Ÿï¼Œæ–‡ä»¶ç³»ç»Ÿä¸ç”¨æ ¼å¼åŒ–ï¼Œç›´æ¥æŒ‚è½½å³å¯ å½“ä¸€ä¸ªè¿›ç¨‹éœ€è¦ä¿®æ”¹ä¸€ä¸ªæ–‡ä»¶æ—¶ï¼ŒAuFSåˆ›å»ºè¯¥æ–‡ä»¶çš„ä¸€ä¸ªå‰¯æœ¬ã€‚AuFSå¯ä»¥æŠŠå¤šå±‚åˆå¹¶æˆæ–‡ä»¶ç³»ç»Ÿçš„å•å±‚è¡¨ç¤ºã€‚è¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºå†™å…¥å¤åˆ¶copy on write â€¦.ç­‰ æ ¸å¿ƒç»„ä»¶ å®¢æˆ·ç«¯ Client Docker client æ˜¯ç»™ç”¨æˆ·å’Œ Docker daemon å»ºç«‹é€šä¿¡çš„å®¢æˆ·ç«¯ï¼Œå®‰è£…äº† docker ä¹‹åï¼ŒäºŒè¿›åˆ¶æ–‡ä»¶ docker å°±æ˜¯ Docker clientï¼Œä¸ Docker daemon äº¤äº’ï¼Œ é€šè¿‡å®¢æˆ·ç«¯ docker å‘½ä»¤ï¼Œæˆ‘ä»¬å¯ä»¥æ–¹ä¾¿åœ°å®ç°å¯¹ Docker image å’Œ container çš„ç®¡ç†è¯·æ±‚ã€‚ Docker client ä¸ docker daemon å»ºç«‹è¯·æ±‚çš„æ–¹å¼æœ‰ä¸‰ç§ï¼Œåˆ†åˆ«æ˜¯ï¼š tcp://host:port unix://path/to/socket fd://socketfd å¸¸é©»åå°çš„ç³»ç»Ÿè¿›ç¨‹ Docker daemon Docker daemon æ˜¯ä¸€ä¸ªå¸¸é©»åå°çš„ç³»ç»Ÿè¿›ç¨‹ï¼Œæ‰€è°“â€œè¿è¡Œ dockerâ€ï¼ŒæŒ‡çš„å°±æ˜¯è¿è¡Œ Docker daemonï¼Œå…¶ä½œç”¨ä¸»è¦æœ‰ä»¥ä¸‹ä¸¤ç‚¹ï¼š æ¥å—å¹¶å¤„ç† Docker Client å‘é€çš„è¯·æ±‚ ç®¡ç†æ‰€æœ‰çš„ Docker containers å’Œ Docker images Docker daemon çš„æ¶æ„å¤§è‡´å¯ä»¥åˆ†ä¸ºä¸‰éƒ¨åˆ†ï¼šDocker Serverã€Engine å’Œ Jobã€‚ docker daemon ç›‘å¬æ¥è‡ª remote api çš„è¯·æ±‚çš„æ–¹å¼æœ‰ä¸‰ç§ï¼šunixã€tcp å’Œ fd é»˜è®¤é…ç½®ä¸‹ï¼ŒDocker daemon åªèƒ½å“åº”æ¥è‡ªæœ¬åœ° Host çš„å®¢æˆ·ç«¯è¯·æ±‚ã€‚å¦‚æœè¦å…è®¸è¿œç¨‹å®¢æˆ·ç«¯è¯·æ±‚ï¼Œå¯ä»¥ä½¿ç”¨dockerdå‘½ä»¤ï¼š 1dockerd -H 0.0.0.0 é•œåƒ &nbsp;Image é•œåƒæ˜¯ä¸€ä¸ªåªè¯»çš„å±‚ï¼ˆlayerï¼‰ï¼Œç”±æ–‡ä»¶ç³»ç»Ÿå åŠ æ„æˆï¼Œå°±ç›¸å½“äºæ˜¯ä¸€ä¸ª root æ–‡ä»¶ç³»ç»Ÿï¼Œé€šè¿‡å®ƒå¯ä»¥åˆ›å»º Docker å®¹å™¨ï¼ˆContainerï¼‰ã€‚ åˆ†å±‚å­˜å‚¨ï¼Œæ¯ä¸€å±‚éƒ½å¯ä»¥æ·»åŠ æ”¹å˜å’Œåˆ é™¤æ–‡ä»¶ï¼Œå½¢æˆä¸€ä¸ªæ–°çš„é•œåƒ é•œåƒæ„å»ºæ—¶ï¼Œä¼šä¸€å±‚å±‚æ„å»ºï¼Œå‰ä¸€å±‚æ˜¯åä¸€å±‚çš„åŸºç¡€ã€‚æ¯ä¸€å±‚æ„å»ºå®Œå°±ä¸ä¼šå†å‘ç”Ÿæ”¹å˜ï¼Œåä¸€å±‚ä¸Šçš„ä»»ä½•æ”¹å˜åªå‘ç”Ÿåœ¨è‡ªå·±è¿™ä¸€å±‚ ä¸åŒçš„é•œåƒå¯ä»¥å…±äº«ç›¸åŒçš„å±‚ å®¹å™¨ &nbsp;Container Docker å®¹å™¨æ˜¯ç”¨äºè¿è¡Œé•œåƒçš„æ²™ç®±ç¯å¢ƒï¼Œå®ƒæ˜¯ Docker é•œåƒçš„è¿è¡Œå®ä¾‹ï¼›å®¹å™¨éƒ½æ˜¯ç›¸äº’éš”ç¦»ã€äº’ä¸å¯è§çš„ï¼Œæˆ‘ä»¬å¯ä»¥ç†è§£ä¸ºï¼šé•œåƒæ˜¯Dockerç”Ÿå‘½å‘¨æœŸçš„æ‰“åŒ…å’Œæ„å»ºé˜¶æ®µï¼Œè€Œå®¹å™¨æ˜¯Dockerçš„å¯åŠ¨å’Œæ‰§è¡Œé˜¶æ®µã€‚ é•œåƒä½¿ç”¨çš„æ˜¯åˆ†å±‚å­˜å‚¨ï¼Œå®¹å™¨ä¹Ÿæ˜¯å¦‚æ­¤ã€‚æ¯ä¸€ä¸ªå®¹å™¨è¿è¡Œæ—¶ï¼Œæ˜¯ä»¥é•œåƒä¸ºåŸºç¡€å±‚ï¼Œåœ¨å…¶ä¸Šåˆ›å»ºä¸€ä¸ªå½“å‰å®¹å™¨çš„å­˜å‚¨å±‚ï¼Œæˆ‘ä»¬å¯ä»¥ç§°è¿™ä¸ªä¸ºå®¹å™¨è¿è¡Œæ—¶è¯»å†™è€Œå‡†å¤‡çš„å­˜å‚¨å±‚ä¸ºå®¹å™¨å­˜å‚¨å±‚ã€‚ å®¹å™¨å­˜å‚¨å±‚çš„ç”Ÿå­˜å‘¨æœŸå’Œå®¹å™¨ä¸€æ ·ï¼Œå®¹å™¨æ¶ˆäº¡æ—¶ï¼Œå®¹å™¨å­˜å‚¨å±‚ä¹Ÿéšä¹‹æ¶ˆäº¡ã€‚å› æ­¤ï¼Œä»»ä½•ä¿å­˜äºå®¹å™¨å­˜å‚¨å±‚çš„ä¿¡æ¯éƒ½ä¼šéšå®¹å™¨åˆ é™¤è€Œä¸¢å¤± æ•°æ®å·çš„ç”Ÿå­˜å‘¨æœŸç‹¬ç«‹äºå®¹å™¨ï¼Œå®¹å™¨æ¶ˆäº¡ï¼Œæ•°æ®å·ä¸ä¼šæ¶ˆäº¡ã€‚å› æ­¤ï¼Œä½¿ç”¨æ•°æ®å·åï¼Œå®¹å™¨åˆ é™¤æˆ–è€…é‡æ–°è¿è¡Œä¹‹åï¼Œæ•°æ®å´ä¸ä¼šä¸¢å¤±ã€‚ åœ¨Image Layerä¹‹ä¸Šå»ºç«‹ä¸€ä¸ª Container Layerï¼ˆè¯»å†™å±‚ï¼‰ï¼Œé•œåƒï¼ˆimageï¼‰è´Ÿè´£appçš„å­˜å‚¨å’Œåˆ†å‘ï¼Œå®¹å™¨ï¼ˆContainerï¼‰è´Ÿè´£è¿è¡Œapp ä»“åº“ &nbsp;Registry Registry æ˜¯é›†ä¸­çš„å­˜å‚¨ã€åˆ†å‘é•œåƒçš„æ–‡ä»¶ä»“åº“ ä»“åº“åˆ†ä¸ºå…¬æœ‰ä»“åº“å’Œç§æœ‰ä»“åº“ï¼Œå¸¸ç”¨çš„å…¬æœ‰ä»“åº“æ˜¯å®˜æ–¹çš„ Docker Hubï¼Œé»˜è®¤çš„ docker pull å‘½ä»¤å°±æ˜¯ä»å®˜æ–¹çš„å…¬æœ‰ä»“åº“ä¸­æ‹‰å–é•œåƒï¼›ä¸ªäººå¯ä»¥æ ¹æ®Docker å®˜æ–¹æä¾›äº† Docker Registry é•œåƒï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨åšä¸ºç§æœ‰ Registry æœåŠ¡","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://www.gulj.cn/categories/è¿ç»´/"}],"tags":[{"name":"docker","slug":"docker","permalink":"http://www.gulj.cn/tags/docker/"}]},{"title":"ã€Dockeræ•™ç¨‹ã€‘Docker å®‰è£…","slug":"Docker-å®‰è£…","date":"2018-03-26T09:23:17.000Z","updated":"2019-02-14T07:07:12.859Z","comments":true,"path":"2018/03/26/Docker-å®‰è£…/","link":"","permalink":"http://www.gulj.cn/2018/03/26/Docker-å®‰è£…/","excerpt":"å¯¼è¯»æœ¬ç³»åˆ—çš„dockerå­¦ä¹ ç¬”è€…å‡é‡‡ç”¨Vagrantå’ŒVirtualBoxè¿›è¡Œï¼Œä¸‹é¢æˆ‘ä¼šç»™å‡ºè¿™ä¸¤æ¬¾å·¥å…·çš„ç®€å•ä»‹ç»ã€‚ Vagrantä»‹ç»Vagrantæ˜¯hashicorpè¿™å®¶å…¬å¸çš„äº§å“ï¼Œæ˜¯ä¸€ä¸ªè®©ä½ å¯ä»¥æ–¹ä¾¿è®¾ç½®ä½ æƒ³è¦çš„è™šæ‹Ÿæœºçš„ä¾¿æºå¼å·¥å…·ï¼Œå®ƒåº•å±‚æ”¯æŒVirtualBoxã€VMwareç”šè‡³AWSä½œä¸ºè™šæ‹Ÿæœºç³»ç»Ÿã€‚ æˆ‘ä»¬å¯ä»¥é€šè¿‡Vagrantæä¾›çš„å‘½ä»¤è¡Œå·¥å…·vagrantï¼Œå¯ä»¥å¿«é€Ÿå¯åŠ¨æ ¹æ®æˆ‘ä»¬äº‹å…ˆå®šä¹‰å¥½çš„Vagrantfileæ–‡ä»¶ï¼Œæ¥åˆ›å»ºä¸€ä¸ªæˆ–è€…å¤šä¸ªè™šæ‹Ÿæœºã€‚ Vagrantfileæ˜¯ç”¨æ¥å®šä¹‰vagrant projectçš„ï¼Œä½¿ç”¨rubyè¯­æ³•ã€‚","text":"å¯¼è¯»æœ¬ç³»åˆ—çš„dockerå­¦ä¹ ç¬”è€…å‡é‡‡ç”¨Vagrantå’ŒVirtualBoxè¿›è¡Œï¼Œä¸‹é¢æˆ‘ä¼šç»™å‡ºè¿™ä¸¤æ¬¾å·¥å…·çš„ç®€å•ä»‹ç»ã€‚ Vagrantä»‹ç»Vagrantæ˜¯hashicorpè¿™å®¶å…¬å¸çš„äº§å“ï¼Œæ˜¯ä¸€ä¸ªè®©ä½ å¯ä»¥æ–¹ä¾¿è®¾ç½®ä½ æƒ³è¦çš„è™šæ‹Ÿæœºçš„ä¾¿æºå¼å·¥å…·ï¼Œå®ƒåº•å±‚æ”¯æŒVirtualBoxã€VMwareç”šè‡³AWSä½œä¸ºè™šæ‹Ÿæœºç³»ç»Ÿã€‚ æˆ‘ä»¬å¯ä»¥é€šè¿‡Vagrantæä¾›çš„å‘½ä»¤è¡Œå·¥å…·vagrantï¼Œå¯ä»¥å¿«é€Ÿå¯åŠ¨æ ¹æ®æˆ‘ä»¬äº‹å…ˆå®šä¹‰å¥½çš„Vagrantfileæ–‡ä»¶ï¼Œæ¥åˆ›å»ºä¸€ä¸ªæˆ–è€…å¤šä¸ªè™šæ‹Ÿæœºã€‚ Vagrantfileæ˜¯ç”¨æ¥å®šä¹‰vagrant projectçš„ï¼Œä½¿ç”¨rubyè¯­æ³•ã€‚ å®‰è£…Vagrantæ”¯æŒMacã€Window,Centos ç­‰å„ç§å¹³å°ï¼Œä¸‹å›¾å±•ç¤ºæ”¯æŒçš„å„ç§å¹³å°åˆ—è¡¨ ä¸‹è½½åœ°å€ï¼šhttps://www.vagrantup.com/downloads.html æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸ 12# æŸ¥çœ‹vagrantç‰ˆæœ¬ä¿¡æ¯$ vagrant version ä½¿ç”¨ æ·»åŠ ä¸€ä¸ªbox æ ¼å¼ï¼švagrant box add è¿œç«¯çš„boxåœ°å€æˆ–è€…æœ¬åœ°çš„boxæ–‡ä»¶å 12# æ·»åŠ  centos/7 çš„box$ vagrant box add centos/7 é€šè¿‡è¿™ä¸ªæ­¥éª¤ï¼Œvagrantä¼šå»boxåˆ—è¡¨ä¸­æ‰¾centos/7è¿™ä¸ªé•œåƒï¼Œå¦‚æœæ²¡æœ‰å°±å»å®˜æ–¹ä¸‹è½½ boxçš„åç§°æˆ‘ä»¬é€šè¿‡å®˜æ–¹æä¾›çš„åœ°å€:https://app.vagrantup.com/boxes/search?page=1 å»search åˆå§‹åŒ– æ ¼å¼ï¼š vagrant init boxåˆ—è¡¨ä¸­boxçš„åç§° 12345# æ–°å»ºä¸€ä¸ªç›®å½•ï¼Œä¸ºcentos7$ mkdir centos7# è¿›å…¥centos7ç›®å½•ï¼Œåˆå§‹åŒ–box,è¿™é‡Œçš„ï¼ˆcentos/7ï¼‰å°±æ˜¯æˆ‘ä»¬ç¬¬ä¸€æ­¥æ·»åŠ çš„boxåç§°$ vagrant init centos/7 è¿™æ ·å°±ä¼šåœ¨å½“å‰ç›®å½•(centos7)ç”Ÿæˆä¸€ä¸ªVagrantfileçš„æ–‡ä»¶,æ³¨æ„æ¯ä¸ªç›®å½•åªèƒ½å­˜æ”¾ä¸€ä¸ªVagrantfileæ–‡ä»¶ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦äº‹å…ˆå®šä¹‰å¥½æˆ‘ä»¬éœ€è¦åˆ›å»ºç³»ç»Ÿçš„ç›®å½• å¯åŠ¨è™šæ‹Ÿæœº æˆ‘ä»¬å·²ç»é€šè¿‡vagrant init centos/7 å‘½ä»¤ï¼Œå¾—åˆ°äº†vagrantfileæ–‡ä»¶ï¼Œä¸‹é¢æˆ‘ä»¬å¯ä»¥é€šè¿‡vagrant up å‘½ä»¤æ¥å¯åŠ¨vagrantfileä¸­å®šä¹‰çš„è™šæ‹Ÿæœº 1$ vagrant up è¿™æ ·æˆ‘ä»¬å°±åœ¨åœ¨Virtualboxä¸­åˆ›å»ºäº†ä¸€ä¸ªè™šæ‹Ÿæœº è¿æ¥è™šæ‹Ÿæœº 1$ vagrant ssh Vagrant çš„å…¶å®ƒåŸºæœ¬å‘½ä»¤ æŸ¥çœ‹å‘½ä»¤å¸®åŠ© 1$ vagrant --help æŸ¥çœ‹è™šæ‹Ÿæœºçš„çŠ¶æ€ 1$ vagrant status æŸ¥çœ‹boxåˆ—è¡¨ 1$ vagrant box list åœæ­¢è™šæ‹Ÿæœº 1$ vagrant halt é”€æ¯è™šæ‹Ÿæœº 1$ vagrant destory é€šè¿‡è‡ªå®šä¹‰Vagrantfileæ¥åˆ›å»ºè™šæ‹Ÿæœº ç¼–å†™Vagrantfile,çµæ´»çš„è®¾ç½®è™šæ‹Ÿæœºçš„å‚æ•° 1234567891011121314151617181920212223242526272829303132333435363738# -*- mode: ruby -*-# vi: set ft=ruby : Vagrant.require_version \"&gt;= 1.6.0\" boxes = [ &#123; :name =&gt; \"docker-node-test1\", :eth1 =&gt; \"192.168.215.10\", :mem =&gt; \"2048\", :cpu =&gt; \"2\" &#125;] Vagrant.configure(2) do |config| config.vm.box = \"centos/7\" boxes.each do |opts| config.vm.define opts[:name] do |config| config.vm.hostname = opts[:name] config.vm.provider \"vmware_fusion\" do |v| v.vmx[\"memsize\"] = opts[:mem] v.vmx[\"numvcpus\"] = opts[:cpu] end config.vm.provider \"virtualbox\" do |v| v.customize [\"modifyvm\", :id, \"--memory\", opts[:mem]] v.customize [\"modifyvm\", :id, \"--cpus\", opts[:cpu]] end config.vm.network :private_network, ip: opts[:eth1] end end #config.vm.synced_folder \"./labs\", \"/home/vagrant/labs\" #config.vm.provision \"bash\", privileged: true, path: \"./setup.sh\"end Vagrantfileä¸‹è½½åœ°å€ï¼š xxxx åˆ›å»ºè™šæ‹Ÿæœº 1vagrant up Docker å®‰è£… åœ¨ Mac å¹³å°ä¸Šå®‰è£… ä¸‹è½½åœ°å€ï¼šhttps://www.docker.com/community-edition åœ¨ centos7 å¹³å°ä¸Šå®‰è£…æ­¥éª¤ å®˜ç½‘åœ°å€ï¼šhttps://docs.docker.com/install/linux/docker-ce/centos/#install-from-a-package å¸è½½è€çš„ç‰ˆæœ¬ 12345678910$ sudo yum remove docker \\ docker-client \\ docker-client-latest \\ docker-common \\ docker-latest \\ docker-latest-logrotate \\ docker-logrotate \\ docker-selinux \\ docker-engine-selinux \\ docker-engine å®‰è£…docker ce (æ³¨æ„docker æœ‰docker ce å’Œ docker ee ä¸¤ä¸ªç‰ˆæœ¬ï¼Œæˆ‘ä»¬å­¦ä¹ ä½¿ç”¨docker ceç‰ˆæœ¬) â‘ ã€å®‰è£…ä¾èµ–åŒ… 123$ sudo yum install -y yum-utils \\ device-mapper-persistent-data \\ lvm2 â‘¡ã€è®¾ç½®ç¨³å®šä»“åº“åœ°å€ 123$ sudo yum-config-manager \\--add-repo \\https://download.docker.com/linux/centos/docker-ce.repo â‘¢ã€ã€å¯é€‰ã€‘å¯ç”¨ edge å’Œ test ä»“åº“ 1234567# å¯ç”¨ --enable$ sudo yum-config-manager --enable docker-ce-edge$ sudo yum-config-manager --enable docker-ce-test# ç¦ç”¨ --disable$ sudo yum-config-manager --disable docker-ce-edge â‘£ã€å®‰è£…ç¨³å®šç‰ˆæœ¬çš„docker ce 1$ sudo yum install docker-ce â‘¤ã€ã€å¯é€‰ã€‘æŸ¥çœ‹å…·ä½“çš„docker ce ç‰ˆæœ¬ï¼Œè¿™æ ·æˆ‘ä»¬å¯ä»¥åœ¨ç”Ÿäº§ç¯å¢ƒå®‰è£…å…·ä½“çš„docker ce ç‰ˆæœ¬ 1234567# æŸ¥çœ‹docker ce ç‰ˆæœ¬åˆ—è¡¨$ yum list docker-ce --showduplicates | sort -rdocker-ce.x86_64 18.03.ce-1.el7.centos docker-ce-stable# ä½¿ç”¨å‘½ä»¤å®‰è£…å…·ä½“çš„docker ce ç‰ˆæœ¬$ sudo yum install &lt;FULLY-QUALIFIED-PACKAGE-NAME&gt; â‘¥ã€å¯åŠ¨docker 1$ sudo systemctl start docker â‘¦ã€éªŒè¯dockeræ˜¯å¦æ­£ç¡®å®‰è£…ï¼Œå¯ä»¥é€šè¿‡è¿è¡Œ helloworld é•œåƒ 1$ sudo docker run hello-world docker-machine åˆ›å»ºdockerä¸»æœºå¦‚æœæˆ‘ä»¬å·²ç»åœ¨macå¹³å°å®‰è£…è¿‡dockerï¼Œé»˜è®¤ä¼šè‡ªå¸¦docker-machineï¼›åˆ°ç°åœ¨æˆ‘ä»¬å·²ç»çŸ¥é“äº†ï¼Œå¯ä»¥é€šè¿‡virtualboxè¿™ä¸ªè™šæ‹Ÿæœºè½¯ä»¶ç›´æ¥åˆ›å»ºè™šæ‹Ÿæœºï¼Œå®‰è£…dockerï¼Œå¾—åˆ°ä¸€å°dockerä¸»æœºã€ä¹Ÿå¯ä»¥é€šè¿‡ç¼–å†™vagrantfileåˆ›å»ºè™šæ‹Ÿæœºï¼Œå®‰è£…dockerï¼Œä¹Ÿèƒ½å¾—åˆ°ä¸€å°dockerä¸»æœºã€ç°åœ¨æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡docker-machineå‘½ä»¤ï¼Œæ¥åˆ›å»ºä¸€å°å¸¦æœ‰dockerçš„ä¸»æœº æŸ¥çœ‹ç‰ˆæœ¬ä¿¡æ¯ 12345$ docker-machine -v # æˆ–è€… $ docker-machine create -d virtualbox demo åˆ›å»ºdockerè™šæ‹Ÿæœº (ä½¿ç”¨ virtualbox ç±»å‹çš„é©±åŠ¨) 1$ docker-machine create demo ä½ ä¹Ÿå¯ä»¥åœ¨åˆ›å»ºæ—¶åŠ ä¸Šå¦‚ä¸‹å‚æ•°ï¼Œæ¥é…ç½®ä¸»æœºæˆ–è€…ä¸»æœºä¸Šçš„ Dockerã€‚ â€“engine-opt dns=114.114.114.114 é…ç½® Docker çš„é»˜è®¤ DNS â€“engine-registry-mirror https://registry.docker-cn.com é…ç½® Docker çš„ä»“åº“é•œåƒ â€“virtualbox-memory 2048 é…ç½®ä¸»æœºå†…å­˜ â€“virtualbox-cpu-count 2 é…ç½®ä¸»æœº CPU æŸ¥çœ‹è™šæ‹Ÿæœºåˆ—è¡¨ 1$ docker-machine ls è¿›å…¥è™šæ‹Ÿæœº 1$ docker-machine ssh demo åœæ­¢è™šæ‹Ÿæœº 1$ docker-machine stop demo ç°åœ¨æˆ‘ä»¬å·²ç»åœ¨mac(å®¿ä¸»æœº)ä¸Šå®‰è£…äº†dockerï¼Œåˆé€šè¿‡ docker-machine æ–¹å¼åˆ›å»ºï¼Œå¾—åˆ°äº†ä¸€å°dockerä¸»æœºï¼›é‚£ä¹ˆç°åœ¨æˆ‘ä»¬æœ‰è¿™æ ·ä¸€ç§éœ€æ±‚ï¼Œå¦‚ä½•è®©å®¿ä¸»æœºä¸Šçš„docker clientç«¯è¿æ¥ï¼Œé€šè¿‡docker-machineåˆ›å»ºçš„docker serverç«¯ã€‚ æ­¥éª¤ æŸ¥çœ‹docker-machineåˆ›å»ºè™šæ‹Ÿæœºçš„ç¯å¢ƒå˜é‡ 123456789# åœ¨ macï¼ˆå®¿ä¸»æœºä¸Šï¼‰ æ‰§è¡Œ æŸ¥çœ‹docker-machine$ docker-machine env demoexport DOCKER_TLS_VERIFY=\"1\"export DOCKER_HOST=\"tcp://192.168.99.100:2376\"export DOCKER_CERT_PATH=\"/Users/gulj/.docker/machine/machines/demo\"export DOCKER_MACHINE_NAME=\"demo\"# Run this command to configure your shell:# eval $(docker-machine env demo) è®¾ç½®å®¿ä¸»æœºçš„dockerç¯å¢ƒå˜é‡ä¸ºdocker-machineåˆ›å»ºçš„dockerä¸»æœºç¯å¢ƒå˜é‡ 1$ eval $(docker-machine env demo) æŸ¥çœ‹æ˜¯å¦ä¿®æ”¹æˆåŠŸ 123456789101112131415161718$ docker versionClient: Version: 17.12.0-ce API version: 1.35 Go version: go1.9.2 Git commit: c97c6d6 Built: Wed Dec 27 20:03:51 2017 OS/Arch: darwin/amd64Server: Engine: Version: 18.03.0-ce API version: 1.37 (minimum version 1.12) Go version: go1.9.4 Git commit: 0520e24 Built: Wed Mar 21 23:14:54 2018 OS/Arch: linux/amd64 Experimental: false è¿™æ ·å®¿ä¸»æœºçš„docker clientç«¯å°±å·²ç»è¿æ¥åˆ°é€šè¿‡docker-machineåˆ›å»ºçš„dockerä¸»æœºserverç«¯ï¼Œé‚£ä¹ˆæˆ‘ä»¬åœ¨æœ¬åœ°æ“ä½œçš„dockerä»»ä½•å‘½ä»¤ï¼Œç›´æ¥ä½œç”¨äº docker-machine åˆ›å»ºçš„dockerä¸»æœº Docker åœ¨çº¿å®éªŒå®¤ ï¼Œæ— éœ€å®‰è£…ï¼Œç›´æ¥ä½¿ç”¨åœ°å€ https://labs.play-with-docker.com/ ä»‹ç»Play With Docker ( Docker åœ¨çº¿å®éªŒå®¤) æ˜¯ä¸€ä¸ªè¿è¡Œåœ¨æµè§ˆå™¨ä¸­çš„ Docker Playgroundï¼Œæ— éœ€å®‰è£…ä»»ä½•ç¯å¢ƒï¼Œå°±å¯ä»¥åœ¨çº¿ä½“éªŒ Docker ä½¿ç”¨","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://www.gulj.cn/categories/è¿ç»´/"}],"tags":[{"name":"docker","slug":"docker","permalink":"http://www.gulj.cn/tags/docker/"}]},{"title":"Charlesè¿›è¡ŒHTTPSæŠ“åŒ…","slug":"Charlesè¿›è¡ŒHTTPSæŠ“åŒ…","date":"2017-12-27T07:28:29.000Z","updated":"2019-02-14T07:07:12.859Z","comments":true,"path":"2017/12/27/Charlesè¿›è¡ŒHTTPSæŠ“åŒ…/","link":"","permalink":"http://www.gulj.cn/2017/12/27/Charlesè¿›è¡ŒHTTPSæŠ“åŒ…/","excerpt":"ä»‹ç»Charleså…¶å®æ˜¯ä¸€æ¬¾ä»£ç†æœåŠ¡å™¨ï¼Œé€šè¿‡æˆä¸ºç”µè„‘æˆ–è€…æµè§ˆå™¨çš„ä»£ç†ï¼Œç„¶åæˆªå–è¯·æ±‚å’Œè¯·æ±‚ç»“æœè¾¾åˆ°åˆ†ææŠ“åŒ…çš„ç›®çš„ã€‚charlesæœ‰Windowç‰ˆæœ¬å’ŒMac OSç‰ˆæœ¬ï¼Œä¹ŸåŒæ—¶æ”¯æŒioså’ŒAndroidæ‰‹æœºç³»ç»Ÿ ä¸‹è½½ç™¾åº¦äº‘ï¼šCharles 4.2.1 Macç ´è§£ç‰ˆ ç¯å¢ƒ Charles 4.2.1 Iphone 7P ios 11.0.1","text":"ä»‹ç»Charleså…¶å®æ˜¯ä¸€æ¬¾ä»£ç†æœåŠ¡å™¨ï¼Œé€šè¿‡æˆä¸ºç”µè„‘æˆ–è€…æµè§ˆå™¨çš„ä»£ç†ï¼Œç„¶åæˆªå–è¯·æ±‚å’Œè¯·æ±‚ç»“æœè¾¾åˆ°åˆ†ææŠ“åŒ…çš„ç›®çš„ã€‚charlesæœ‰Windowç‰ˆæœ¬å’ŒMac OSç‰ˆæœ¬ï¼Œä¹ŸåŒæ—¶æ”¯æŒioså’ŒAndroidæ‰‹æœºç³»ç»Ÿ ä¸‹è½½ç™¾åº¦äº‘ï¼šCharles 4.2.1 Macç ´è§£ç‰ˆ ç¯å¢ƒ Charles 4.2.1 Iphone 7P ios 11.0.1 ä½¿ç”¨å‰æ ä¿è¯iOSè®¾å¤‡iphoneæˆ–ipadä¸è¿è¡ŒCharlesçš„macç”µè„‘å¤„äºåŒä¸€ä¸ªwifiç¯å¢ƒä¸‹ åŸºæœ¬é…ç½® â‘ ã€é…ç½®HTTPä»£ç†ï¼Œè¿™æ­¥ä¸æŠ“å–HTTPè¯·æ±‚æ˜¯ä¸€æ ·çš„ æ‰“å¼€: charles çš„ Proxy é€‰é¡¹é€‰æ‹© Proxy Settings æŒ‰ç…§ä¸‹å›¾é…ç½®: xå¤‡æ³¨ï¼šé€‰æ‹©åœ¨8888ç«¯å£ä¸Šç›‘å¬ï¼Œç„¶åç¡®å®šã€‚å¤Ÿé€‰äº†SOCKS proxyï¼Œè¿˜èƒ½æˆªè·åˆ°æµè§ˆå™¨çš„httpè®¿é—®è¯·æ±‚ã€‚ â‘¡ã€é…ç½®SSLä»£ç† æ‰“å¼€ï¼š charles çš„ Proxy é€‰é¡¹é€‰æ‹© SSL Proxy Settingsåœ¨ SSL Proxying çš„Tabé¡¹ä¸­ ç‚¹å‡» Add æŒ‰é’®ï¼ŒæŒ‰ä¸‹å›¾å¡«å†™ æ·»åŠ å¥½ä¹‹åï¼Œå¦‚ä¸‹å›¾å±•ç¤ºï¼š æ‰‹æœºç«¯è®¾ç½®ä»£ç†å’Œå®‰è£…Charlesæ ¹è¯ä¹¦1ã€æ‰‹æœºç«¯å®‰è£…Charlesæ ¹è¯ä¹¦åœ¨Safriä¸Šåœ°å€æ ç²˜è´´ chls.pro/ss ç‚¹å‡»ç«‹å³å‰å¾€ï¼Œè‡ªåŠ¨ä¸‹è½½æ ¹è¯ä¹¦ è€Œåœ¨ios10.3ä¹‹åï¼Œå®‰è£…æ–°çš„è‡ªå®šä¹‰è¯ä¹¦é»˜è®¤æ˜¯ä¸å—ä¿¡ä»»çš„ï¼Œå¦‚æœè¦ä¿¡ä»»å·²å®‰è£…çš„è‡ªå®šä¹‰è¯ä¹¦,éœ€è¦æ‰‹åŠ¨æ‰“å¼€å¼€å…³ä»¥ä¿¡ä»»è¯ä¹¦ã€‚ å¼€å§‹ä¿¡ä»»è¯ä¹¦æ­¥éª¤ï¼šè®¾ç½®-&gt;é€šç”¨-&gt;å…³äºæœ¬æœº-&gt;è¯ä¹¦ä¿¡ä»»è®¾ç½®-&gt; æ‰¾åˆ°charles proxy custom root certificateç„¶åä¿¡ä»»è¯¥è¯ä¹¦å³å¯. 2ã€æ‰‹æœºç«¯æ‰‹æœºè®¾ç½®ä»£ç†æ‰“å¼€ï¼š charles çš„ Help é€‰é¡¹é€‰æ‹© Install Charles Root Certificate On a Mobile Device Or a Remote Browser ç‚¹å‡» ok æŒ‰é’® é¦–å…ˆåœ¨Macä¸Šï¼ŒæŸ¥çœ‹IPåœ°å€ï¼šæ–¹æ³•ä¸€ï¼šç³»ç»Ÿåå¥½è®¾ç½®-&gt;ç½‘ç»œ-&gt;wifi-&gt;é«˜çº§-&gt;TCP/IPæ–¹æ³•äºŒï¼šifcofnig å‘½ä»¤ ï¼ˆåœ¨ç»ˆç«¯æˆ–è€…Itermä¸Šï¼‰æœ¬æœºIpï¼š192.168.6.174 æ‰“å¼€æ‰‹æœºï¼š è®¾ç½®ç•Œé¢ï¼Œé€‰æ‹©æ— çº¿å±€åŸŸç½‘ è¿›å…¥æ— çº¿å±€åŸŸç½‘ç•Œé¢ï¼Œç‚¹å‡»æ‰€è¿çš„æ— çº¿ç½‘æ—è¾¹çš„ i å›¾æ ‡ è¿›å…¥é…ç½®ä»£ç†ç•Œé¢ï¼Œç‚¹å‡»åº•éƒ¨çš„é…ç½®ä»£ç†ï¼Œæ”¹ä¸ºæ‰‹åŠ¨æ¨¡å¼ é…ç½®ä»£ç†æœåŠ¡å™¨åœ°å€ï¼šå¡«å†™æœ¬æœºMacçš„Ipåœ°å€ï¼Œç«¯å£ï¼šå¡«å†™ charles çš„ ä»£ç†ç«¯å£ï¼Œé»˜è®¤æ˜¯ï¼š8888ï¼›ä¹Ÿå¯ä»¥è‡ªå®šä¹‰ä¿®æ”¹ é…ç½®å¥½ä¹‹åï¼ŒMacä¸Šä¼šå¼¹å‡ºä»¥ä¸‹æç¤ºæ¡†ï¼Œè¡¨ç¤ºCharlesè½¯ä»¶æ£€æµ‹åˆ°å¯ä¾›æ£€æµ‹çš„è®¾å¤‡ã€‚ä¸¤ä¸ªæŒ‰é’®é€‰é¡¹ï¼šAllow å…è®¸ ï¼Œ Denyæ‹’ç»ã€‚æˆ‘ä»¬è¦é€‰æ‹©å…è®¸ ç”µè„‘ç«¯(Mac)å®‰è£…Charlesæ ¹è¯ä¹¦ç›´æ¥åœ¨Charlesçš„Helpèœå•ä¸­å®‰è£…ï¼›å®‰è£…å®Œæˆåå»ç³»ç»Ÿçš„é’¥åŒ™ä¸²è®¿é—®ä¸­ä¿¡ä»»å®ƒ åœ¨æœ¬æœºçš„ç³»ç»Ÿçš„é’¥åŒ™ä¸²è®¿é—®ä¸­ï¼Œæ‰¾åˆ°Charlesè¯ä¹¦ï¼Œé»˜è®¤æ˜¯ä¸è¢«ä¿¡ä»»çš„ï¼ŒåŒå‡»ï¼Œè¯¥è¯ä¹¦ï¼Œä¿®æ”¹ä¸ºå§‹ç»ˆä¿¡ä»» æ•ˆæœå±•ç¤º __","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://www.gulj.cn/categories/è¿ç»´/"}],"tags":[{"name":"charles","slug":"charles","permalink":"http://www.gulj.cn/tags/charles/"}]},{"title":"ELK(5.6.3)æŠ€æœ¯æ ˆé›†ç¾¤æ­å»º","slug":"ELK5-XæŠ€æœ¯æ ˆé›†ç¾¤æ­å»º","date":"2017-11-24T14:28:29.000Z","updated":"2019-02-14T07:07:12.859Z","comments":true,"path":"2017/11/24/ELK5-XæŠ€æœ¯æ ˆé›†ç¾¤æ­å»º/","link":"","permalink":"http://www.gulj.cn/2017/11/24/ELK5-XæŠ€æœ¯æ ˆé›†ç¾¤æ­å»º/","excerpt":"1ã€ElasticSearchå•èŠ‚ç‚¹å’Œé›†ç¾¤æ­å»º ç³»ç»Ÿç¯å¢ƒ ç³»ç»Ÿ/è½¯ä»¶ ç‰ˆæœ¬ centos 7 jdk # es ä¾èµ–jdk 8 node # es å®‰è£…headæ’ä»¶éœ€è¦ 8.2.1 elasticsearch 5.6.3 logstash 5.6.3 kibana 5.6.3","text":"1ã€ElasticSearchå•èŠ‚ç‚¹å’Œé›†ç¾¤æ­å»º ç³»ç»Ÿç¯å¢ƒ ç³»ç»Ÿ/è½¯ä»¶ ç‰ˆæœ¬ centos 7 jdk # es ä¾èµ–jdk 8 node # es å®‰è£…headæ’ä»¶éœ€è¦ 8.2.1 elasticsearch 5.6.3 logstash 5.6.3 kibana 5.6.3 æœºå™¨è§„åˆ’åŠèŠ‚ç‚¹åˆ†å¸ƒ ä¸»æœº èŠ‚ç‚¹ èŠ‚ç‚¹ èŠ‚ç‚¹ 192.168.1.110 elasticsearch-master logstash kibana 192.168.1.111 Elasticsearch-slave1 logstash 192.168.1.112 Elasticsearch-slave2 logstash ç›®å½•åˆ†é… ä¸‹è½½è½¯ä»¶æºç åŒ…å­˜æ”¾çš„ä½ç½®: 1/usr/local/src/ å®‰è£…ä½ç½®: 1/usr/local/ ç›¸å…³è½¯ä»¶åŒ…å®˜æ–¹ä¸‹è½½åœ°å€ https://www.elastic.co/downloads â‘ ã€elasticsearch å•èŠ‚ç‚¹å®‰è£…ï¼ˆ192.168.1.110ï¼‰ä¸‹è½½ï¼š 1wget https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-5.6.3.tar.gz è§£å‹ç¼© 1tar -zxvf elasticsearch-5.6.3.tar.gz åˆ›å»ºè½¯é“¾æ¥ 1ln -s /usr/local/elasticsearch-5.6.3/ /usr/local/elasticsearch-master åˆ›å»ºelasticsearchç”¨æˆ·ï¼ŒæŠŠelasticsearch-masterçš„æ‰€æœ‰è€…å’Œæ‰€æœ‰ç»„è®¾ç½®ä¸ºç”¨æˆ·elasticsearchï¼ˆESä¸èƒ½ä»¥rootç”¨æˆ·å¯åŠ¨ï¼‰ 123456# æ·»åŠ  elasticsearch ç”¨æˆ·useradd elasticsearch# ä¸º elasticsearch ç”¨æˆ·è®¾ç½®å¯†ç passwd elasticsearch# å°† elasticsearch-master çš„ç›®å½•çš„æ‰€æœ‰è€…å’Œæ‰€å±ç»„è®¾ç½®ä¸ºç”¨æˆ· elasticsearchchown -R elasticsearch:elasticsearch /usr/local/elasticsearch-master å¯åŠ¨ 123456# è¿›å…¥esçš„æ ¹ç›®å½•cd elasticsearch-master# å¯åŠ¨(æ”¾å…¥åå°å¯åŠ¨ï¼Œæ³¨æ„ä¸èƒ½ä»¥rootç”¨æˆ·å¯åŠ¨,ä»¥elasticsearchç”¨æˆ·å¯åŠ¨)./bin/elasticsearch -d# è®¿é—®eshttp://localhost:9200 elastisearch å®‰è£…å¸¸è§é”™è¯¯æ—¥å¿—å’Œè§£å†³æ–¹æ¡ˆå‚è€ƒåœ°å€ï¼š æŠ¥é”™â€max virtual memory areas vm.maxmapcount [65530] is too lowâ€ï¼Œè¦è¿è¡Œä¸‹é¢çš„å‘½ä»¤ã€‚ 1sudo sysctl -w vm.max_map_count=262144 å…¶å®ƒæŠ¥é”™ä¿¡æ¯è§£å†³æ–¹æ¡ˆå‚è€ƒåœ°å€ 1http://www.jianshu.com/p/4c6f9361565b æµ‹è¯•ESæœåŠ¡æ˜¯å¦å¯åŠ¨æ­£å¸¸ï¼ˆé»˜è®¤ç›‘å¬9200ç«¯å£ï¼‰ 12345678910111213141516# è®¿é—®åœ°å€http://192.168.1.110:9200# è¿”å›æ•°æ®&#123;name: \"aRvmIj4\",cluster_name: \"elasticsearch\",cluster_uuid: \"tXoxyBvmSFGNkiJfAOJWXw\",version: &#123; number: \"5.6.3\", build_hash: \"1a2f265\", build_date: \"2017-11-24T20:33:39.012Z\", build_snapshot: false, lucene_version: \"6.6.1\"&#125;,tagline: \"You Know, for Search\"&#125; ESçš„Headæ’ä»¶å®‰è£…ï¼ˆæä¾›å‹å¥½çš„webç•Œé¢ï¼Œesä¸€äº›åŸºæœ¬ä¿¡æ¯çš„æŸ¥è¯¢ï¼‰ ä¸‹è½½ 1wget https://github.com/mobz/elasticsearch-head/archive/master.zip è§£å‹ç¼© 1unzip master.zip å®‰è£… 123456# è¿›å…¥ elasticsearch-head-master ç›®å½•cd elasticsearch-head-master# æ‰§è¡Œ npm install npm install# è¿è¡Œ npm run startnpm run start è®¿é—®ESHeadæ’ä»¶ï¼ˆé»˜è®¤ç›‘å¬9100ç«¯å£ï¼‰ http://localhost:9100 ESå’ŒHeadæ’ä»¶å…³è”é…ç½®(ESå’ŒHeadæ’ä»¶å±äºä¸¤ä¸ªä¸åŒçš„è¿›ç¨‹ï¼Œè§£å†³è·¨åŸŸé—®é¢˜) ä¿®æ”¹:elasticsearch-5.6.3/config/elasticsearch.ymlé…ç½®æ–‡ä»¶ 12345# ç¼–è¾‘ESé…ç½®æ–‡ä»¶vim elasticsearch.yml# åœ¨é…ç½®æ–‡ä»¶æœ€åæ·»åŠ ä¸¤è¡Œé…ç½®http.cors.enabled: true # æ³¨æ„ymlæ–‡ä»¶çš„æ ¼å¼ï¼Œtrue å‰é¢æœ‰ç©ºæ ¼http.cors.allow-origin: \"*\" æœ€åé‡å¯ESæœåŠ¡å’ŒESçš„Headæ’ä»¶ï¼Œé…ç½®å®Œæˆ â‘¡ã€elasticsearch é›†ç¾¤ï¼ˆ1 masterï¼Œ2ä¸ªslaveï¼‰-&gt; (192.168.1.110(master),192.168.1.111,192.168.1.112)åŸºäºç¬¬ä¸€æ­¥å•èŠ‚ç‚¹(192.168.1.110)å®‰è£…é›†ç¾¤ï¼ˆæˆ‘ä»¬æŠŠå®ƒè®¾ç½®ä¸ºMasterèŠ‚ç‚¹ï¼‰ ä¿®æ”¹:elasticsearch-master/config/elasticsearch.ymlé…ç½®æ–‡ä»¶ 123456789101112131415161718192021# è§£å†³è·¨åŸŸé—®é¢˜http.cors.enabled: truehttp.cors.allow-origin: \"*\"# é›†ç¾¤åç§°cluster.name: gulj-es# èŠ‚ç‚¹åç§°node.name: es-master# å‘ŠçŸ¥èŠ‚ç‚¹ä¸ºmasterèŠ‚ç‚¹node.master: true# è®¾ç½®æ˜¯å¦ä¸ºæ•°æ®èŠ‚ç‚¹node.data: true# Ipåœ°å€network.host: 192.168.1.110# ç«¯å£http.port: 9200# æ—¥å¿—å­˜æ”¾ä½ç½®path.logs: /data/elasticsearch/logs# æ•°æ®å­˜æ”¾ä½ç½®path.data: /data/elasticsearch/data# å•æ’­ï¼Œé…ç½®é›†ç¾¤ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹discovery.zen.ping.unicast.hosts: [\"192.168.1.110\",\"192.168.1.111\"] é‡æ–°è§£å‹ç¼©elasticsearch-5.6.3.tar.gzåŒ…å¤åˆ¶ä¸¤ä»½ï¼Œ åˆ†åˆ«å‘½åä¸º elasticsearch_slave1ï¼ˆèŠ‚ç‚¹ï¼š192.168.1.111ï¼‰å’Œelasticsearch_slave2ï¼ˆèŠ‚ç‚¹ï¼š192.168.1.112ï¼‰ 12345# è§£å‹ç¼© es åŒ…tar -zxvf elasticsearch-5.6.3.tar.gz# å¤åˆ¶ä¸¤ä»½ es å¹¶é‡å‘½åcp -r elasticsearch-5.6.3 elasticsearch_slave1cp -r elasticsearch-5.6.3 elasticsearch_slave2 åˆ†åˆ«ä¿®æ”¹ elasticsearch_slave1ã€elasticsearch_slave2 çš„ elasticsearch.yml é…ç½®æ–‡ä»¶ 123456789101112131415161718192021# é›†ç¾¤åç§°cluster.name: gulj-es# èŠ‚ç‚¹åç§°,æ³¨æ„salve2èŠ‚ç‚¹,éœ€è¦å‘½åä¸ºå¯¹åº”çš„es-slave02node.name: es-slave01# ä¸æ˜¯masternode.master: false# æ•°æ®èŠ‚ç‚¹node.data: true# ç»‘å®šçš„Ipnetwork.host: 0.0.0.0# ç»‘å®šç«¯å£http.port: 9200# æ—¥å¿—ä½ç½®path.logs: /data/elasticsearch/logs# æ•°æ®ä½ç½®path.data: /data/elasticsearch/data# å•æ’­å‘ç°discovery.zen.ping.unicast.hosts: [\"192.168.1.110\"]# è§£å†³è·¨åŸŸhttp.cors.enabled: truehttp.cors.allow-origin: \"*\" elasticsearch_slave2çš„é…ç½®æ–‡ä»¶å’Œelasticsearch_slave1çš„é…ç½®æ–‡ä»¶å¤§è‡´ç›¸åŒï¼Œåªéœ€è¦ä¿®æ”¹node.nameï¼ˆèŠ‚ç‚¹åç§°ï¼‰è¿™é‡Œä¸å†æ¼”ç¤º(æ³¨æ„é˜²ç«å¢™çš„è®¾ç½®ï¼Œå»ºè®®å…³é—­) Elasticsearch Head æ’ä»¶é¡µé¢å±•ç¤º 2ã€logStashå®‰è£…ä¸‹è½½1wget https://artifacts.elastic.co/downloads/logstash/logstash-5.6.3.tar.gz è§£å‹ç¼© 1tar -zxvf logstash-5.6.3.tar.gz åˆ›å»ºè½¯é“¾æ¥ 12# åˆ›å»ºè½¯è¿æ¥ln -s /usr/local/logstash-5.6.3 /usr/local/logstash åˆ›å»ºlogstashé…ç½®æ–‡ä»¶ 12# åˆ›å»ºlogstashé…ç½®æ–‡ä»¶vim logstash.conf logstash.conf æ–‡ä»¶å†…å®¹ï¼ˆæ ¹æ®å„è‡ªçš„ä¸šåŠ¡éœ€æ±‚ï¼Œæ”¶é›†ç›¸åº”çš„æ—¥å¿—ï¼Œå…·ä½“è¯­æ³•ï¼Œå‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼‰ 12345678910111213141516171819input &#123; file &#123; # æ”¶é›†ESçš„Logæ—¥å¿— path =&gt; \"/data/elasticsearch/logs/gulj-es.log\" # è‡ªå®šä¹‰ç±»å‹ type =&gt; \"es-master\" # ä»å¼€å§‹ä½ç½®è¿›è¡Œæ”¶é›† start_position =&gt; \"beginning\" &#125;&#125;output&#123; elasticsearch&#123; # ESèŠ‚ç‚¹ä¸»æœºåœ°å€ hosts =&gt; [\"192.168.1.110:9200\"] # è®¾ç½®ç´¢å¼•åç§° index =&gt; \"es-master-log\" &#125;&#125; å¯åŠ¨ 12# å¯åŠ¨logstash./bin/logstash -f logstash.conf 3ã€Kibanaå®‰è£…ä¸‹è½½ 1wget https://artifacts.elastic.co/downloads/kibana/kibana-5.6.3-linux-x86_64.tar.gz è§£å‹ç¼© 1tar -zxvf kibana-5.6.3-linux-x86_64.tar.gz åˆ›å»ºè½¯è¿æ¥ 1ln -s /usr/local/kibana-5.6.3-linux-x86_64 /usr/local/kibana ä¿®æ”¹é…ç½®æ–‡ä»¶ 1234567891011# æ‰“å¼€kibanaé…ç½®æ–‡ä»¶vim kibana/conf/kibana.yml# æ‰“å¼€æˆ–ä¿®æ”¹ä»¥ä¸‹é…ç½®å‚æ•°# ç›‘å¬ç«¯å£server.port: 5601# ç›‘å¬ä¸»æœºserver.host: \"192.168.1.110\"# ESæœåŠ¡åœ°å€elasticsearch.url: \"http://192.168.1.110:9200\"# kibanaçš„ç´¢å¼•kibana.index: \".kibana\" å¯åŠ¨ 12# å¯åŠ¨kibana./bin/kibana Kibanaé¡µé¢å±•ç¤º","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://www.gulj.cn/categories/è¿ç»´/"}],"tags":[{"name":"elk","slug":"elk","permalink":"http://www.gulj.cn/tags/elk/"}]},{"title":"ElasticSearchå¸¸ç”¨APIä½¿ç”¨æ•™ç¨‹","slug":"ElasticSearchå¸¸ç”¨APIä½¿ç”¨æ•™ç¨‹","date":"2017-11-10T02:44:00.000Z","updated":"2019-02-14T07:07:12.860Z","comments":true,"path":"2017/11/10/ElasticSearchå¸¸ç”¨APIä½¿ç”¨æ•™ç¨‹/","link":"","permalink":"http://www.gulj.cn/2017/11/10/ElasticSearchå¸¸ç”¨APIä½¿ç”¨æ•™ç¨‹/","excerpt":"ElasticSearch å¸¸ç”¨APIä½¿ç”¨æ•™ç¨‹1ã€åŸºæœ¬æ¦‚å¿µä»‹ç» ç´¢å¼•ï¼šå«æœ‰ç›¸åŒå±æ€§çš„é›†åˆ ç±»å‹ï¼šç´¢å¼•å¯ä»¥å®šä¹‰ä¸€ä¸ªæˆ–è€…å¤šä¸ªç±»å‹ï¼Œæ–‡æ¡£å¿…é¡»å±äºä¸€ä¸ªç±»å‹ æ–‡æ¡£ï¼šæ–‡æ¡£æ˜¯å¯ä»¥è¢«ç´¢å¼•çš„åŸºæœ¬æ•°æ®å•ä½ åˆ†ç‰‡ï¼šæ¯ä¸ªç´¢å¼•éƒ½æœ‰å¤šä¸ªåˆ†ç‰‡ï¼Œæ¯ä¸ªåˆ†ç‰‡éƒ½æ˜¯Luceneç´¢å¼• å¤‡ä»½ï¼šæ‹·è´ä¸€ä»½åˆ†ç‰‡å°±å®Œæˆäº†åˆ†ç‰‡çš„å¤‡ä»½","text":"ElasticSearch å¸¸ç”¨APIä½¿ç”¨æ•™ç¨‹1ã€åŸºæœ¬æ¦‚å¿µä»‹ç» ç´¢å¼•ï¼šå«æœ‰ç›¸åŒå±æ€§çš„é›†åˆ ç±»å‹ï¼šç´¢å¼•å¯ä»¥å®šä¹‰ä¸€ä¸ªæˆ–è€…å¤šä¸ªç±»å‹ï¼Œæ–‡æ¡£å¿…é¡»å±äºä¸€ä¸ªç±»å‹ æ–‡æ¡£ï¼šæ–‡æ¡£æ˜¯å¯ä»¥è¢«ç´¢å¼•çš„åŸºæœ¬æ•°æ®å•ä½ åˆ†ç‰‡ï¼šæ¯ä¸ªç´¢å¼•éƒ½æœ‰å¤šä¸ªåˆ†ç‰‡ï¼Œæ¯ä¸ªåˆ†ç‰‡éƒ½æ˜¯Luceneç´¢å¼• å¤‡ä»½ï¼šæ‹·è´ä¸€ä»½åˆ†ç‰‡å°±å®Œæˆäº†åˆ†ç‰‡çš„å¤‡ä»½ 2ã€APIä½¿ç”¨ APIåŸºæœ¬æ ¼å¼ï¼šhttp://:/&lt;ç´¢å¼•&gt;/&lt;ç±»å‹&gt;/&lt;æ–‡æ¡£id&gt; å¸¸ç”¨çš„HTTPåŠ¨è¯ï¼šGET/PUT/POST/DELETE ç´¢å¼•æ“ä½œæ–°å»ºç´¢å¼• ç›´æ¥æ–°å»ºä¸€ä¸ªbookç´¢å¼• 1$ curl -X PUT 'localhost:9200/book' é€šè¿‡æ–°å»ºç±»å‹ä¸ºprogram_bookæ¥æ–°å»ºbookç´¢å¼• 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647$ curl -X PUT 'localhost:9200/book' -d '&#123; \"mappings\": &#123; \"program_book\": &#123; \"properties\": &#123; \"title\": &#123; \"type\": \"text\", \"analyzer\": \"ik_max_word\", \"search_analyzer\": \"ik_max_word\" &#125;, \"author\": &#123; \"type\": \"keyword\" &#125;, \"number\": &#123; \"type\": \"integer\" &#125;, \"create_time\": &#123; \"type\": \"date\", \"format\": \"yyyy-MM-dd HH:mm:ss||yyyy-MM-dd||epoch_millis\" &#125; &#125; &#125; &#125;&#125;'# æˆ–è€…curl -X POST 'localhost:9200/book/program_book/_mapping?pretty' -d'&#123; \"program_book\": &#123; \"properties\": &#123; \"title\": &#123; \"type\": \"text\", \"analyzer\": \"ik_max_word\", \"search_analyzer\": \"ik_max_word\" &#125;, \"author\": &#123; \"type\": \"keyword\" &#125;, \"number\": &#123; \"type\": \"integer\" &#125;, \"create_time\": &#123; \"type\": \"date\", \"format\": \"yyyy-MM-dd HH:mm:ss||yyyy-MM-dd||epoch_millis\" &#125; &#125; &#125;&#125;' é€šè¿‡æ’å…¥ä¸€ä¸ªæˆ–è€…å¤šä¸ªæ–‡æ¡£æ¥æ–°å»ºbookç´¢å¼• 1234567$ curl -X PUT 'localhost:9200/book/program_book/1' -d ' &#123; \"title\": \"Javaå¹¶å‘ç¼–ç¨‹å®æˆ˜\", \"author\": \"Doug\", \"number\": 100, \"create_time\":\"2017-08-01\" &#125;' æŸ¥çœ‹æ–°å»ºçš„æ‰€æœ‰ç´¢å¼• 1$ curl -X GET 'localhost:9200/_cat/indices?v' åˆ é™¤ç´¢å¼• åˆ é™¤ book ç´¢å¼• 1$ curl -X DELETE 'localhost:9200/book' ç±»å‹æ“ä½œ æ–°å»ºç±»å‹ æ–°å»º program_book ç±»å‹ 123456789101112131415161718192021222324$ curl -X PUT 'localhost:9200/book' -d '&#123; \"mappings\": &#123; \"program_book\": &#123; \"properties\": &#123; \"title\": &#123; \"type\": \"text\", \"analyzer\": \"ik_max_word\", \"search_analyzer\": \"ik_max_word\" &#125;, \"author\": &#123; \"type\": \"keyword\" &#125;, \"number\": &#123; \"type\": \"integer\" &#125;, \"create_time\": &#123; \"type\": \"date\", \"format\": \"yyyy-MM-dd HH:mm:ss||yyyy-MM-dd||epoch_millis\" &#125; &#125; &#125; &#125;&#125;' ä¿®æ”¹ç±»å‹ ç´¢å¼•bookï¼Œç»™ç±»å‹program_book æ–°å¢ä¸€ä¸ªupdate_timeå­—æ®µ 12345678910$ curl-XPOST'localhost: 9200/book/program_book/_mapping?pretty'-d'&#123; \"program_books\": &#123; \"properties\": &#123; \"update_time\": &#123; \"type\": \"date\", \"format\": \"yyyy-MM-dd HH:mm:ss||yyyy-MM-dd||epoch_millis\" &#125; &#125; &#125;&#125;' æ–‡æ¡£æ“ä½œ æ–°å¢æ–‡æ¡£ æ–°å¢å•æ¡æ–‡æ¡£ï¼ŒæŒ‡å®šId 123456$ curl-XPUT'localhost: 9200/book/program_book/1'-d'&#123; \"title\": \"é‡æ„\", \"author\": \"ä½šå\", \"number\": 50, \"create_time\": \"2017-01-11\"&#125;' æ–°å¢å•æ¡æ–‡æ¡£ï¼Œä¸æŒ‡å®šid 123456$ curl-XPUT'localhost: 9200/book/program_book'-d'&#123; \"title\": \"é‡æ„\", \"author\": \"ä½šå\", \"number\": 50, \"create_time\": \"2017-01-11\"&#125;' æŸ¥çœ‹æ–‡æ¡£ æŸ¥çœ‹/book/program_book/1è¿™æ¡è®°å½•ï¼ŒURL çš„å‚æ•°pretty=trueè¡¨ç¤ºä»¥æ˜“è¯»çš„æ ¼å¼è¿”å›ã€‚ 1$ curl 'localhost:9200/book/program_book/1?pretty=true' ä¿®æ”¹æ–‡æ¡£ ä¿®æ”¹å°±æ˜¯ä½¿ç”¨ PUT è¯·æ±‚ï¼Œé‡æ–°å‘é€ä¸€æ¬¡æ–°å¢æ–‡æ¡£çš„æ•°æ®ã€‚ 123456$ curl-XPUT'localhost: 9200/book/program_book/1'-d'&#123; \"title\": \"ä¿®æ”¹æ“ä½œ-é‡æ„\", \"author\": \"ä½šå\", \"number\": 50, \"create_time\": \"2017-01-11\"&#125;' åˆ é™¤æ–‡æ¡£ 1$ curl -X DELETE 'localhost:9200/book/program_book/1' å¤æ‚æŸ¥è¯¢ æŸ¥è¯¢æŒ‡å®šç´¢å¼•ï¼ŒæŒ‡å®šç±»å‹çš„çš„æ‰€æœ‰æ–‡æ¡£(/Index/Type/_search) 1$ curl 'localhost:9200/book/program_book/_search?pretty' ä½¿ç”¨ Match æŸ¥è¯¢,æŒ‡å®šçš„åŒ¹é…æ¡ä»¶æŸ¥è¯¢ 12345678910111213141516171819curl'localhost: 9200/book/program_book/_search?pretty'-d'&#123; \"query\": &#123; \"match\": &#123; \"title\": \"é‡æ„\" &#125; &#125;, \"from\": 1, \"size\": 1, \"sort\": &#123; \"create_time\": &#123; \"order\": \"desc\" &#125; &#125;&#125;'# å‚æ•°è§£é‡Š# from åç§»é‡ï¼ŒæŒ‡å®šæŸ¥è¯¢ä»ä½ç½®1å¼€å§‹ï¼ˆé»˜è®¤æ˜¯ä»ä½ç½®0å¼€å§‹ï¼‰# size æŒ‡å®šè¿”å›æ•°æ®çš„ä¸ªæ•°ä¸º1æ¡# æ ¹æ® create_time è¿›è¡Œæ’åº ä½¿ç”¨ Match æŸ¥è¯¢,æŒ‡å®šçš„åŒ¹é…æ¡ä»¶æŸ¥è¯¢ ï¼ˆæŸ¥è¯¢å¤šä¸ªæœç´¢å…³é”®å­—ï¼Œ Elastic è®¤ä¸ºå®ƒä»¬æ˜¯orå…³ç³»ï¼‰ 1234567curl'localhost: 9200/book/program_book/_search?pretty'-d'&#123; \"query\": &#123; \"match\": &#123; \"title\": \"é‡æ„ ä¿®æ”¹\" &#125; &#125;,&#125;' ä½¿ç”¨ Must æŸ¥è¯¢,æŒ‡å®šçš„åŒ¹é…æ¡ä»¶æŸ¥è¯¢ ï¼ˆæŸ¥è¯¢å¤šä¸ªæœç´¢å…³é”®å­—ï¼Œ Elastic è®¤ä¸ºå®ƒä»¬æ˜¯andå…³ç³»ï¼‰ 1234567891011$ curl 'localhost:9200/book/program_book/_search?pretty' -d ' &#123; \"query\": &#123; \"bool\": &#123; \"must\": [ &#123; \"match\": &#123; \"desc\": \"é‡æ„\" &#125; &#125;, &#123; \"match\": &#123; \"desc\": \"ä¿®æ”¹\" &#125; &#125; ] &#125; &#125; &#125;'","categories":[{"name":"Java","slug":"Java","permalink":"http://www.gulj.cn/categories/Java/"}],"tags":[{"name":"elasticsearch","slug":"elasticsearch","permalink":"http://www.gulj.cn/tags/elasticsearch/"}]},{"title":"LinuxæœåŠ¡ç®¡ç†","slug":"LinuxæœåŠ¡ç®¡ç†","date":"2017-10-11T09:36:27.000Z","updated":"2019-02-14T07:07:12.862Z","comments":true,"path":"2017/10/11/LinuxæœåŠ¡ç®¡ç†/","link":"","permalink":"http://www.gulj.cn/2017/10/11/LinuxæœåŠ¡ç®¡ç†/","excerpt":"è¿è¡Œçº§åˆ« è¿è¡Œçº§åˆ« å«ä¹‰ 0 å…³æœº 1 å•ç”¨æˆ·æ¨¡å¼ï¼Œåªè¦ç”¨äºç³»ç»Ÿä¿®å¤ 2 ä¸å®Œå…¨çš„å‘½ä»¤è¡Œæ¨¡å¼ï¼Œä¸å«NFSæ¨¡å¼ 3 å®Œæ•´çš„å‘½ä»¤è¡Œæ¨¡å¼ï¼Œå°±æ˜¯æ ‡å‡†å­—ç¬¦é¡µé¢ 4 ç³»ç»Ÿä¿ç•™ 5 å›¾å½¢æ¨¡å¼ 6 é‡å¯","text":"è¿è¡Œçº§åˆ« è¿è¡Œçº§åˆ« å«ä¹‰ 0 å…³æœº 1 å•ç”¨æˆ·æ¨¡å¼ï¼Œåªè¦ç”¨äºç³»ç»Ÿä¿®å¤ 2 ä¸å®Œå…¨çš„å‘½ä»¤è¡Œæ¨¡å¼ï¼Œä¸å«NFSæ¨¡å¼ 3 å®Œæ•´çš„å‘½ä»¤è¡Œæ¨¡å¼ï¼Œå°±æ˜¯æ ‡å‡†å­—ç¬¦é¡µé¢ 4 ç³»ç»Ÿä¿ç•™ 5 å›¾å½¢æ¨¡å¼ 6 é‡å¯ æŸ¥çœ‹åŠä¿®æ”¹ç³»ç»Ÿè¿è¡Œçº§åˆ«12345678910// æŸ¥çœ‹ç³»ç»Ÿè¿è¡Œçº§åˆ«// Nï¼šNULLã€‚å½“å‰çº§åˆ«ä¸º3å³å­—ç¬¦ç•Œé¢ï¼Œå…¶ä¸Šä¸€ä¸ªçº§åˆ«ä¸ºNå³ä¸ºç©ºï¼Œè¡¨ç¤ºç³»ç»Ÿå¼€æœºç›´æ¥è¿›å…¥å­—ç¬¦ç•Œé¢# runlevelN 3 // ä¿®æ”¹ç³»ç»Ÿè¿è¡Œçº§åˆ«// è¿›å…¥å›¾å½¢çº§åˆ«ï¼Œå‰ææ˜¯å®‰è£…å›¾å½¢ç•Œé¢# init 5 // è‹¥æœªå®‰è£…å›¾å½¢ç•Œé¢åˆ™ä¼šæŠ¥é”™# runlevel3 5 // ä»ç„¶è¿›å…¥äº†5çº§åˆ« æŸ¥çœ‹åŠä¿®æ”¹ç³»ç»Ÿé»˜è®¤çš„è¿è¡Œçº§åˆ«12# vim /etc/inittabid:3:initdefault: æ³¨ï¼šä¸è¦æŠŠå¼€æœºå¯åŠ¨çº§åˆ«è®¾ç½®ä¸º0æˆ–6çº§åˆ«ã€‚ æœåŠ¡å¯åŠ¨å’Œè‡ªå¯åŠ¨å¯åŠ¨ï¼šå°±æ˜¯åœ¨å½“å‰ç³»ç»Ÿä¸­è®©æœåŠ¡å¯åŠ¨ï¼Œå¹¶æä¾›åŠŸèƒ½ã€‚ è‡ªå¯åŠ¨ï¼šæŒ‡è®©æœåŠ¡åœ¨ç³»ç»Ÿå¼€æœºæˆ–é‡å¯åŠ¨ä¹‹åï¼Œéšç€ç³»ç»Ÿçš„å¯åŠ¨è€Œè‡ªåŠ¨å¯åŠ¨æœåŠ¡ã€‚ æ³¨ï¼šåœ¨chkconfig â€“list æŸ¥çœ‹åˆ°æœåŠ¡åœ¨ä¸åŒè¿è¡Œçº§åˆ«æ—¶ï¼ŒæœåŠ¡è‡ªå¯åŠ¨æ˜¯å¦å¼€å¯ï¼Œä¸èƒ½ç¡®å®šç°åœ¨æœåŠ¡æ˜¯å¦å·²ç»å¼€å¯ã€‚ æŸ¥è¯¢å·²å®‰è£…çš„æœåŠ¡â‘ ã€RPMåŒ…å®‰è£…çš„æœåŠ¡chkconfig â€“listå‘½ä»¤æŸ¥çœ‹æœåŠ¡è‡ªå¯åŠ¨çŠ¶æ€ï¼Œå¯ä»¥çœ‹åˆ°æ‰€æœ‰RPMåŒ…å®‰è£…çš„æœåŠ¡ â‘¡ã€æºç åŒ…å®‰è£…çš„æœåŠ¡æŸ¥çœ‹æœåŠ¡å®‰è£…ä½ç½®ï¼Œä¸€èˆ¬æ˜¯/usr/local/ç›®å½•ä¸‹serviceã€chkconfigã€ntsysvéƒ½ä¸èƒ½æ‰¾åˆ°æºç åŒ…å®‰è£…çš„æœåŠ¡ã€‚ ä¸¤è€…åŒºåˆ«ï¼šä¸»è¦æ˜¯å®‰è£…ä½ç½®çš„ä¸åŒ æºç åŒ…ï¼šä¸€èˆ¬å®‰è£…åœ¨/usr/local/ç›®å½•ä¸‹RPMåŒ…ï¼šé»˜è®¤å®‰è£…ä½ç½® RMPåŒ…æœåŠ¡ç®¡ç†å¸¸è§„çš„rpmåŒ…æ–‡ä»¶å®‰è£…ä½ç½®ï¼š è·¯å¾„ ä½œç”¨ /etc/init.d/ å¯åŠ¨è„šæœ¬ä½ç½® /etc/sysconfig/ åˆå§‹åŒ–ç¯å¢ƒé…ç½®æ–‡ä»¶ä½ç½® /etc/ é…ç½®æ–‡ä»¶ä½ç½® /etc/xinetd.conf xinetdé…ç½®æ–‡ä»¶ /etc/xinetd.d åŸºäºxinetdæœåŠ¡çš„å¯åŠ¨è„šæœ¬ /var/lib/ æœåŠ¡äº§ç”Ÿçš„æ•°æ®æ”¾åœ¨è¿™é‡Œ /var/log/ æ—¥å¿— RMPåŒ…æœåŠ¡ç®¡ç†â€”â€”ç‹¬ç«‹æœåŠ¡çš„ç®¡ç†â‘ ã€ç‹¬ç«‹æœåŠ¡çš„å¯åŠ¨ æ³•ä¸€ï¼š/etc/init.d/ ç‹¬ç«‹æœåŠ¡å æˆ–è€… /etc/rc.d/init.d/ ç‹¬ç«‹æœåŠ¡å start|stop|status|restart| 1234567// æŸ¥çœ‹apache httpæœåŠ¡çš„çŠ¶æ€ï¼Œå…¶ä¸­httpdä¸ºä¸€ä¸ªshellè„šæœ¬æ–‡ä»¶# /etc/init.d/httpd status// å¯åŠ¨apacheæœåŠ¡# /etc/init.d/httpd start// æ—©æœŸLinuxç‰ˆæœ¬æœåŠ¡ç®¡ç†è„šæœ¬æ”¾åœ¨/etc/rc.d/init.d/ç›®å½•# /etc/rc.d/init.d/httpd status æ³•äºŒï¼šservice ç‹¬ç«‹æœåŠ¡å start|stop|restart|status| 123# service httpd status// centos 7# systemctl [start/stop/status/restart] ç‹¬ç«‹æœåŠ¡å å¤‡æ³¨ï¼šä¸Šé¢ä¸¤ç§æ–¹æ³•ä¸€èˆ¬æ— æ³•ç®¡ç†æºç åŒ…å¯åŠ¨è„šæœ¬ï¼Œä½†å¯ä»¥æŠŠæºç åŒ…å¯åŠ¨è„šæœ¬æ”¾ç½®åœ¨/etc/init.d/ç›®å½•ä¸‹ç»Ÿä¸€ç®¡ç† â‘¡ã€ç‹¬ç«‹æœåŠ¡çš„è‡ªå¯åŠ¨ æ³•ä¸€ï¼šchkconfig [ - - level è¿è¡Œçº§åˆ« ] æœåŠ¡å 1234# chkconfig [--level è¿è¡Œçº§åˆ«] [ç‹¬ç«‹æœåŠ¡å] [on/off]ä¾‹å¦‚ï¼š# chkconfig --level 2345 httpd on # chkconfig httpd off # --level 2345 å¯ä»¥çœç•¥ï¼Œé»˜è®¤å°±æ˜¯2345çº§åˆ« æ³•äºŒï¼šä¿®æ”¹æ–‡ä»¶ï¼š/etc/rc.d/rc.local æˆ–è€… /etc/rc.local æ–‡ä»¶ 123# vi /etc/rc.local æˆ–è€… vi /etc/rc.d/rc.local// ç„¶ååœ¨å°¾éƒ¨æ·»åŠ ä¸€è¡Œï¼Œä¾‹å¦‚# /etc/init.d/httpd start # å¼€æœºapacheæœåŠ¡å°±ä¼šè‡ªå¯åŠ¨ æ³•ä¸‰ï¼šntsysv å‘½ä»¤ç®¡ç†è‡ªå¯åŠ¨ï¼ˆå¯ç®¡ç†ç‹¬ç«‹æœåŠ¡ï¼Œå’ŒåŸºäºxinetdæœåŠ¡ï¼‰ å¤‡æ³¨ â‘ ã€/etc/rc.d/rc.localæ–‡ä»¶æ˜¯åœ¨ç³»ç»Ÿå¯åŠ¨æ—¶ï¼ŒæŠŠæ‰€æœ‰çš„æœåŠ¡å¯åŠ¨å®Œï¼Œç”¨æˆ·ç™»å½•åˆ°ç³»ç»Ÿå‰æœ€åæ‰§è¡Œçš„æ–‡ä»¶ï¼Œå› æ­¤ç³»ç»Ÿä¼šæ‰§è¡Œè¿™ä¸ªæ–‡ä»¶ä¸­çš„å‘½ä»¤ â‘¡ã€/etc/rc.localæ–‡ä»¶æ˜¯/etc/rc.d/rc.localæ–‡ä»¶çš„è½¯è¿æ¥ RMPåŒ…æœåŠ¡ç®¡ç†â€”â€”åŸºäºxinetdæœåŠ¡çš„ç®¡ç†å®‰è£…xinetdæœåŠ¡ 1# yum -y install xinetd åŸºäºxinetdæœåŠ¡çš„å¯åŠ¨ 1234567891011121314151617181920// æ˜¾ç¤ºrsyncæœåŠ¡çš„ç«¯å£# grep rsync /etc/services# vim /etc/xinetd.d/rsyncservice rsync&#123; flags = REUSE // è®¾ç½®TCP/IP socketå¯é‡ç”¨ socket_type = stream wait = no // å…è®¸å¤šä¸ªè¿æ¥åŒæ—¶è¿æ¥ user = root // å¯åŠ¨æœåŠ¡çš„ç”¨æˆ·ä¸ºroot server = /usr/bin/rsync server_args = --daemon log_on_failure += USERID // ç™»å½•å¤±è´¥åï¼Œè®°å½•ç”¨æˆ·çš„ID disable = no // å¼€å¯rsyncæœåŠ¡ï¼Œå¼€å¯ï¼šno å…³é—­ï¼šyes&#125;// é‡å¯åŠ¨xinetdæœåŠ¡# service xinetd restart æˆ–è€…# systemctl restart xinetd (centos 7) åŸºäºxinetdæœåŠ¡çš„è‡ªå¯åŠ¨ 123# checkconfig time-stream on// ntsysvå‘½ä»¤# ntsysv å¤‡æ³¨ xinetdçš„æœåŠ¡ï¼šå®é™…ä¸Šè‡ªå¯åŠ¨ä¸å¯åŠ¨å®Œå…¨åŒæ­¥ï¼Œè‡ªå¯åŠ¨å…³é—­/å¼€å¯ï¼Œå¯åŠ¨åŒæ—¶å…³é—­/å¼€å¯,å¯åŠ¨å…³é—­/å¼€å¯ï¼Œè‡ªå¯åŠ¨åŒæ—¶å…³é—­/å¼€å¯ æºç åŒ…æœåŠ¡ç®¡ç†â‘ ã€æºç åŒ…å®‰è£…æœåŠ¡çš„å¯åŠ¨ä½¿ç”¨ç»å¯¹è·¯å¾„ï¼Œè°ƒç”¨å¯åŠ¨è„šæœ¬æ¥å¯åŠ¨ã€‚ä¸åŒçš„æºç åŒ…çš„å¯åŠ¨è„šæœ¬ä¸é€šï¼Œå¯ä»¥æŸ¥çœ‹æºç åŒ…çš„å®‰è£…è¯´æ˜ï¼ŒæŸ¥çœ‹å¯åŠ¨è„šæœ¬çš„æ–¹æ³• 1# /usr/local/apache2/bin/apachectl start|stop â‘¡ã€æºç åŒ…å®‰è£…æœåŠ¡çš„è‡ªå¯åŠ¨é€šè¿‡ä¿®æ”¹/etc/rc.d/rc.localæ–‡ä»¶åŠ å…¥å¯åŠ¨å‘½ä»¤ 1# vim /etc/rc.d/rc.local // åŠ å…¥/usr/local/apache2/bin/apachectl start â‘¢ã€è®©æºç åŒ…æœåŠ¡è¢«æœåŠ¡ç®¡ç†å‘½ä»¤è¯†åˆ«ï¼ˆchkconfigï¼Œntsysvï¼Œserviceï¼‰ è®©æºç åŒ…çš„apacheæœåŠ¡èƒ½è¢«serviceå‘½ä»¤ç®¡ç†å¯åŠ¨ 12# ln -s /usr/local/apache2/bin/apachectl /etc/init.d/apache # è½¯é“¾æ¥# service apache start è®©æºç åŒ…çš„apacheæœåŠ¡èƒ½è¢«chkconfigä¸ntsysvå‘½ä»¤ç®¡ç†è‡ªå¯åŠ¨ 1234567891011vim /etc/init.d/apache // åœ¨apacheå¯åŠ¨è„šæœ¬ä¸­æ·»åŠ # chkconfig: 35 86 76 # æ ¼å¼ï¼šchkconfig : è¿è¡Œçº§åˆ« å¯åŠ¨é¡ºåº å…³é—­é¡ºåº# description: source package apache # descriptionçš„å†…å®¹éšæ„// æŠŠæºç åŒ…apacheåŠ å…¥chkconfig å‘½ä»¤# chkconfig --add apache# chkconfig --list |grep apache# apache 0:å…³é—­ 1:å…³é—­ 2:å…³é—­ 3:å¼€å¯ 4:å…³é—­ 5:å¼€å¯ 6:å…³é—­// è¿™æ—¶ï¼Œntsysvå‘½ä»¤ä¹Ÿå¯ä»¥ç®¡ç†apache# ntsysv systemctlsystemctlå‘½ä»¤å°†serviceå’Œchkconfigå‘½ä»¤ç»“åˆåœ¨äº†ä¸€èµ·ã€‚è¿™æ ·é€šè¿‡ä¸€ä¸ªå‘½ä»¤å°±å¯ä»¥å®ç°ä¸¤ä¸ªå‘½ä»¤çš„åŠŸèƒ½ã€‚(CentOS 7 å’Œ Ubuntuå¯ç”¨) æ ¼å¼ï¼š 12systemctl åŠ¨ä½œ æœåŠ¡å.servicesystemctl start|stop|restart|status æœåŠ¡å.service è®¾ç½®å¼€æœºå¯åŠ¨ï¼š 1systemctl enable httpd.service å–æ¶ˆå¼€æœºå¯åŠ¨ï¼š 1systemctl disable httpd.service ç³»ç»Ÿæ“ä½œ 1234systemctl reboot é‡å¯systemctl poweroff å…³æœºsystemctl suspend ç¡çœ systemctl hibernate ä¼‘çœ  åˆ†æå¯åŠ¨è¿›ç¨‹ 1systemd-analyze åˆ†æå„è¿›ç¨‹å¯åŠ¨çš„æ—¶é—´ 1systemd-analyze blame æœåŠ¡ç®¡ç†æ€»ç»“","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://www.gulj.cn/categories/è¿ç»´/"}],"tags":[{"name":"linux","slug":"linux","permalink":"http://www.gulj.cn/tags/linux/"}]},{"title":"Javaè®¾è®¡æ¨¡å¼â€”é€‚é…å™¨æ¨¡å¼","slug":"Javaè®¾è®¡æ¨¡å¼â€”é€‚é…å™¨æ¨¡å¼","date":"2017-09-28T03:31:50.000Z","updated":"2019-02-14T07:07:12.862Z","comments":true,"path":"2017/09/28/Javaè®¾è®¡æ¨¡å¼â€”é€‚é…å™¨æ¨¡å¼/","link":"","permalink":"http://www.gulj.cn/2017/09/28/Javaè®¾è®¡æ¨¡å¼â€”é€‚é…å™¨æ¨¡å¼/","excerpt":"ä»‹ç»é€‚é…å™¨æ¨¡å¼å°†ä¸€ä¸ªç±»çš„æ¥å£é€‚é…æˆç”¨æˆ·æ‰€æœŸå¾…çš„ã€‚ä¸€ä¸ªé€‚é…å™¨é€šå¸¸å…è®¸å› ä¸ºæ¥å£ä¸å…¼å®¹è€Œä¸èƒ½ä¸€èµ·å·¥ä½œçš„ç±»èƒ½å¤Ÿåœ¨ä¸€èµ·å·¥ä½œï¼Œåšæ³•æ˜¯å°†ç±»è‡ªå·±çš„æ¥å£åŒ…è£¹åœ¨ä¸€ä¸ªå·²å­˜åœ¨çš„ç±»ä¸­ ç»“æ„ ç›®æ ‡(Target)è§’è‰²ï¼šè¿™å°±æ˜¯æ‰€æœŸå¾…å¾—åˆ°çš„æ¥å£ æº(Adapee)è§’è‰²ï¼šç°åœ¨éœ€è¦é€‚é…çš„æ¥å£ã€‚ é€‚é…å™¨(Adaper)è§’è‰²ï¼šé€‚é…å™¨ç±»æ˜¯æœ¬æ¨¡å¼çš„æ ¸å¿ƒã€‚é€‚é…å™¨æŠŠæºæ¥å£è½¬æ¢æˆç›®æ ‡æ¥å£ã€‚æ˜¾ç„¶ï¼Œè¿™ä¸€è§’è‰²ä¸å¯ä»¥æ˜¯æ¥å£ï¼Œè€Œå¿…é¡»æ˜¯å…·ä½“ç±»ã€‚","text":"ä»‹ç»é€‚é…å™¨æ¨¡å¼å°†ä¸€ä¸ªç±»çš„æ¥å£é€‚é…æˆç”¨æˆ·æ‰€æœŸå¾…çš„ã€‚ä¸€ä¸ªé€‚é…å™¨é€šå¸¸å…è®¸å› ä¸ºæ¥å£ä¸å…¼å®¹è€Œä¸èƒ½ä¸€èµ·å·¥ä½œçš„ç±»èƒ½å¤Ÿåœ¨ä¸€èµ·å·¥ä½œï¼Œåšæ³•æ˜¯å°†ç±»è‡ªå·±çš„æ¥å£åŒ…è£¹åœ¨ä¸€ä¸ªå·²å­˜åœ¨çš„ç±»ä¸­ ç»“æ„ ç›®æ ‡(Target)è§’è‰²ï¼šè¿™å°±æ˜¯æ‰€æœŸå¾…å¾—åˆ°çš„æ¥å£ æº(Adapee)è§’è‰²ï¼šç°åœ¨éœ€è¦é€‚é…çš„æ¥å£ã€‚ é€‚é…å™¨(Adaper)è§’è‰²ï¼šé€‚é…å™¨ç±»æ˜¯æœ¬æ¨¡å¼çš„æ ¸å¿ƒã€‚é€‚é…å™¨æŠŠæºæ¥å£è½¬æ¢æˆç›®æ ‡æ¥å£ã€‚æ˜¾ç„¶ï¼Œè¿™ä¸€è§’è‰²ä¸å¯ä»¥æ˜¯æ¥å£ï¼Œè€Œå¿…é¡»æ˜¯å…·ä½“ç±»ã€‚ ç±»é€‚é…å™¨ é‡‡ç”¨ç»§æ‰¿çš„æ–¹å¼ 12345678910111213141516// é€‚é…å™¨Adapterç»§æ‰¿è‡ªAdapteeï¼ŒåŒæ—¶åˆå®ç°äº†ç›®æ ‡(Target)æ¥å£ã€‚public class Adapter extends Adaptee implements Target &#123; /** * 1.ç›®æ ‡æ¥å£è¦æ±‚è°ƒç”¨Request()è¿™ä¸ªæ–¹æ³•åï¼Œä½†æºç±»Adapteeæ²¡æœ‰æ–¹æ³•Request() * * 2.ä½†å®é™…ä¸ŠRequest()åªæ˜¯è°ƒç”¨æºç±»Adapteeçš„SpecificRequest()æ–¹æ³•çš„å†…å®¹ * * 3.æ‰€ä»¥é€‚é…å™¨åªæ˜¯å°†SpecificRequest()æ–¹æ³•ä½œäº†ä¸€å±‚å°è£…ï¼Œå°è£…æˆTargetå¯ä»¥è°ƒç”¨çš„Request()è€Œå·² */ @Override public void Request() &#123; this.SpecificRequest(); &#125;&#125; å¯¹è±¡é€‚é…å™¨ é‡‡ç”¨å¯¹è±¡ç»„åˆæ–¹å¼ ä»£ç ç¤ºä¾‹å‡è®¾åœ¨æˆ‘ä»¬çš„ç³»ç»Ÿä¸­æœ‰ä¸€ä¸ªå·²ç»å­˜åœ¨çš„æ–¹æ³•ï¼ˆAdapteeå¯ä»¥å®ç°ä¸€ä¸ªæ¥å£ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå¯¹è±¡ç±»ï¼‰ Adaptee 12345678910111213/** * éœ€è¦è¢«é€‚é…çš„å¯¹è±¡ */public class Adaptee &#123; /** * å·²ç»å­˜åœ¨çš„æ–¹æ³• */ public void specificRequest() &#123; // TODO å…·ä½“ä¸šåŠ¡æ–¹æ³• &#125;&#125; ç”±äºå·²ç»å­˜åœ¨çš„æ¥å£ä¸èƒ½æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚ï¼Œç°åœ¨æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªæˆ‘ä»¬æœŸæœ›çš„ç›®æ ‡æ¥å£ Target 123456789/** * ç›®æ ‡æ¥å£ */public interface Target &#123; /** * ç›®æ ‡æ–¹æ³• */ void request();&#125; å®šä¹‰é€‚é…å™¨ Adapter ï¼Œè¿›è¡Œé€‚é… Adaptee 123456789101112131415161718192021222324/** * é€‚é…å™¨ç±» */public class Adapter implements Target &#123; /** * æŒæœ‰éœ€è¦è¢«é€‚é…çš„æ¥å£å¯¹è±¡ */ private Adaptee adaptee; /** * ä¼ å…¥éœ€è¦è¢«é€‚é…çš„å¯¹è±¡ * @param adaptee */ public Adapter(Adaptee adaptee) &#123; this.adaptee = adaptee; &#125; @Override public void request() &#123; // æ–°æ¥å£ä¸­ï¼Œè°ƒç”¨çš„æ˜¯å·²ç»å­˜åœ¨çš„æ–¹æ³• adaptee.specificRequest(); &#125;&#125; æµ‹è¯•ä»£ç  1234567891011121314public class Client &#123; public static void main(String[] args) &#123; // åˆ›å»ºéœ€è¦è¢«é€‚é…çš„å¯¹è±¡ Adaptee adaptee = new Adaptee(); // åˆ›å»ºå®¢æˆ·ç«¯éœ€è¦è°ƒç”¨çš„æ¥å£å¯¹è±¡ Target target = new Adapter(adaptee); // è¡¨é¢ä¸Šè°ƒç”¨çš„æ˜¯è‡ªå·±çš„æ–°å®šä¹‰çš„æ¥å£ï¼Œå…¶å†…éƒ¨å®ç°è¿˜æ˜¯åŸæœ‰çš„æ–¹æ³• target.request(); &#125;&#125; ç¼ºçœé€‚é…å™¨ åœ¨ä»»ä½•æ—¶å€™ï¼Œå¦‚æœä¸å‡†å¤‡å®ç°ä¸€ä¸ªæ¥å£çš„æ‰€æœ‰æ–¹æ³•æ—¶ï¼Œå°±å¯ä»¥ä½¿ç”¨â€œç¼ºçœé€‚é…æ¨¡å¼â€åˆ¶é€ ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œç»™å‡ºæ‰€æœ‰æ–¹æ³•çš„é»˜è®¤ç©ºå®ç°ã€‚è¿™æ ·ï¼Œä»è¿™ä¸ªæŠ½è±¡ç±»å†ç»§æ‰¿ä¸‹å»çš„å­ç±»å°±ä¸å¿…å®ç°æ‰€æœ‰çš„æ–¹æ³•äº† ä»£ç ç¤ºä¾‹å®šä¹‰ä¸€ä¸ªåŠ¨ç‰© Animal è¡Œä¸ºçš„æ¥å£ 1234567891011121314151617public interface Animal &#123; /** * æ¸¸æ³³ */ void swim(); /** * ç¡è§‰ */ void sleep(); /** * é£ç¿” */ void fly();&#125; æˆ‘ä»¬çŸ¥é“éº»é›€åªèƒ½é£ç¿”ï¼Œç¡è§‰ï¼Œä½†æ˜¯ä¸èƒ½åœ¨æ°´é‡Œæ¸¸æ³³ï¼›å¦‚æˆ‘æˆ‘ä»¬ç›´æ¥å®šä¹‰ä¸€ä¸ªéº»é›€ï¼ˆBirdï¼‰ç±»ç›´æ¥å»å®ç°åŠ¨ç‰©ï¼ˆAnimalï¼‰è¿™ä¸ªæ¥å£ï¼Œé‚£ä¹ˆ Animal ä¸­æ¸¸æ³³çš„æ–¹æ³•æˆ‘ä»¬ä¹Ÿå¿…é¡»å»å®ç° (è¿™æ˜¯æ¥å£çš„ç‰¹æ€§æ‰€å¯¼è‡´)ï¼Œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªæŠ½è±¡ç±»ä½œä¸ºé€‚é…å™¨çš„è§’è‰²æ¥è§£å†³è¿™ä¸ªé—®é¢˜ é€‚é…å™¨ç±» Adapter 12345678910111213141516public abstract class Adapter implements Animal &#123; @Override public void swim() &#123; // ç©ºå®ç° &#125; @Override public void sleep() &#123; // ç©ºå®ç° &#125; @Override public void fly() &#123; // ç©ºå®ç° &#125;&#125; æ¥ä¸‹æ¥æˆ‘ä»¬å®šä¹‰éº»é›€ç±»ï¼ˆBirdï¼‰ æˆ‘ä»¬ä¸ç›´æ¥å®ç°æ¥å£ï¼ˆAnimalï¼‰ï¼Œè€Œæ˜¯ç»§æ‰¿æˆ‘ä»¬å®šä¹‰çš„é€‚é…å™¨ç±» Adapter 1234567891011public class Bird extends Adapter &#123; @Override public void sleep() &#123; // TODO ä¸šåŠ¡å®ç° &#125; @Override public void fly() &#123; // TODO ä¸šåŠ¡å®ç° &#125;&#125; é€‚é…å™¨æ¨¡å¼ä½¿ç”¨æ³¨æ„äº‹é¡¹ é€‚é…å™¨æ¨¡å¼ä¸­è¢«é€‚é…çš„æ¥å£ Adaptee å’Œé€‚é…æˆä¸ºçš„æ¥å£ Target æ˜¯æ²¡æœ‰å…³è”çš„ï¼ŒAdaptee å’Œ Target ä¸­çš„æ–¹æ³•æ—¢å¯ä»¥æ˜¯ç›¸åŒçš„ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸åŒçš„","categories":[{"name":"Java","slug":"Java","permalink":"http://www.gulj.cn/categories/Java/"}],"tags":[{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"http://www.gulj.cn/tags/è®¾è®¡æ¨¡å¼/"}]},{"title":"Javaè®¾è®¡æ¨¡å¼â€”è£…é¥°å™¨æ¨¡å¼","slug":"Javaè®¾è®¡æ¨¡å¼-è£…é¥°å™¨æ¨¡å¼","date":"2017-09-27T01:42:22.000Z","updated":"2019-02-14T07:07:12.862Z","comments":true,"path":"2017/09/27/Javaè®¾è®¡æ¨¡å¼-è£…é¥°å™¨æ¨¡å¼/","link":"","permalink":"http://www.gulj.cn/2017/09/27/Javaè®¾è®¡æ¨¡å¼-è£…é¥°å™¨æ¨¡å¼/","excerpt":"1ã€ä»‹ç»è£…é¥°å™¨æ¨¡å¼ï¼ˆDecorator Patternï¼‰å…è®¸å‘ä¸€ä¸ªç°æœ‰çš„å¯¹è±¡æ·»åŠ æ–°çš„åŠŸèƒ½ï¼ŒåŒæ—¶åˆä¸æ”¹å˜å…¶ç»“æ„ã€‚è¿™ç§ç±»å‹çš„è®¾è®¡æ¨¡å¼å±äºç»“æ„å‹æ¨¡å¼ï¼Œå®ƒæ˜¯ä½œä¸ºç°æœ‰çš„ç±»çš„ä¸€ä¸ªåŒ…è£…ã€‚ è¿™ç§æ¨¡å¼åˆ›å»ºäº†ä¸€ä¸ªè£…é¥°ç±»ï¼Œç”¨æ¥åŒ…è£…åŸæœ‰çš„ç±»ï¼Œå¹¶åœ¨ä¿æŒç±»æ–¹æ³•ç­¾åå®Œæ•´æ€§çš„å‰æä¸‹ï¼Œæä¾›äº†é¢å¤–çš„åŠŸèƒ½ â‘ ã€è¦ç‚¹ï¼š ä¸æ”¹å˜åŸç±»æ–‡ä»¶ ä¸ä½¿ç”¨ç»§æ‰¿ åŠ¨æ€æ‰©å±•","text":"1ã€ä»‹ç»è£…é¥°å™¨æ¨¡å¼ï¼ˆDecorator Patternï¼‰å…è®¸å‘ä¸€ä¸ªç°æœ‰çš„å¯¹è±¡æ·»åŠ æ–°çš„åŠŸèƒ½ï¼ŒåŒæ—¶åˆä¸æ”¹å˜å…¶ç»“æ„ã€‚è¿™ç§ç±»å‹çš„è®¾è®¡æ¨¡å¼å±äºç»“æ„å‹æ¨¡å¼ï¼Œå®ƒæ˜¯ä½œä¸ºç°æœ‰çš„ç±»çš„ä¸€ä¸ªåŒ…è£…ã€‚ è¿™ç§æ¨¡å¼åˆ›å»ºäº†ä¸€ä¸ªè£…é¥°ç±»ï¼Œç”¨æ¥åŒ…è£…åŸæœ‰çš„ç±»ï¼Œå¹¶åœ¨ä¿æŒç±»æ–¹æ³•ç­¾åå®Œæ•´æ€§çš„å‰æä¸‹ï¼Œæä¾›äº†é¢å¤–çš„åŠŸèƒ½ â‘ ã€è¦ç‚¹ï¼š ä¸æ”¹å˜åŸç±»æ–‡ä»¶ ä¸ä½¿ç”¨ç»§æ‰¿ åŠ¨æ€æ‰©å±• â‘¡ã€ä½¿ç”¨åœºæ™¯ï¼š æ‰©å±•ä¸€ä¸ªç±»çš„åŠŸèƒ½ åŠ¨æ€å¢åŠ åŠŸèƒ½ï¼ŒåŠ¨æ€æ’¤é”€ åœ¨ä¸æƒ³å¢åŠ å¾ˆå¤šå­ç±»çš„æƒ…å†µä¸‹æ‰©å±•ç±»ã€‚ â‘¢ã€ä¼˜ç‚¹ï¼š è£…é¥°ç±»å’Œè¢«è£…é¥°ç±»å¯ä»¥ç‹¬ç«‹å‘å±•ï¼Œä¸ä¼šç›¸äº’è€¦åˆï¼Œè£…é¥°æ¨¡å¼æ˜¯ç»§æ‰¿çš„ä¸€ä¸ªæ›¿ä»£æ¨¡å¼ï¼Œè£…é¥°æ¨¡å¼å¯ä»¥åŠ¨æ€æ‰©å±•ä¸€ä¸ªå®ç°ç±»çš„åŠŸèƒ½ã€‚ 2ã€ç±»å›¾ï¼ˆç»å…¸ï¼‰ åœ¨è£…é¥°æ¨¡å¼ä¸­çš„è§’è‰²æœ‰ï¼š æŠ½è±¡æ„ä»¶(Component)è§’è‰²ï¼šç»™å‡ºä¸€ä¸ªæŠ½è±¡æ¥å£ï¼Œä»¥è§„èŒƒå‡†å¤‡æ¥æ”¶é™„åŠ è´£ä»»çš„å¯¹è±¡ å…·ä½“æ„ä»¶(ConcreteComponent)è§’è‰²ï¼šå®šä¹‰ä¸€ä¸ªå°†è¦æ¥æ”¶é™„åŠ è´£ä»»çš„ç±» è£…é¥°(Decorator)è§’è‰²ï¼šæŒæœ‰ä¸€ä¸ªæ„ä»¶(Component)å¯¹è±¡çš„å®ä¾‹ï¼Œå¹¶å®šä¹‰ä¸€ä¸ªä¸æŠ½è±¡æ„ä»¶æ¥å£ä¸€è‡´çš„æ¥å£ å…·ä½“è£…é¥°(ConcreteDecorator)è§’è‰²ï¼šè´Ÿè´£ç»™æ„ä»¶å¯¹è±¡â€œè´´ä¸Šâ€é™„åŠ çš„è´£ä»»ã€‚ ç±»å›¾çš„ç»“æ„å¯ä»¥å˜åŒ–çš„åœ°æ–¹ï¼š Componentæ¥å£å¯ä»¥æ˜¯æ¥å£ä¹Ÿå¯ä»¥æ˜¯æŠ½è±¡ç±»ï¼Œç”šè‡³æ˜¯ä¸€ä¸ªæ™®é€šçš„çˆ¶ç±»ï¼ˆè¿™ä¸ªå¼ºçƒˆä¸æ¨èï¼Œæ™®é€šçš„ç±»ä½œä¸ºç»§æ‰¿ä½“ç³»çš„è¶…çº§çˆ¶ç±»ä¸æ˜“äºç»´æŠ¤ï¼‰ è£…é¥°å™¨çš„æŠ½è±¡çˆ¶ç±»Decoratorå¹¶ä¸æ˜¯å¿…é¡»çš„ã€‚ 3ã€ä»£ç ç¤ºä¾‹æŠ½è±¡æ„ä»¶è§’è‰² 12345public interface Component &#123; void operation();&#125; å…·ä½“çš„æ¥å£å®ç°ç±»ï¼Œä¹Ÿå°±æ˜¯ä¿—ç§°çš„åŸå§‹å¯¹è±¡ï¼Œæˆ–è€…è¯´å¾…è£…é¥°å¯¹è±¡ 12345678public class ConcreteComponent implements Component &#123; @Override public void operation() &#123; //TODO ç›¸å…³çš„ä¸šåŠ¡ä»£ç  &#125;&#125; æŠ½è±¡è£…é¥°å™¨çˆ¶ç±»ï¼Œå®ƒä¸»è¦æ˜¯ä¸ºè£…é¥°å™¨å®šä¹‰äº†æˆ‘ä»¬éœ€è¦è£…é¥°çš„ç›®æ ‡æ˜¯ä»€ä¹ˆï¼Œå¹¶å¯¹Componentè¿›è¡Œäº†åŸºç¡€çš„è£…é¥° 12345678910111213public class Decorator implements Component &#123; private Component component; public Decorator(Component component) &#123; this.component = component; &#125; @Override public void operation() &#123; component.operation(); &#125;&#125; å…·ä½“è£…é¥°è§’è‰² 12345678910111213public class ConcreteDecoratorA extends Decorator &#123; public ConcreteDecoratorA(Component component) &#123; super(component); &#125; @Override public void operation() &#123; super.operation(); // TODO ç›¸å…³çš„ä¿®é¥°ä¸šåŠ¡ä»£ç  A &#125;&#125; 12345678910111213public class ConcreteDecoratorB extends Decorator &#123; public ConcreteDecoratorA(Component component) &#123; super(component); &#125; @Override public void operation() &#123; super.operation(); // TODO ç›¸å…³çš„ä¿®é¥°ä¸šåŠ¡ä»£ç  B &#125;&#125; æµ‹è¯•ç±» 1234567891011121314151617181920public class TestDecoratorPattern &#123; public static void main(String[] args) &#123; //åŸæ¥çš„å¯¹è±¡ Component component = new ConcreteComponent(); //è£…é¥°æˆA Decorator concreteDecoratorA = new ConcreteDecoratorA(component); //è£…é¥°æˆAä»¥åå†è£…é¥°æˆB Decorator concreteDecoratorB = new ConcreteDecoratorB(concreteDecoratorA); concreteDecoratorB.operation(); //ç®€å†™æ–¹å¼ Decorator decorator = new ConcreteDecoratorA(new ConcreteDecoratorB(component)); decorator.operation(); &#125;&#125; 4ã€è£…é¥°æ¨¡å¼çš„ç®€åŒ–ç±»å›¾å¦‚æœåªæœ‰ä¸€ä¸ªConcreteComponentç±»ï¼Œé‚£ä¹ˆå¯ä»¥è€ƒè™‘å»æ‰æŠ½è±¡çš„Componentç±»ï¼ˆæ¥å£ï¼‰ï¼ŒæŠŠDecoratorä½œä¸ºä¸€ä¸ªConcreteComponentå­ç±»ã€‚å¦‚ä¸‹å›¾æ‰€ç¤º: å¦‚æœåªæœ‰ä¸€ä¸ªConcreteDecoratorç±»ï¼Œé‚£ä¹ˆå°±æ²¡æœ‰å¿…è¦å»ºç«‹ä¸€ä¸ªå•ç‹¬çš„Decoratorç±»ï¼Œè€Œå¯ä»¥æŠŠDecoratorå’ŒConcreteDecoratorçš„è´£ä»»åˆå¹¶æˆä¸€ä¸ªç±»ã€‚ç”šè‡³åœ¨åªæœ‰ä¸¤ä¸ªConcreteDecoratorç±»çš„æƒ…å†µä¸‹ï¼Œéƒ½å¯ä»¥è¿™æ ·åšã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š","categories":[{"name":"Java","slug":"Java","permalink":"http://www.gulj.cn/categories/Java/"}],"tags":[{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"http://www.gulj.cn/tags/è®¾è®¡æ¨¡å¼/"}]},{"title":"Javaè®¾è®¡æ¨¡å¼â€”ç­–ç•¥æ¨¡å¼","slug":"Javaè®¾è®¡æ¨¡å¼-ç­–ç•¥æ¨¡å¼","date":"2017-09-26T05:45:07.000Z","updated":"2019-02-14T07:07:12.861Z","comments":true,"path":"2017/09/26/Javaè®¾è®¡æ¨¡å¼-ç­–ç•¥æ¨¡å¼/","link":"","permalink":"http://www.gulj.cn/2017/09/26/Javaè®¾è®¡æ¨¡å¼-ç­–ç•¥æ¨¡å¼/","excerpt":"1ã€ä»‹ç» ç­–ç•¥æ¨¡å¼å±äºå¯¹è±¡çš„è¡Œä¸ºæ¨¡å¼ã€‚å…¶ç”¨æ„æ˜¯é’ˆå¯¹ä¸€ç»„ç®—æ³•ï¼Œå°†æ¯ä¸€ä¸ªç®—æ³•å°è£…åˆ°å…·æœ‰å…±åŒæ¥å£çš„ç‹¬ç«‹çš„ç±»ä¸­ï¼Œä»è€Œä½¿å¾—å®ƒä»¬å¯ä»¥ç›¸äº’æ›¿æ¢ã€‚ç­–ç•¥æ¨¡å¼ä½¿å¾—ç®—æ³•å¯ä»¥åœ¨ä¸å½±å“åˆ°å®¢æˆ·ç«¯çš„æƒ…å†µä¸‹å‘ç”Ÿå˜åŒ–ã€‚ 2ã€ ç±»å›¾","text":"1ã€ä»‹ç» ç­–ç•¥æ¨¡å¼å±äºå¯¹è±¡çš„è¡Œä¸ºæ¨¡å¼ã€‚å…¶ç”¨æ„æ˜¯é’ˆå¯¹ä¸€ç»„ç®—æ³•ï¼Œå°†æ¯ä¸€ä¸ªç®—æ³•å°è£…åˆ°å…·æœ‰å…±åŒæ¥å£çš„ç‹¬ç«‹çš„ç±»ä¸­ï¼Œä»è€Œä½¿å¾—å®ƒä»¬å¯ä»¥ç›¸äº’æ›¿æ¢ã€‚ç­–ç•¥æ¨¡å¼ä½¿å¾—ç®—æ³•å¯ä»¥åœ¨ä¸å½±å“åˆ°å®¢æˆ·ç«¯çš„æƒ…å†µä¸‹å‘ç”Ÿå˜åŒ–ã€‚ 2ã€ ç±»å›¾ 3ã€è§’è‰²åˆ’åˆ†â— ç¯å¢ƒ(Context)è§’è‰²ï¼šæŒæœ‰ä¸€ä¸ªStrategyçš„å¼•ç”¨ã€‚ â— æŠ½è±¡ç­–ç•¥(Strategy)è§’è‰²ï¼šè¿™æ˜¯ä¸€ä¸ªæŠ½è±¡è§’è‰²ï¼Œé€šå¸¸ç”±ä¸€ä¸ªæ¥å£æˆ–æŠ½è±¡ç±»å®ç°ã€‚æ­¤è§’è‰²ç»™å‡ºæ‰€æœ‰çš„å…·ä½“ç­–ç•¥ç±»æ‰€éœ€çš„æ¥å£ã€‚ â— å…·ä½“ç­–ç•¥(ConcreteStrategy)è§’è‰²ï¼šåŒ…è£…äº†ç›¸å…³çš„ç®—æ³•æˆ–è¡Œä¸ºã€‚ 4ã€ä»£ç ç¤ºä¾‹æŠ½è±¡ç­–ç•¥ç±» Strategy.java 123456789public interface Strategy &#123; /** * ç­–ç•¥æ–¹æ³• * * @param os */ void strategy(String os);&#125; å…·ä½“ç­–ç•¥ç±»(å®ç°ç­–ç•¥æ¥å£ï¼Œæä¾›å…·ä½“ç®—æ³•) ConcreteStrategyA.java 123456789101112131415public class ConcreteStrategyA implements Strategy &#123; /** * ç­–ç•¥æ–¹æ³•å®ç° A * * @param os */ @Override public void strategy(String os) &#123; // å…·ä½“çš„ä¸šåŠ¡æ–¹æ³• &#125;&#125; ConcreteStrategyB.java 1234567891011121314public class ConcreteStrategyB implements Strategy &#123; /** * ç­–ç•¥æ–¹æ³•å®ç° B * * @param os */ @Override public void strategy(String os) &#123; // å…·ä½“çš„ä¸šåŠ¡æ–¹æ³• &#125;&#125; Context.java æŒæœ‰å…·ä½“ç­–ç•¥ç±»çš„å®ä¾‹ï¼Œè´Ÿè´£è°ƒç”¨å…·ä½“ç®—æ³• 123456789101112131415161718public class Context &#123; // ç­–ç•¥çš„å¼•ç”¨ private Strategy strategy; public Context(Strategy strategy) &#123; this.strategy = strategy; &#125; /** * ç­–ç•¥æ–¹æ³• */ public void action(String os) &#123; strategy.strategy(os); &#125;&#125; æµ‹è¯•ç±» 123456789101112public class TestStrategyPattern &#123; public static void main(String[] args) &#123; Context context = new Context(new ConcreteStrategyA()); context.action(\"A\"); context = new Context(new ConcreteStrategyB()); context.action(\"B\"); &#125;&#125; 5ã€ç­–ç•¥æ¨¡å¼ä¼˜ç¼ºç‚¹â‘ ã€ ä¼˜ç‚¹ ç®—æ³•å¯ä»¥è‡ªç”±åˆ‡æ¢ é¿å…ä½¿ç”¨å¤šé‡æ¡ä»¶åˆ¤æ–­ æ‰©å±•æ€§è‰¯å¥½ â‘¡ã€ç¼ºç‚¹ å®¢æˆ·ç«¯å¿…é¡»çŸ¥é“æ‰€æœ‰çš„ç­–ç•¥ç±»ï¼Œå¹¶è‡ªè¡Œå†³å®šä½¿ç”¨å“ªä¸€ä¸ªç­–ç•¥ç±»","categories":[{"name":"Java","slug":"Java","permalink":"http://www.gulj.cn/categories/Java/"}],"tags":[{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"http://www.gulj.cn/tags/è®¾è®¡æ¨¡å¼/"}]},{"title":"Javaè®¾è®¡æ¨¡å¼â€”ä»£ç†æ¨¡å¼","slug":"Javaè®¾è®¡æ¨¡å¼â€”ä»£ç†æ¨¡å¼","date":"2017-09-20T07:54:23.000Z","updated":"2019-02-14T07:07:12.862Z","comments":true,"path":"2017/09/20/Javaè®¾è®¡æ¨¡å¼â€”ä»£ç†æ¨¡å¼/","link":"","permalink":"http://www.gulj.cn/2017/09/20/Javaè®¾è®¡æ¨¡å¼â€”ä»£ç†æ¨¡å¼/","excerpt":"ä¸ºä»€ä¹ˆä½¿ç”¨ä»£ç†æˆ‘ä»¬åœ¨å†™ä¸€ä¸ªåŠŸèƒ½å‡½æ•°æ—¶ï¼Œç»å¸¸éœ€è¦åœ¨å…¶ä¸­å†™å…¥ä¸åŠŸèƒ½ä¸æ˜¯ç›´æ¥ç›¸å…³ä½†å¾ˆæœ‰å¿…è¦çš„ä»£ ç ï¼Œå¦‚æ—¥å¿—è®°å½•ï¼Œä¿¡æ¯å‘é€ï¼Œå®‰å…¨å’Œäº‹åŠ¡æ”¯æŒç­‰ï¼Œè¿™äº›æèŠ‚æ€§ä»£ç è™½ç„¶æ˜¯å¿…è¦çš„ï¼Œä½†å®ƒä¼šå¸¦æ¥ä»¥ä¸‹éº»çƒ¦ï¼š æèŠ‚æ€§ä»£ç æ¸¸ç¦»åœ¨åŠŸèƒ½æ€§ä»£ç ä¹‹å¤–ï¼Œå®ƒä¸æ˜¯å‡½æ•°çš„ç›®çš„ï¼Œè¿™æ˜¯å¯¹OOæ˜¯ä¸€ç§ç ´å æèŠ‚æ€§ä»£ç ä¼šé€ æˆåŠŸèƒ½æ€§ä»£ç å¯¹å…¶å®ƒç±»çš„ä¾èµ–ï¼ŒåŠ æ·±ç±»ä¹‹é—´çš„è€¦åˆï¼Œå¯é‡ç”¨æ€§é™ä½ ä»æ³•ç†ä¸Šè¯´ï¼ŒæèŠ‚æ€§ä»£ç åº”è¯¥ç›‘è§†ç€åŠŸèƒ½æ€§ä»£ç ï¼Œç„¶åé‡‡å–è¡ŒåŠ¨ï¼Œè€Œä¸æ˜¯åŠŸèƒ½æ€§ä»£ç é€šçŸ¥æèŠ‚æ€§ä»£ç é‡‡å–è¡ŒåŠ¨ï¼Œè¿™å¥½æ¯”åŸæ¸¸è¯—äººåº”è¯¥æ˜¯ä¸»åŠ¨è®°å½•éª‘å£«çš„åŠŸç»©è€Œä¸æ˜¯éª‘å£«ä¸»åŠ¨è¦æ±‚è¯—äººè®°å½•è‡ªå·±çš„åŠŸç»©","text":"ä¸ºä»€ä¹ˆä½¿ç”¨ä»£ç†æˆ‘ä»¬åœ¨å†™ä¸€ä¸ªåŠŸèƒ½å‡½æ•°æ—¶ï¼Œç»å¸¸éœ€è¦åœ¨å…¶ä¸­å†™å…¥ä¸åŠŸèƒ½ä¸æ˜¯ç›´æ¥ç›¸å…³ä½†å¾ˆæœ‰å¿…è¦çš„ä»£ ç ï¼Œå¦‚æ—¥å¿—è®°å½•ï¼Œä¿¡æ¯å‘é€ï¼Œå®‰å…¨å’Œäº‹åŠ¡æ”¯æŒç­‰ï¼Œè¿™äº›æèŠ‚æ€§ä»£ç è™½ç„¶æ˜¯å¿…è¦çš„ï¼Œä½†å®ƒä¼šå¸¦æ¥ä»¥ä¸‹éº»çƒ¦ï¼š æèŠ‚æ€§ä»£ç æ¸¸ç¦»åœ¨åŠŸèƒ½æ€§ä»£ç ä¹‹å¤–ï¼Œå®ƒä¸æ˜¯å‡½æ•°çš„ç›®çš„ï¼Œè¿™æ˜¯å¯¹OOæ˜¯ä¸€ç§ç ´å æèŠ‚æ€§ä»£ç ä¼šé€ æˆåŠŸèƒ½æ€§ä»£ç å¯¹å…¶å®ƒç±»çš„ä¾èµ–ï¼ŒåŠ æ·±ç±»ä¹‹é—´çš„è€¦åˆï¼Œå¯é‡ç”¨æ€§é™ä½ ä»æ³•ç†ä¸Šè¯´ï¼ŒæèŠ‚æ€§ä»£ç åº”è¯¥ç›‘è§†ç€åŠŸèƒ½æ€§ä»£ç ï¼Œç„¶åé‡‡å–è¡ŒåŠ¨ï¼Œè€Œä¸æ˜¯åŠŸèƒ½æ€§ä»£ç é€šçŸ¥æèŠ‚æ€§ä»£ç é‡‡å–è¡ŒåŠ¨ï¼Œè¿™å¥½æ¯”åŸæ¸¸è¯—äººåº”è¯¥æ˜¯ä¸»åŠ¨è®°å½•éª‘å£«çš„åŠŸç»©è€Œä¸æ˜¯éª‘å£«ä¸»åŠ¨è¦æ±‚è¯—äººè®°å½•è‡ªå·±çš„åŠŸç»© å®šä¹‰ä»£ç†(Proxy)æ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼,æä¾›äº†å¯¹ç›®æ ‡å¯¹è±¡å¦å¤–çš„è®¿é—®æ–¹å¼;å³é€šè¿‡ä»£ç†å¯¹è±¡è®¿é—®ç›®æ ‡å¯¹è±¡.è¿™æ ·åšçš„å¥½å¤„æ˜¯:å¯ä»¥åœ¨ç›®æ ‡å¯¹è±¡å®ç°çš„åŸºç¡€ä¸Š,å¢å¼ºé¢å¤–çš„åŠŸèƒ½æ“ä½œ,å³æ‰©å±•ç›®æ ‡å¯¹è±¡çš„åŠŸèƒ½. ä»£ç†æ¨¡å¼çš„å…³é”®ç‚¹æ˜¯:ä»£ç†å¯¹è±¡ä¸ç›®æ ‡å¯¹è±¡.ä»£ç†å¯¹è±¡æ˜¯å¯¹ç›®æ ‡å¯¹è±¡çš„æ‰©å±•,å¹¶ä¼šè°ƒç”¨ç›®æ ‡å¯¹è±¡ 1ã€é™æ€ä»£ç†é™æ€ä»£ç†åœ¨ä½¿ç”¨æ—¶,éœ€è¦å®šä¹‰æ¥å£æˆ–è€…çˆ¶ç±»,è¢«ä»£ç†å¯¹è±¡ä¸ä»£ç†å¯¹è±¡ä¸€èµ·å®ç°ç›¸åŒçš„æ¥å£æˆ–è€…æ˜¯ç»§æ‰¿ç›¸åŒçˆ¶ç±». ä¸‹é¢ä¸¾ä¸ªæ¡ˆä¾‹æ¥è§£é‡Š:æ¨¡æ‹Ÿä¿å­˜åŠ¨ä½œ,å®šä¹‰ä¸€ä¸ªä¿å­˜åŠ¨ä½œçš„æ¥å£:IUserDao.java,ç„¶åç›®æ ‡å¯¹è±¡å®ç°è¿™ä¸ªæ¥å£çš„æ–¹æ³•UserDao.java,æ­¤æ—¶å¦‚æœä½¿ç”¨é™æ€ä»£ç†æ–¹å¼,å°±éœ€è¦åœ¨ä»£ç†å¯¹è±¡(UserDaoProxy.java)ä¸­ä¹Ÿå®ç°IUserDaoæ¥å£.è°ƒç”¨çš„æ—¶å€™é€šè¿‡è°ƒç”¨ä»£ç†å¯¹è±¡çš„æ–¹æ³•æ¥è°ƒç”¨ç›®æ ‡å¯¹è±¡.éœ€è¦æ³¨æ„çš„æ˜¯,ä»£ç†å¯¹è±¡ä¸ç›®æ ‡å¯¹è±¡è¦å®ç°ç›¸åŒçš„æ¥å£,ç„¶åé€šè¿‡è°ƒç”¨ç›¸åŒçš„æ–¹æ³•æ¥è°ƒç”¨ç›®æ ‡å¯¹è±¡çš„æ–¹æ³• ä»£ç ç¤ºä¾‹ æ¥å£:IUserDao.java 123public interface IUserDao &#123; void save();&#125; ç›®æ ‡å¯¹è±¡ç±»:UserDao.java 12345public class UserDao implements IUserDao &#123; public void save() &#123; System.out.println(\"----å·²ç»ä¿å­˜æ•°æ®!----\"); &#125;&#125; ä»£ç†å¯¹è±¡:UserDaoProxy.java 12345678910111213public class UserDaoProxy implements IUserDao&#123; //æ¥æ”¶ä¿å­˜ç›®æ ‡å¯¹è±¡ private IUserDao target; public UserDaoProxy(IUserDao target)&#123; this.target=target; &#125; public void save() &#123; System.out.println(\"å¼€å§‹äº‹åŠ¡...\"); target.save();//æ‰§è¡Œç›®æ ‡å¯¹è±¡çš„æ–¹æ³• System.out.println(\"æäº¤äº‹åŠ¡...\"); &#125;&#125; æµ‹è¯•ç±»:App.java 1234567891011public class App &#123; public static void main(String[] args) &#123; //ç›®æ ‡å¯¹è±¡ UserDao target = new UserDao(); //ä»£ç†å¯¹è±¡,æŠŠç›®æ ‡å¯¹è±¡ä¼ ç»™ä»£ç†å¯¹è±¡,å»ºç«‹ä»£ç†å…³ç³» UserDaoProxy proxy = new UserDaoProxy(target); proxy.save();//æ‰§è¡Œçš„æ˜¯ä»£ç†çš„æ–¹æ³• &#125;&#125; é™æ€ä»£ç†æ€»ç»“ å¯ä»¥åšåˆ°åœ¨ä¸ä¿®æ”¹ç›®æ ‡å¯¹è±¡çš„åŠŸèƒ½å‰æä¸‹,å¯¹ç›®æ ‡åŠŸèƒ½æ‰©å±•. ç¼ºç‚¹: ä»£ç†ç±»å’Œå§”æ‰˜ç±»å®ç°ç›¸åŒçš„æ¥å£ï¼ŒåŒæ—¶è¦å®ç°ç›¸åŒçš„æ–¹æ³•ã€‚è¿™æ ·å°±å‡ºç°äº†å¤§é‡çš„ä»£ç é‡å¤ã€‚å¦‚æœæ¥å£å¢åŠ ä¸€ä¸ªæ–¹æ³•ï¼Œé™¤äº†æ‰€æœ‰å®ç°ç±»éœ€è¦å®ç°è¿™ä¸ªæ–¹æ³•å¤–ï¼Œæ‰€æœ‰ä»£ç†ç±»ä¹Ÿéœ€è¦å®ç°æ­¤æ–¹æ³•ã€‚å¢åŠ äº†ä»£ç ç»´æŠ¤çš„å¤æ‚åº¦ã€‚ 2ã€åŠ¨æ€ä»£ç†åŠ¨æ€ä»£ç†æœ‰ä»¥ä¸‹ç‰¹ç‚¹:â€‹ â‘ ã€ä»£ç†å¯¹è±¡,ä¸éœ€è¦å®ç°æ¥å£â€‹ â‘¡ã€ä»£ç†å¯¹è±¡çš„ç”Ÿæˆ,æ˜¯åˆ©ç”¨JDKçš„API,åŠ¨æ€çš„åœ¨å†…å­˜ä¸­æ„å»ºä»£ç†å¯¹è±¡(éœ€è¦æˆ‘ä»¬æŒ‡å®šåˆ›å»ºä»£ç†å¯¹è±¡/ç›®æ ‡å¯¹è±¡å®ç°çš„æ¥å£çš„ç±»å‹)â€‹ â‘¢ã€åŠ¨æ€ä»£ç†ä¹Ÿå«åš:JDKä»£ç†,æ¥å£ä»£ç† JDKä¸­ç”Ÿæˆä»£ç†å¯¹è±¡çš„APIï¼š ä»£ç†ç±»æ‰€åœ¨åŒ…:java.lang.reflect.Proxy JDKå®ç°ä»£ç†åªéœ€è¦ä½¿ç”¨newProxyInstanceæ–¹æ³•,ä½†æ˜¯è¯¥æ–¹æ³•éœ€è¦æ¥æ”¶ä¸‰ä¸ªå‚æ•°,å®Œæ•´çš„å†™æ³•æ˜¯: 1static Object newProxyInstance(ClassLoader loader, Class [] interfaces, InvocationHandler handler) æ³¨æ„è¯¥æ–¹æ³•æ˜¯åœ¨Proxyç±»ä¸­æ˜¯é™æ€æ–¹æ³•,ä¸”æ¥æ”¶çš„ä¸‰ä¸ªå‚æ•°ä¾æ¬¡ä¸º: ClassLoader loader:æŒ‡å®šå½“å‰ç›®æ ‡å¯¹è±¡ä½¿ç”¨ç±»åŠ è½½å™¨,ç”¨nullè¡¨ç¤ºé»˜è®¤ç±»åŠ è½½å™¨ Class [] interfaces:éœ€è¦å®ç°çš„æ¥å£æ•°ç»„ InvocationHandler handler:è°ƒç”¨å¤„ç†å™¨,æ‰§è¡Œç›®æ ‡å¯¹è±¡çš„æ–¹æ³•æ—¶,ä¼šè§¦å‘è°ƒç”¨å¤„ç†å™¨çš„æ–¹æ³•,ä»è€ŒæŠŠå½“å‰æ‰§è¡Œç›®æ ‡å¯¹è±¡çš„æ–¹æ³•ä½œä¸ºå‚æ•°ä¼ å…¥ ä»£ç ç¤ºä¾‹: æ¥å£ç±»IUserDao.javaä»¥åŠæ¥å£å®ç°ç±»UserDaoæ˜¯ä¸€æ ·çš„.åœ¨è¿™ä¸ªåŸºç¡€ä¸Š,å¢åŠ ä¸€ä¸ªä»£ç†å·¥å‚ç±»(ProxyFactory.java),å°†ä»£ç†ç±»å†™åœ¨è¿™ä¸ªåœ°æ–¹,ç„¶ååœ¨æµ‹è¯•ç±»ä¸­å…ˆå»ºç«‹ç›®æ ‡å¯¹è±¡å’Œä»£ç†å¯¹è±¡çš„è”ç³»,ç„¶åä½¿ç”¨ä»£ç†å¯¹è±¡ä¸­çš„åŒåæ–¹æ³• 1ï¼‰ã€JDKåŠ¨æ€ä»£ç† ä»£ç†å·¥å‚ç±»:ProxyFactory.java 1234567891011121314151617181920public class ProxyFactory &#123; //ç»´æŠ¤ç›®æ ‡å¯¹è±¡ private Object target; public ProxyFactory(Object target) &#123; this.target = target; &#125; //ç»™ç›®æ ‡å¯¹è±¡ç”Ÿæˆä»£ç†å¯¹è±¡ public Object getProxyInstance1() &#123; return Proxy.newProxyInstance(target.getClass().getClassLoader(), target.getClass().getInterfaces(), (Object proxy, Method method, Object[] args) -&gt; &#123; System.out.println(\"å¼€å§‹äº‹åŠ¡2\"); //æ‰§è¡Œç›®æ ‡å¯¹è±¡æ–¹æ³• Object returnValue = method.invoke(target, args); System.out.println(\"æäº¤äº‹åŠ¡2\"); return returnValue; &#125;); &#125; &#125; æµ‹è¯•ç±»:App.java 123456789101112131415161718/** * æµ‹è¯•ç±»*/public class App &#123;public static void main(String[] args) &#123; // ç›®æ ‡å¯¹è±¡ IUserDao target = new UserDao(); // ã€åŸå§‹çš„ç±»å‹ã€‘ System.out.println(target.getClass()); // ç»™ç›®æ ‡å¯¹è±¡ï¼Œåˆ›å»ºä»£ç†å¯¹è±¡ IUserDao proxy = (IUserDao) new ProxyFactory(target).getProxyInstance(); // com.sun.proxy.$Proxy0 å†…å­˜ä¸­åŠ¨æ€ç”Ÿæˆçš„ä»£ç†å¯¹è±¡ System.out.println(proxy.getClass()); // æ‰§è¡Œæ–¹æ³• ã€ä»£ç†å¯¹è±¡ã€‘ proxy.save(); &#125;&#125; JDKåŠ¨æ€ä»£ç†æ€»ç»“: ä»£ç†å¯¹è±¡ä¸éœ€è¦å®ç°æ¥å£,ä½†æ˜¯ç›®æ ‡å¯¹è±¡ä¸€å®šè¦å®ç°æ¥å£,å¦åˆ™ä¸èƒ½ç”¨åŠ¨æ€ä»£ç† Cglibä»£ç† ä¸Šé¢çš„é™æ€ä»£ç†å’ŒåŠ¨æ€ä»£ç†æ¨¡å¼éƒ½æ˜¯è¦æ±‚ç›®æ ‡å¯¹è±¡å®ç°ä¸€ä¸ªæ¥å£æˆ–è€…å¤šä¸ªæ¥å£,ä½†æ˜¯æœ‰æ—¶å€™ç›®æ ‡å¯¹è±¡åªæ˜¯ä¸€ä¸ªå•ç‹¬çš„å¯¹è±¡,å¹¶æ²¡æœ‰å®ç°ä»»ä½•çš„æ¥å£,è¿™ä¸ªæ—¶å€™å°±å¯ä»¥ä½¿ç”¨æ„å»ºç›®æ ‡å¯¹è±¡å­ç±»çš„æ–¹å¼å®ç°ä»£ç†,è¿™ç§æ–¹æ³•å°±å«åš:Cglibä»£ç† Cglibä»£ç†,ä¹Ÿå«ä½œå­ç±»ä»£ç†,å®ƒæ˜¯åœ¨å†…å­˜ä¸­æ„å»ºä¸€ä¸ªå­ç±»å¯¹è±¡ä»è€Œå®ç°å¯¹ç›®æ ‡å¯¹è±¡åŠŸèƒ½çš„æ‰©å±•. Cglibæ˜¯ä¸€ä¸ªå¼ºå¤§çš„é«˜æ€§èƒ½çš„ä»£ç ç”ŸæˆåŒ…,å®ƒå¯ä»¥åœ¨è¿è¡ŒæœŸæ‰©å±•javaç±»ä¸å®ç°javaæ¥å£.å®ƒå¹¿æ³›çš„è¢«è®¸å¤šAOPçš„æ¡†æ¶ä½¿ç”¨,ä¾‹å¦‚Spring AOPå’Œsynaop,ä¸ºä»–ä»¬æä¾›æ–¹æ³•çš„interception(æ‹¦æˆª) CglibåŒ…çš„åº•å±‚æ˜¯é€šè¿‡ä½¿ç”¨å­—èŠ‚ç å¤„ç†æ¡†æ¶ASMæ¥è½¬æ¢å­—èŠ‚ç å¹¶ç”Ÿæˆæ–°çš„å­ç±». ä»£ç†çš„ç±»ä¸èƒ½ä¸ºfinal,å¦åˆ™æŠ¥é”™ï¼›ç›®æ ‡å¯¹è±¡çš„æ–¹æ³•å¦‚æœä¸ºfinal/static,é‚£ä¹ˆå°±ä¸ä¼šè¢«æ‹¦æˆª,å³ä¸ä¼šæ‰§è¡Œç›®æ ‡å¯¹è±¡é¢å¤–çš„ä¸šåŠ¡æ–¹æ³• ä»£ç ç¤ºä¾‹:ç›®æ ‡å¯¹è±¡ç±»:UserDao.java 123456789/** * ç›®æ ‡å¯¹è±¡,æ²¡æœ‰å®ç°ä»»ä½•æ¥å£ */public class UserDao &#123; public void save() &#123; System.out.println(\"----å·²ç»ä¿å­˜æ•°æ®!----\"); &#125;&#125; Cglibä»£ç†å·¥å‚:ProxyFactory.java 123456789101112131415161718192021222324252627282930313233/** * Cglibå­ç±»ä»£ç†å·¥å‚ * å¯¹UserDaoåœ¨å†…å­˜ä¸­åŠ¨æ€æ„å»ºä¸€ä¸ªå­ç±»å¯¹è±¡*/public class ProxyFactory implements MethodInterceptor&#123; //ç»´æŠ¤ç›®æ ‡å¯¹è±¡ private Object target; public ProxyFactory(Object target) &#123; this.target = target; &#125; //ç»™ç›®æ ‡å¯¹è±¡åˆ›å»ºä¸€ä¸ªä»£ç†å¯¹è±¡ public Object getProxyInstance()&#123; //1.å·¥å…·ç±» Enhancer en = new Enhancer(); //2.è®¾ç½®çˆ¶ç±» en.setSuperclass(target.getClass()); //3.è®¾ç½®å›è°ƒå‡½æ•° en.setCallback(this); //4.åˆ›å»ºå­ç±»(ä»£ç†å¯¹è±¡) return en.create(); &#125; @Override public Object intercept(Object obj, Method method, Object[] args, MethodProxy proxy) throws Throwable &#123; System.out.println(\"å¼€å§‹äº‹åŠ¡...\"); //æ‰§è¡Œç›®æ ‡å¯¹è±¡çš„æ–¹æ³• Object returnValue = method.invoke(target, args); System.out.println(\"æäº¤äº‹åŠ¡...\"); return returnValue; &#125;&#125; æµ‹è¯•ç±»: 12345678910111213141516/** * æµ‹è¯•ç±» */public class App &#123; @Test public void test()&#123; //ç›®æ ‡å¯¹è±¡ UserDao target = new UserDao(); //ä»£ç†å¯¹è±¡ UserDao proxy = (UserDao)new ProxyFactory(target).getProxyInstance(); //æ‰§è¡Œä»£ç†å¯¹è±¡çš„æ–¹æ³• proxy.save(); &#125;&#125; åœ¨Springçš„AOPç¼–ç¨‹ä¸­:å¦‚æœåŠ å…¥å®¹å™¨çš„ç›®æ ‡å¯¹è±¡æœ‰å®ç°æ¥å£,ç”¨JDKä»£ç†å¦‚æœç›®æ ‡å¯¹è±¡æ²¡æœ‰å®ç°æ¥å£,ç”¨Cglibä»£ç†","categories":[{"name":"Java","slug":"Java","permalink":"http://www.gulj.cn/categories/Java/"}],"tags":[{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"http://www.gulj.cn/tags/è®¾è®¡æ¨¡å¼/"}]},{"title":"Javaè®¾è®¡æ¨¡å¼â€”æ¨¡æ¿æ–¹æ³•æ¨¡å¼","slug":"JAVAè®¾è®¡æ¨¡å¼â€”æ¨¡æ¿æ–¹æ³•æ¨¡å¼","date":"2017-09-19T05:27:12.000Z","updated":"2019-02-14T07:07:12.860Z","comments":true,"path":"2017/09/19/JAVAè®¾è®¡æ¨¡å¼â€”æ¨¡æ¿æ–¹æ³•æ¨¡å¼/","link":"","permalink":"http://www.gulj.cn/2017/09/19/JAVAè®¾è®¡æ¨¡å¼â€”æ¨¡æ¿æ–¹æ³•æ¨¡å¼/","excerpt":"1ã€ä»‹ç»æ¨¡æ¿æ–¹æ³•æ¨¡å¼æ˜¯ç±»çš„è¡Œä¸ºæ¨¡å¼ã€‚å‡†å¤‡ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œå°†éƒ¨åˆ†é€»è¾‘ä»¥å…·ä½“æ–¹æ³•ä»¥åŠå…·ä½“æ„é€ å‡½æ•°çš„å½¢å¼å®ç°ï¼Œç„¶åå£°æ˜ä¸€äº›æŠ½è±¡æ–¹æ³•æ¥è¿«ä½¿å­ç±»å®ç°å‰©ä½™çš„é€»è¾‘ã€‚ä¸åŒçš„å­ç±»å¯ä»¥ä»¥ä¸åŒçš„æ–¹å¼å®ç°è¿™äº›æŠ½è±¡æ–¹æ³•ï¼Œä»è€Œå¯¹å‰©ä½™çš„é€»è¾‘æœ‰ä¸åŒçš„å®ç°ã€‚","text":"1ã€ä»‹ç»æ¨¡æ¿æ–¹æ³•æ¨¡å¼æ˜¯ç±»çš„è¡Œä¸ºæ¨¡å¼ã€‚å‡†å¤‡ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œå°†éƒ¨åˆ†é€»è¾‘ä»¥å…·ä½“æ–¹æ³•ä»¥åŠå…·ä½“æ„é€ å‡½æ•°çš„å½¢å¼å®ç°ï¼Œç„¶åå£°æ˜ä¸€äº›æŠ½è±¡æ–¹æ³•æ¥è¿«ä½¿å­ç±»å®ç°å‰©ä½™çš„é€»è¾‘ã€‚ä¸åŒçš„å­ç±»å¯ä»¥ä»¥ä¸åŒçš„æ–¹å¼å®ç°è¿™äº›æŠ½è±¡æ–¹æ³•ï¼Œä»è€Œå¯¹å‰©ä½™çš„é€»è¾‘æœ‰ä¸åŒçš„å®ç°ã€‚ 2ã€ç»“æ„â‘ ã€æ¨¡æ¿æ–¹æ³•æ¨¡å¼ç»“æ„å¯ä»¥åˆ†ä¸ºä¸¤ä¸ªè§’è‰²ï¼š&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;æŠ½è±¡æ¨¡æ¿(Abstract Template)è§’è‰²&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;å…·ä½“æ¨¡æ¿(Concrete Template)è§’è‰²â‘¡ã€æ¨¡æ¿æ–¹æ³•æ¨¡å¼çš„é™æ€ç»“æ„å›¾å¦‚ä¸‹æ‰€ç¤ºï¼š è¿™é‡Œæ¶‰åŠåˆ°ä¸¤ä¸ªè§’è‰²ï¼šæŠ½è±¡æ¨¡æ¿(Abstract Template)è§’è‰²èŒè´£ï¼š å®šä¹‰äº†ä¸€ä¸ªæˆ–å¤šä¸ªæŠ½è±¡æ“ä½œï¼Œä»¥ä¾¿è®©å­ç±»å®ç°ã€‚è¿™äº›æŠ½è±¡æ“ä½œå«åšåŸºæœ¬æ“ä½œï¼Œå®ƒä»¬æ˜¯ä¸€ä¸ªé¡¶çº§é€»è¾‘çš„ç»„æˆæ­¥éª¤ã€‚ å®šä¹‰å¹¶å®ç°äº†ä¸€ä¸ªæ¨¡æ¿æ–¹æ³•ã€‚è¿™ä¸ªæ¨¡æ¿æ–¹æ³•ä¸€èˆ¬æ˜¯ä¸€ä¸ªå…·ä½“æ–¹æ³•ï¼Œå®ƒç»™å‡ºäº†ä¸€ä¸ªé¡¶çº§é€»è¾‘çš„éª¨æ¶ï¼Œè€Œé€»è¾‘çš„ç»„æˆæ­¥éª¤åœ¨ç›¸åº”çš„æŠ½è±¡æ“ä½œä¸­ï¼Œæ¨è¿Ÿåˆ°å­ç±»å®ç°ã€‚é¡¶çº§é€»è¾‘ä¹Ÿæœ‰å¯èƒ½è°ƒç”¨ä¸€äº›å…·ä½“æ–¹æ³•ã€‚ å…·ä½“æ¨¡æ¿(Concrete Template)è§’è‰²èŒè´£ï¼š å®ç°çˆ¶ç±»æ‰€å®šä¹‰çš„ä¸€ä¸ªæˆ–å¤šä¸ªæŠ½è±¡æ–¹æ³•ï¼Œå®ƒä»¬æ˜¯ä¸€ä¸ªé¡¶çº§é€»è¾‘çš„ç»„æˆæ­¥éª¤ã€‚ æ¯ä¸€ä¸ªæŠ½è±¡æ¨¡æ¿è§’è‰²éƒ½å¯ä»¥æœ‰ä»»æ„å¤šä¸ªå…·ä½“æ¨¡æ¿è§’è‰²ä¸ä¹‹å¯¹åº”ï¼Œè€Œæ¯ä¸€ä¸ªå…·ä½“æ¨¡æ¿è§’è‰²éƒ½å¯ä»¥ç»™å‡ºè¿™äº›æŠ½è±¡æ–¹æ³•ï¼ˆä¹Ÿå°±æ˜¯é¡¶çº§é€»è¾‘çš„ç»„æˆæ­¥éª¤ï¼‰çš„ä¸åŒå®ç°ï¼Œä»è€Œä½¿å¾—é¡¶çº§é€»è¾‘çš„å®ç°å„ä¸ç›¸åŒã€‚ 3ã€ä»£ç ç¤ºä¾‹æŠ½è±¡æ¨¡æ¿è§’è‰²ç±» 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374/** * æŠ½è±¡æ¨¡æ¿ç±» * * @author gulj * @create 2017-09-08 ä¸‹åˆ2:48 **/public abstract class AbstractTemplate &#123; /** * æ¨¡æ¿æ–¹æ³•ï¼ˆå®šä¹‰æ¨¡æ¿çš„ç®—æ³•ï¼Œæ•´ä½“éª¨æ¶ï¼Œä¸šåŠ¡æ–¹æ³•ç”±å…·ä½“å­ç±»å®ç°ï¼‰ * * @param params * @return */ public final String templateMethod(String params) &#123;//æ ¸å¿ƒçš„æ¨¡æ¿æ–¹æ³•ï¼Œä¸å…è®¸å­ç±»è¦†ç›– long startTime = System.currentTimeMillis();//æ¨¡æ¿æ–¹æ³•ï¼Œç»Ÿä¸€çš„æ¨¡æ¿ /** * å…·ä½“çš„ä¸šåŠ¡æ–¹æ³•ï¼Œå¯ä»¥æœ‰ä»¥ä¸‹ä¸‰ç§æ–¹å¼ */ System.out.println(\"---------------------------\"); // â‘ ã€éœ€è¦æ‰€æœ‰å­ç±»å®ç°å„è‡ªçš„ä¸šåŠ¡é€»è¾‘ String result = abstractMethod(params); // â‘¡ã€æœ¬ç±»å·²ç»å®ç°çš„æ–¹æ³• concreteMethod(); // â‘¢ã€éœ€è¦çš„å­ç±»å¯ä»¥é‡å†™ hookMethod(); System.out.println(\"---------------------------\"); long endTime = System.currentTimeMillis();//æ¨¡æ¿æ–¹æ³•ï¼Œç»Ÿä¸€çš„æ¨¡æ¿ System.out.println(\"è€—æ—¶æ—¶é—´ï¼š\" + (endTime - startTime)); return result; &#125; /** * æŠ½è±¡æ–¹æ³•ï¼Œä¾›å­ç±»å…·ä½“å®ç°ï¼Œå®šä¹‰ä¸ºprotectedï¼Œå¯ä»¥åªä¿è¯å­ç±»æ¥å®ç°ï¼Œå¤–ç•Œä¸å…è®¸è°ƒç”¨ * * @param params * @return */ protected abstract String abstractMethod(String... params); /** * åŸºæœ¬æ–¹æ³•ï¼ˆå·²ç»å®ç°ï¼‰ */ private final String concreteMethod() &#123; System.out.println(\"concreteMethod : æ¨¡æ¿ç±»å®ç°å·²ç»å®ç°çš„æ”¾æ–¹æ³•\"); return null; &#125; /** * åŸºæœ¬æ–¹æ³•(ç©ºæ–¹æ³•) */ protected void hookMethod() &#123; /** * æˆ‘ä»¬å¯ä»¥å®šä¹‰ä¸€ä¸ªç©ºæ–¹æ³•ï¼Œè¿™æ ·å¯ä»¥ä¿è¯ä¸æ˜¯æ‰€æœ‰å­ç±»éƒ½éœ€è¦é‡å†™è¯¥æ–¹æ³• */ System.out.println(\"hookMethod : æ¨¡æ¿ç±»çš„ç©ºæ–¹æ³•ï¼Œå¯ä¾›æŸäº›å­ç±»è¿›è¡Œé‡å†™\"); &#125;&#125; å…·ä½“æ¨¡æ¿è§’è‰²ç±» 123456789101112131415161718192021/** * å…·ä½“æ¨¡æ¿è§’è‰²ç±» * * @author gulj * @create 2017-09-08 ä¸‹åˆ3:25 **/public class ConcreteTemplate extends AbstractTemplate &#123; /** * é‡å†™çˆ¶ç±»çš„æŠ½è±¡æ–¹æ³• * * @param params * @return */ @Override protected String abstractMethod(String... params) &#123; System.out.println(\"abstractMethod : å­ç±»å®ç°æ¨¡æ¿ç±»ä¸­çš„æŠ½è±¡æ–¹æ³•\"); return null; &#125;&#125; æµ‹è¯•ä»£ç  12345678910111213141516171819202122232425262728/** * @author gulj * @create 2017-09-08 ä¸‹åˆ3:29 **/public class TestTemplateDesignMain &#123; public static void main(String[] args) &#123; //å­ç±»å®ä¾‹ ConcreteTemplate concreteTemplate = new ConcreteTemplate(); //è°ƒç”¨å¼—çˆ¶ç±»çš„æ¨¡æ¿æ–¹æ³• concreteTemplate.templateMethod(\"\"); /** * æµ‹è¯•ç»“æœ * --------------------------- abstractMethod : å­ç±»å®ç°æ¨¡æ¿ç±»ä¸­çš„æŠ½è±¡æ–¹æ³• concreteMethod : æ¨¡æ¿ç±»å®ç°å·²ç»å®ç°çš„æ”¾æ–¹æ³• hookMethod : æ¨¡æ¿ç±»çš„ç©ºæ–¹æ³•ï¼Œå¯ä¾›æŸäº›å­ç±»è¿›è¡Œé‡å†™ --------------------------- è€—æ—¶æ—¶é—´ï¼š1 */ &#125;&#125; 4ã€è¯´æ˜æ¨¡æ¿æ–¹æ³•ä¸­çš„æ–¹æ³•å¯ä»¥åˆ†ä¸ºä¸¤å¤§ç±»ï¼šæ¨¡æ¿æ–¹æ³•å’ŒåŸºæœ¬æ–¹æ³•ã€‚ â‘ ã€æ¨¡æ¿æ–¹æ³• ä¸€ä¸ªæ¨¡æ¿æ–¹æ³•æ˜¯å®šä¹‰åœ¨æŠ½è±¡ç±»ä¸­çš„ï¼ŒæŠŠåŸºæœ¬æ“ä½œæ–¹æ³•ç»„åˆåœ¨ä¸€èµ·å½¢æˆä¸€ä¸ªæ€»ç®—æ³•æˆ–ä¸€ä¸ªæ€»è¡Œä¸ºçš„æ–¹æ³•ã€‚ ä¸€ä¸ªæŠ½è±¡ç±»å¯ä»¥æœ‰ä»»æ„å¤šä¸ªæ¨¡æ¿æ–¹æ³•ï¼Œè€Œä¸é™äºä¸€ä¸ªã€‚æ¯ä¸€ä¸ªæ¨¡æ¿æ–¹æ³•éƒ½å¯ä»¥è°ƒç”¨ä»»æ„å¤šä¸ªå…·ä½“æ–¹æ³•ã€‚ â‘¡ã€åŸºæœ¬æ–¹æ³• åŸºæœ¬æ–¹æ³•åˆå¯ä»¥åˆ†ä¸ºä¸‰ç§ï¼šæŠ½è±¡æ–¹æ³•(Abstract Method)ã€å…·ä½“æ–¹æ³•(Concrete Method)å’Œé’©å­æ–¹æ³•(Hook Method)ã€‚ æŠ½è±¡æ–¹æ³•ï¼šä¸€ä¸ªæŠ½è±¡æ–¹æ³•ç”±æŠ½è±¡ç±»å£°æ˜ï¼Œç”±å…·ä½“å­ç±»å®ç°ã€‚åœ¨Javaè¯­è¨€é‡ŒæŠ½è±¡æ–¹æ³•ä»¥abstractå…³é”®å­—æ ‡ç¤ºã€‚ å…·ä½“æ–¹æ³•ï¼šä¸€ä¸ªå…·ä½“æ–¹æ³•ç”±æŠ½è±¡ç±»å£°æ˜å¹¶å®ç°ï¼Œè€Œå­ç±»å¹¶ä¸å®ç°æˆ–ç½®æ¢ï¼Œå¦‚ä»£ç ç¤ºä¾‹ä¸­çš„ï¼šconcreteMethod()æ–¹æ³•ã€‚ é’©å­æ–¹æ³•ï¼šä¸€ä¸ªé’©å­æ–¹æ³•ç”±æŠ½è±¡ç±»å£°æ˜å¹¶å®ç°ï¼Œè€Œå­ç±»ä¼šåŠ ä»¥æ‰©å±•ã€‚é€šå¸¸æŠ½è±¡ç±»ç»™å‡ºçš„å®ç°æ˜¯ä¸€ä¸ªç©ºå®ç°ï¼Œä½œä¸ºæ–¹æ³•çš„é»˜è®¤å®ç°ï¼Œå¦‚ä»£ç ç¤ºä¾‹ä¸­çš„ï¼šhookMethod()æ–¹æ³•ã€‚","categories":[{"name":"Java","slug":"Java","permalink":"http://www.gulj.cn/categories/Java/"}],"tags":[{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"http://www.gulj.cn/tags/è®¾è®¡æ¨¡å¼/"}]},{"title":"javaè®¾è®¡æ¨¡å¼-å•ä¾‹æ¨¡å¼","slug":"javaè®¾è®¡æ¨¡å¼-å•ä¾‹æ¨¡å¼","date":"2017-09-18T09:43:24.000Z","updated":"2019-02-14T07:07:12.866Z","comments":true,"path":"2017/09/18/javaè®¾è®¡æ¨¡å¼-å•ä¾‹æ¨¡å¼/","link":"","permalink":"http://www.gulj.cn/2017/09/18/javaè®¾è®¡æ¨¡å¼-å•ä¾‹æ¨¡å¼/","excerpt":"","text":"","categories":[{"name":"Java","slug":"Java","permalink":"http://www.gulj.cn/categories/Java/"}],"tags":[{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"http://www.gulj.cn/tags/è®¾è®¡æ¨¡å¼/"}]},{"title":"javaè®¾è®¡æ¨¡å¼-å»ºé€ è€…æ¨¡å¼","slug":"javaè®¾è®¡æ¨¡å¼-å»ºé€ è€…æ¨¡å¼","date":"2017-09-17T10:43:13.000Z","updated":"2019-02-14T07:07:12.866Z","comments":true,"path":"2017/09/17/javaè®¾è®¡æ¨¡å¼-å»ºé€ è€…æ¨¡å¼/","link":"","permalink":"http://www.gulj.cn/2017/09/17/javaè®¾è®¡æ¨¡å¼-å»ºé€ è€…æ¨¡å¼/","excerpt":"ä»‹ç»å»ºé€ è€…æ¨¡å¼ï¼ˆè‹±ï¼šBuilder Patternï¼‰æ˜¯ä¸€ç§åˆ›å»ºå‹è®¾è®¡æ¨¡å¼ï¼Œåˆåï¼šç”Ÿæˆå™¨æ¨¡å¼ã€‚GOF ç»™å»ºé€ è€…æ¨¡å¼çš„å®šä¹‰ä¸ºï¼šå°†ä¸€ä¸ªå¤æ‚å¯¹è±¡çš„æ„å»ºä¸å®ƒçš„è¡¨ç¤ºåˆ†ç¦»ï¼Œä½¿å¾—åŒæ ·çš„æ„å»ºè¿‡ç¨‹å¯ä»¥åˆ›å»ºä¸åŒçš„è¡¨ç¤ºã€‚å»ºé€ è€…æ¨¡å¼è´Ÿè´£æŒ‰é¡ºåºåˆ›å»ºå¤æ‚å¯¹è±¡ï¼ˆæŠŠå†…éƒ¨çš„å»ºé€ è¿‡ç¨‹å’Œç»†èŠ‚éšè—èµ·æ¥)ã€‚ ç»“æ„","text":"ä»‹ç»å»ºé€ è€…æ¨¡å¼ï¼ˆè‹±ï¼šBuilder Patternï¼‰æ˜¯ä¸€ç§åˆ›å»ºå‹è®¾è®¡æ¨¡å¼ï¼Œåˆåï¼šç”Ÿæˆå™¨æ¨¡å¼ã€‚GOF ç»™å»ºé€ è€…æ¨¡å¼çš„å®šä¹‰ä¸ºï¼šå°†ä¸€ä¸ªå¤æ‚å¯¹è±¡çš„æ„å»ºä¸å®ƒçš„è¡¨ç¤ºåˆ†ç¦»ï¼Œä½¿å¾—åŒæ ·çš„æ„å»ºè¿‡ç¨‹å¯ä»¥åˆ›å»ºä¸åŒçš„è¡¨ç¤ºã€‚å»ºé€ è€…æ¨¡å¼è´Ÿè´£æŒ‰é¡ºåºåˆ›å»ºå¤æ‚å¯¹è±¡ï¼ˆæŠŠå†…éƒ¨çš„å»ºé€ è¿‡ç¨‹å’Œç»†èŠ‚éšè—èµ·æ¥)ã€‚ ç»“æ„ æŠ½è±¡å»ºé€ è€…ï¼ˆBuilderï¼‰è§’è‰²: å¯ä»¥æ˜¯ä¸€ä¸ªæ¥å£æˆ–è€…æŠ½è±¡ç±»ï¼Œä¸»è¦ç”¨äºè§„èŒƒäº§å“å¯¹è±¡çš„å„ä¸ªç»„æˆæˆåˆ†çš„å»ºé€  å…·ä½“å»ºé€ è€…ï¼ˆConcreteBuilderï¼‰è§’è‰²: å®ç°æŠ½è±¡å»ºé€ è€…Builderæ‰€å£°æ˜çš„æ¥å£ æä¾›äº§å“å®ä¾‹ï¼Œç”¨æˆ·æ„å»ºäº§å“ å¯¼æ¼”è€…ï¼ˆDirectorï¼‰è§’è‰²: è°ƒç”¨å…·ä½“å»ºé€ è€…è§’è‰²ä»¥åˆ›å»ºäº§å“å¯¹è±¡ äº§å“ï¼ˆProductï¼‰è§’è‰²: æœ€ç»ˆæ„å»ºæˆå…·ä½“äº§å“ å¯¼æ¼”è€…è§’è‰²æ˜¯ä¸å®¢æˆ·ç«¯æ‰“äº¤é“çš„è§’è‰²ã€‚å¯¼æ¼”è€…å°†å®¢æˆ·ç«¯åˆ›å»ºäº§å“çš„è¯·æ±‚åˆ’åˆ†ä¸ºå¯¹å„ä¸ªé›¶ä»¶çš„å»ºé€ è¯·æ±‚ï¼Œå†å°†è¿™äº›è¯·æ±‚å§”æ´¾ç»™å…·ä½“å»ºé€ è€…è§’è‰²ã€‚å…·ä½“å»ºé€ è€…è§’è‰²æ˜¯åšå…·ä½“å»ºé€ å·¥ä½œçš„ï¼Œä½†æ˜¯å´ä¸ä¸ºå®¢æˆ·ç«¯æ‰€çŸ¥ ä»£ç ç¤ºä¾‹äº§å“ Product 123456789101112public class Product &#123; private String partA; private String partB; private String partC; // .......çœå» get set æ–¹æ³• ......&#125; æŠ½è±¡å»ºé€ è€… Builder 123456789101112131415161718public interface Builder &#123; /** * å®šä¹‰æ„é€ äº§å“ A éƒ¨ä»¶ */ void buildPartA(); /** * å®šä¹‰æ„é€ äº§å“ B éƒ¨ä»¶ */ void buildPartB(); /** * å®šä¹‰æ„é€ äº§å“ C éƒ¨ä»¶ */ void buildPartC();&#125; å…·ä½“å»ºé€ è€… ConcreteBuilder 12345678910111213141516171819202122232425262728293031323334353637public class ConcreteBuilder implements Builder &#123; // åˆ›å»ºä¸€ä¸ªäº§å“çš„å®ä¾‹ Product product = new Product(); /** * å…·ä½“å®ç°æ„å»ºäº§å“çš„ A éƒ¨ä»¶ */ @Override public void buildPartA() &#123; product.setPartA(); &#125; /** * å…·ä½“å®ç°æ„å»ºäº§å“çš„ B éƒ¨ä»¶ */ @Override public void buildPartB() &#123; product.setPartB(); &#125; /** * å…·ä½“å®ç°æ„å»ºäº§å“çš„ C éƒ¨ä»¶ */ @Override public void buildPartC() &#123; product.setPartC(); &#125; /** * è¿”å›æ„å»ºçš„äº§å“ * @return */ public Product getProduct() &#123; return product; &#125;&#125; å¯¼æ¼”è€… Director 1234567891011121314151617181920212223public class Director &#123; // å»ºé€ å™¨å¯¹è±¡ private Builder builder; // é€šè¿‡æ„é€ å‡½æ•°ä¼ å…¥ public Director(Builder builder) &#123; this.builder = builder; &#125; /** * è´Ÿè´£è°ƒç”¨æ„å»ºäº§å“çš„å„ä¸ªæ–¹æ³• */ public void construct() &#123; builder.buildPartA(); builder.buildPartB(); builder.buildPartC(); &#125;&#125; æµ‹è¯•ä»£ç  1234567891011121314151617public class Client &#123; public static void main(String[] args) &#123; Builder builder = new ConcreteBuilder(); Director director = new Director(builder); // æ„é€ äº§å“ director.construct(); // è·å–æ„é€ åçš„äº§å“ Product product = builder.getProduct(); &#125;&#125; ä½¿ç”¨Builderæ¨¡å¼æ¥æ„å»ºå¤æ‚å¯¹è±¡ é‡åˆ°å¤šä¸ªæ„é€ å™¨å‚æ•°æ—¶è¦è€ƒè™‘ç”¨æ„å»ºå™¨ è‹¥Userç±»ï¼Œåªæœ‰å§“å(name) å’Œ æ‰‹æœºå·(phone) æ˜¯å¿…é€‰å‚æ•°ï¼Œå…¶å®ƒéƒ½æ˜¯å¯é€‰å‚æ•°ï¼Œå¦‚æœæ­¤åˆ»æˆ‘ä»¬ä¸åŒçš„ä¸šåŠ¡éœ€è¦æ„å»ºä¸åŒå‚æ•°çš„Userå¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸åŒå‚æ•°çš„æ„é€ å‡½æ•°ï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„ç±»ä¸­æ˜¯è¿™æ · ä½¿ç”¨æ„é€ å‡½æ•°æ–¹å¼æ„é€ å¯¹è±¡çš„Userç±»1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283public class User &#123; /** * å§“å */ private String name; /** * æ‰‹æœºå· */ private String phone; /** * é‚®ä»¶ */ private String email; /** * å¹´é¾„ */ private int age; /** * å‡ºç”Ÿæ—¥æœŸ */ private Date birthDay; public User() &#123; &#125; /** * å¿…é€‰å‚æ•°çš„æ„é€ å™¨ * * @param name * @param phone */ public User(String name, String phone) &#123; this.name = name; this.phone = phone; &#125; /** * å«æœ‰å¯é€‰å‚æ•°çš„æ„é€ å™¨ * * @param name * @param phone * @param email */ public User(String name, String phone, String email) &#123; this.name = name; this.phone = phone; this.email = email; &#125; /** * å«æœ‰å¯é€‰å‚æ•°çš„æ„é€ å™¨ * * @param name * @param phone * @param email */ public User(String name, String phone, String email, int age) &#123; this.name = name; this.phone = phone; this.email = email; this.age = age; &#125; /** * å«æœ‰å¯é€‰å‚æ•°çš„æ„é€ å™¨ * * @param name * @param phone * @param email */ public User(String name, String phone, String email, int age, Date birthDay) &#123; this.name = name; this.phone = phone; this.email = email; this.age = age; this.birthDay = birthDay; &#125;&#125; æµ‹è¯•ä»£ç 1234567891011121314public class Cient &#123; public static void main(String[] args) &#123; User user1 = new User(\"admin\",\"110\"); User user2 = new User(\"admin\",\"110\",\"110@gmail.com\"); User user3 = new User(\"admin\",\"110\",\"110@gmail.com\",110); &#125; &#125; ä½¿ç”¨å»ºé€ è€…æ¨¡å¼æ¥æ„å»ºå¯¹è±¡123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109public class User &#123; /** * å§“å */ private String name; /** * æ‰‹æœºå· */ private String phone; /** * é‚®ä»¶ */ private String email; /** * å¹´é¾„ */ private int age; /** * å‡ºç”Ÿæ—¥æœŸ */ private Date birthDay; // ç§æœ‰æ„é€ æ–¹æ³• private User(UserBuilder builder) &#123; this.name = builder.name; this.phone = builder.phone; this.email = builder.email; this.age = builder.age; this.birthDay = builder.birthDay; &#125; public static class UserBuilder &#123; // required (å¿…é¡») private String name; private String phone; // optional (å¯é€‰) private String email; private int age; private Date birthDay; /** * æ„é€ æ–¹æ³•ï¼Œä¼ å…¥å¿…é¡»çš„å‚æ•° * * @param name * @param phone */ public UserBuilder(String name, String phone) &#123; this.name = name; this.phone = phone; &#125; /** * æ„é€ å¯é€‰å‚æ•° email * * @param email * @return */ public UserBuilder setEmail(String email) &#123; this.email = email; return this; &#125; /** * æ„å»ºå¯é€‰å‚æ•° age * * @param age * @return */ public UserBuilder setAge(int age) &#123; this.age = age; return this; &#125; /** * æ„å»ºå¯é€‰å‚æ•° birthDay * * @param birthDay * @return */ public UserBuilder setBirthDay(Date birthDay) &#123; this.birthDay = birthDay; return this; &#125; /** * æ„å»º User å¯¹è±¡å¹¶è¿”å› * * @return */ public User build() &#123; return new User(this); &#125; &#125;&#125; æµ‹è¯•ä»£ç 123456789101112public class Cient &#123; public static void main(String[] args) &#123; User user = new User.UserBuilder(\"admin\",\"110\") .setAge(100) .setEmail(\"110@gmail.com\") .build(); &#125;&#125;","categories":[{"name":"Java","slug":"Java","permalink":"http://www.gulj.cn/categories/Java/"}],"tags":[{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"http://www.gulj.cn/tags/è®¾è®¡æ¨¡å¼/"}]},{"title":"Javaé™æ€ä»£ç å—ï¼Œæ„é€ ä»£ç å—ï¼Œæ„é€ å‡½æ•°","slug":"Java-é™æ€ä»£ç å—ï¼Œæ„é€ å—ï¼Œæ„é€ å‡½æ•°","date":"2017-09-12T06:17:00.000Z","updated":"2019-02-14T07:07:12.861Z","comments":true,"path":"2017/09/12/Java-é™æ€ä»£ç å—ï¼Œæ„é€ å—ï¼Œæ„é€ å‡½æ•°/","link":"","permalink":"http://www.gulj.cn/2017/09/12/Java-é™æ€ä»£ç å—ï¼Œæ„é€ å—ï¼Œæ„é€ å‡½æ•°/","excerpt":"1ã€ä»‹ç»â‘ ã€æ„é€ å‡½æ•° 123pubic HelloWorld()&#123; &#125; è¯´æ˜ å¯¹è±¡ä¸€å»ºç«‹ï¼Œå°±ä¼šè°ƒç”¨ä¸ä¹‹ç›¸åº”çš„æ„é€ å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸å»ºç«‹å¯¹è±¡ï¼Œæ„é€ å‡½æ•°æ—¶ä¸ä¼šè¿è¡Œçš„ã€‚ æ„é€ å‡½æ•°çš„ä½œç”¨æ˜¯ç”¨äºç»™å¯¹è±¡è¿›è¡Œåˆå§‹åŒ–ã€‚ ä¸€ä¸ªå¯¹è±¡å»ºç«‹ï¼Œæ„é€ å‡½æ•°åªè¿è¡Œä¸€æ¬¡ï¼Œè€Œä¸€èˆ¬æ–¹æ³•å¯ä»¥è¢«è¯¥å¯¹è±¡è°ƒç”¨å¤šæ¬¡ã€‚","text":"1ã€ä»‹ç»â‘ ã€æ„é€ å‡½æ•° 123pubic HelloWorld()&#123; &#125; è¯´æ˜ å¯¹è±¡ä¸€å»ºç«‹ï¼Œå°±ä¼šè°ƒç”¨ä¸ä¹‹ç›¸åº”çš„æ„é€ å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸å»ºç«‹å¯¹è±¡ï¼Œæ„é€ å‡½æ•°æ—¶ä¸ä¼šè¿è¡Œçš„ã€‚ æ„é€ å‡½æ•°çš„ä½œç”¨æ˜¯ç”¨äºç»™å¯¹è±¡è¿›è¡Œåˆå§‹åŒ–ã€‚ ä¸€ä¸ªå¯¹è±¡å»ºç«‹ï¼Œæ„é€ å‡½æ•°åªè¿è¡Œä¸€æ¬¡ï¼Œè€Œä¸€èˆ¬æ–¹æ³•å¯ä»¥è¢«è¯¥å¯¹è±¡è°ƒç”¨å¤šæ¬¡ã€‚ â‘¡ã€æ„é€ ä»£ç å— 123&#123; // æ„é€ ä»£ç å—&#125; è¯´æ˜ å¯¹è±¡ä¸€å»ºç«‹ï¼Œå°±ä¼šè°ƒç”¨ä¸ä¹‹ç›¸åº”çš„æ„é€ å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸å»ºç«‹å¯¹è±¡ï¼Œæ„é€ å‡½æ•°æ—¶ä¸ä¼šè¿è¡Œçš„ æ„é€ å‡½æ•°çš„ä½œç”¨æ˜¯ç”¨äºç»™å¯¹è±¡è¿›è¡Œåˆå§‹åŒ– ä¸€ä¸ªå¯¹è±¡å»ºç«‹ï¼Œæ„é€ å‡½æ•°åªè¿è¡Œä¸€æ¬¡ï¼Œè€Œä¸€èˆ¬æ–¹æ³•å¯ä»¥è¢«è¯¥å¯¹è±¡è°ƒç”¨å¤šæ¬¡ â‘¢ã€é™æ€ä»£ç å— 123static &#123; // é™æ€ä»£ç å—&#125; è¯´æ˜ å®ƒæ˜¯éšç€ç±»çš„åŠ è½½è€Œæ‰§è¡Œï¼Œåªæ‰§è¡Œä¸€æ¬¡ï¼Œå¹¶ä¼˜å…ˆäºä¸»å‡½æ•°ã€‚å…·ä½“è¯´ï¼Œé™æ€ä»£ç å—æ˜¯ç”±ç±»è°ƒç”¨çš„ã€‚ç±»è°ƒç”¨æ—¶ï¼Œå…ˆæ‰§è¡Œé™æ€ä»£ç å—ï¼Œç„¶åæ‰æ‰§è¡Œä¸»å‡½æ•°çš„ é™æ€ä»£ç å—å…¶å®å°±æ˜¯ç»™ç±»åˆå§‹åŒ–çš„ï¼Œè€Œæ„é€ ä»£ç å—æ˜¯ç»™å¯¹è±¡åˆå§‹åŒ–çš„ã€‚ é™æ€ä»£ç å—ä¸­çš„å˜é‡æ˜¯å±€éƒ¨å˜é‡ï¼Œä¸æ™®é€šå‡½æ•°ä¸­çš„å±€éƒ¨å˜é‡æ€§è´¨æ²¡æœ‰åŒºåˆ«ã€‚ ä¸€ä¸ªç±»ä¸­å¯ä»¥æœ‰å¤šä¸ªé™æ€ä»£ç å— 2ã€ä¸‰è€…æ‰§è¡Œé¡ºåº1ã€é™æ€ä»£ç å—ï¼Œé™æ€ï¼Œå…¶ä½œç”¨çº§åˆ«ä¸ºç±»ï¼Œæ„é€ ä»£ç å—ã€æ„é€ å‡½æ•°ï¼Œæ„é€ ï¼Œå…¶ä½œç”¨çº§åˆ«ä¸ºå¯¹è±¡ã€‚ é™æ€ä»£ç å—ï¼Œå®ƒæ˜¯éšç€ç±»çš„åŠ è½½è€Œè¢«æ‰§è¡Œï¼Œåªè¦ç±»è¢«åŠ è½½äº†å°±ä¼šæ‰§è¡Œï¼Œè€Œä¸”åªä¼šåŠ è½½ä¸€æ¬¡ï¼Œä¸»è¦ç”¨äºç»™ç±»è¿›è¡Œåˆå§‹åŒ–ã€‚ æ„é€ ä»£ç å—ï¼Œæ¯åˆ›å»ºä¸€ä¸ªå¯¹è±¡æ—¶å°±ä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œä¸”ä¼˜å…ˆäºæ„é€ å‡½æ•°ï¼Œä¸»è¦ç”¨äºåˆå§‹åŒ–ä¸åŒå¯¹è±¡å…±æ€§çš„åˆå§‹åŒ–å†…å®¹å’Œåˆå§‹åŒ–å®ä¾‹ç¯å¢ƒã€‚ æ„é€ å‡½æ•°ï¼Œæ¯åˆ›å»ºä¸€ä¸ªå¯¹è±¡æ—¶å°±ä¼šæ‰§è¡Œä¸€æ¬¡ã€‚åŒæ—¶æ„é€ å‡½æ•°æ˜¯ç»™ç‰¹å®šå¯¹è±¡è¿›è¡Œåˆå§‹åŒ–ï¼Œè€Œæ„é€ ä»£ç æ˜¯ç»™æ‰€æœ‰å¯¹è±¡è¿›è¡Œåˆå§‹åŒ–ï¼Œä½œç”¨åŒºåŸŸä¸åŒã€‚ ä¸‰è€…çš„æ‰§è¡Œé¡ºåºåº”è¯¥ä¸ºï¼šé™æ€ä»£ç å— &gt; main() &gt; æ„é€ ä»£ç å— &gt; æ„é€ å‡½æ•°ã€‚ 3ã€ä»£ç ç¤ºä¾‹â‘ ã€æ™®é€šç±»åˆå§‹åŒ– 123456789101112131415161718192021public class HelloWorld &#123; public HelloWorld() &#123; System.out.println(\"helloWorld æ„é€ å‡½æ•°.....\"); &#125; &#123; System.out.println(\"æ™®é€šä»£ç å—......\"); &#125; static &#123; System.out.println(\"é™æ€ä»£ç å—\"); System.out.println(\"--------------------\"); &#125; public static void main(String[] args) &#123; HelloWorld A = new HelloWorld(); System.out.println(\"*******************\"); HelloWorld B = new HelloWorld(); &#125;&#125; æ‰§è¡Œç»“æœ 1234567é™æ€ä»£ç å—--------------------æ™®é€šä»£ç å—......helloWorld æ„é€ å‡½æ•°.....*******************æ™®é€šä»£ç å—......helloWorld æ„é€ å‡½æ•°..... â‘¡ã€ç»§æ‰¿ä½“ç³»åˆå§‹åŒ– 12345678910111213141516171819202122232425262728293031323334353637383940414243444546public class HelloWorld &#123; public static String name = \"çˆ¶ç±»:HelloWorldâ€”â€”&gt;é™æ€å˜é‡\"; public HelloWorld() &#123; System.out.println(\"çˆ¶ç±»:HelloWorldâ€”â€”&gt;æ„é€ å‡½æ•°.....\"); &#125; &#123; System.out.println(\"çˆ¶ç±»:HelloWorldâ€”â€”&gt;æ™®é€šä»£ç å—......\"); &#125; static &#123; System.out.println(name); System.out.println(\"çˆ¶ç±»:HelloWorldâ€”â€”&gt;é™æ€ä»£ç å—\"); &#125;&#125;public class ChildHelloWorld extends HelloWorld &#123; private static String childName = \"å­ç±»:ChildHelloWordâ€”â€”&gt;é™æ€å˜é‡\"; public ChildHelloWorld() &#123; System.out.println(\"å­ç±»:ChildHelloWorldâ€”â€”&gt;æ„é€ å‡½æ•°.....\"); &#125; &#123; System.out.println(\"å­ç±»:ChildHelloWorldâ€”â€”&gt;æ™®é€šä»£ç å—......\"); &#125; static &#123; System.out.println(childName); System.out.println(\"å­ç±»:ChildHelloWorldâ€”â€”&gt;é™æ€ä»£ç å—......\"); &#125; public static void main(String[] args) &#123; System.out.println(\"å­ç±»:main()æ–¹æ³•.....\"); new ChildHelloWorld(); &#125;&#125; æ‰§è¡Œç»“æœ 123456789çˆ¶ç±»:HelloWorldâ€”â€”&gt;é™æ€å˜é‡çˆ¶ç±»:HelloWorldâ€”â€”&gt;é™æ€ä»£ç å—å­ç±»:ChildHelloWordâ€”â€”&gt;é™æ€å˜é‡å­ç±»:ChildHelloWorldâ€”â€”&gt;é™æ€ä»£ç å—......å­ç±»:main()æ–¹æ³•.....çˆ¶ç±»:HelloWorldâ€”â€”&gt;æ™®é€šä»£ç å—......çˆ¶ç±»:HelloWorldâ€”â€”&gt;æ„é€ å‡½æ•°.....å­ç±»:ChildHelloWorldâ€”â€”&gt;æ™®é€šä»£ç å—......å­ç±»:ChildHelloWorldâ€”â€”&gt;æ„é€ å‡½æ•°..... Java åˆå§‹åŒ–é¡ºåºå›¾","categories":[{"name":"Java","slug":"Java","permalink":"http://www.gulj.cn/categories/Java/"}],"tags":[{"name":"java","slug":"java","permalink":"http://www.gulj.cn/tags/java/"}]},{"title":"JAVAä¸‰å¤§ç‰¹æ€§â€”å¤šæ€","slug":"JAVAä¸‰å¤§ç‰¹æ€§â€”å¤šæ€","date":"2017-09-12T03:13:27.000Z","updated":"2019-02-14T07:07:12.860Z","comments":true,"path":"2017/09/12/JAVAä¸‰å¤§ç‰¹æ€§â€”å¤šæ€/","link":"","permalink":"http://www.gulj.cn/2017/09/12/JAVAä¸‰å¤§ç‰¹æ€§â€”å¤šæ€/","excerpt":"1ã€ä»‹ç» å¤šæ€æ˜¯åŒä¸€ä¸ªè¡Œä¸ºå…·æœ‰å¤šä¸ªä¸åŒè¡¨ç°å½¢å¼æˆ–å½¢æ€çš„èƒ½åŠ› å¤šæ€å°±æ˜¯åŒä¸€ä¸ªæ¥å£ï¼Œä½¿ç”¨ä¸åŒçš„å®ä¾‹è€Œæ‰§è¡Œä¸åŒæ“ä½œ å¤šæ€æ€§æ˜¯å¯¹è±¡å¤šç§è¡¨ç°å½¢å¼çš„ä½“ç°ã€‚ 2ã€å¤šæ€å­˜åœ¨çš„å¿…è¦æ¡ä»¶","text":"1ã€ä»‹ç» å¤šæ€æ˜¯åŒä¸€ä¸ªè¡Œä¸ºå…·æœ‰å¤šä¸ªä¸åŒè¡¨ç°å½¢å¼æˆ–å½¢æ€çš„èƒ½åŠ› å¤šæ€å°±æ˜¯åŒä¸€ä¸ªæ¥å£ï¼Œä½¿ç”¨ä¸åŒçš„å®ä¾‹è€Œæ‰§è¡Œä¸åŒæ“ä½œ å¤šæ€æ€§æ˜¯å¯¹è±¡å¤šç§è¡¨ç°å½¢å¼çš„ä½“ç°ã€‚ 2ã€å¤šæ€å­˜åœ¨çš„å¿…è¦æ¡ä»¶ ç»§æ‰¿ å­ç±»é‡å†™çˆ¶ç±»æ–¹æ³• çˆ¶ç±»å¼•ç”¨æŒ‡å‘å­ç±»å¯¹è±¡ æ¯”å¦‚ï¼š 1Parent parent = new Child(); // ä½¿ç”¨çˆ¶ç±»ç±»å‹çš„å¼•ç”¨æŒ‡å‘å­ç±»çš„å¯¹è±¡ 3ã€ä»£ç ç¤ºä¾‹â‘ ã€åŸºäºç»§æ‰¿å®ç°çš„å¤šæ€ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586public class Animal &#123; public String name = \"animal\"; public void eat(Animal animal)&#123; System.out.println(\"animal say ......\"); &#125; public void sleep()&#123; System.out.println(\"animal sleep......\"); &#125; public static void speak()&#123; System.out.println(\"animal speak .......\"); &#125;&#125;public class Cat extends Animal &#123; /** * é‡å†™çˆ¶ç±»çš„eat()æ–¹æ³• * * @param animal */ @Override public void eat(Animal animal) &#123; System.out.println(\"****************************************\"); if (animal instanceof Animal) &#123; System.out.println(\"animal is instanceof Animal.....\"); &#125; if (animal instanceof Cat) &#123; System.out.println(\"animal is instanceof Cat.....\"); &#125; if (animal instanceof Dog) &#123; System.out.println(\"animal is instanceof Dog.....\"); &#125; if (animal instanceof Object) &#123; System.out.println(\"animal is instanceof Object.....\"); &#125; System.out.println(animal + \" say .......\"); System.out.println(\"****************************************\"); &#125;&#125;public class Dog extends Animal &#123; public String name = \"dog\"; /** * é‡å†™çˆ¶ç±»çš„sleep()æ–¹æ³• */ @Override public void sleep() &#123; System.out.println(\"dog sleep......\"); &#125; public static void speak() &#123; System.out.println(\"dog speak .......\"); &#125;&#125;//æµ‹è¯•æ¡ˆä¾‹public class TestMain &#123; public static void main(String[] args) &#123; Animal animal1 = new Cat(); //çˆ¶ç±»çš„å¼•ç”¨ï¼Œæ ¹æ®ä¼ å…¥ä¸åŒçš„å­ç±»å®ä¾‹ï¼Œåœ¨è¿è¡ŒæœŸé—´ä¼šè¡¨ç°å‡ºå…·ä½“å­ç±»çš„ç‰¹å¾ animal1.eat(new Cat()); animal1.eat(new Dog()); Animal animal2 = new Dog(); animal2.sleep(); // éé™æ€æ–¹æ³•ï¼ŒJVMè°ƒç”¨çš„æ˜¯å…·ä½“å­ç±»çš„sleep(Dog)çš„æ–¹æ³• animal2.speak(); // é™æ€æ–¹æ³•ä¸èƒ½è¢«é‡å†™ï¼Œä»ç„¶è°ƒç”¨çš„æ˜¯çˆ¶ç±»çš„speakæ–¹æ³• System.out.println(animal2.name); //å­—æ®µä¸å…·æœ‰å¤šæ€æ€§ï¼Œä»ç„¶æ˜¯çˆ¶ç±»çš„å±æ€§å€¼ &#125;&#125; æµ‹è¯•ç»“æœ 1234567891011121314151617// animal å¯¹è±¡ä½“ç°çš„å¤šæ€æ€§ï¼Œæ˜¯ Animal,Dog,Objectçš„å®ä¾‹****************************************animal is instanceof Animal.....animal is instanceof Cat.....animal is instanceof Object.....com.gulj.springbootvalidator.duotai.Cat@378bf509 say .......********************************************************************************animal is instanceof Animal.....animal is instanceof Dog.....animal is instanceof Object..... com.gulj.springbootvalidator.duotai.Dog@5fd0d5ae say .......****************************************dog sleep......animal speak ....... æ€»ç»“è¯´æ˜ å¯¹è±¡å…·æœ‰ä¸¤ç§ç±»å‹ï¼š ç¼–è¯‘ç±»å‹ï¼ˆç¼–è¯‘ç±»å‹å¿…é¡»æ˜¯è¿è¡Œç±»å‹çš„çˆ¶ç±»æˆ–ç›¸åŒï¼‰ è¿è¡Œç±»å‹ åœ¨å½¢å¼ä¸Šï¼Œç±»å®šä¹‰çš„å¯¹è±¡åªèƒ½çœ‹åˆ°è‡ªå·±æ‰€å±ç±»ä¸­çš„æˆå‘˜ã€‚çˆ¶ç±»å¯¹è±¡æ— æ³•çœ‹åˆ°å­ç±»çš„æ–°æ‰©å……æ–¹æ³•ã€‚ çˆ¶ç±»è¢«å…³é”®è¯staticä¿®é¥°çš„é™æ€æ–¹æ³•æ˜¯ä¸èƒ½è¢«å­ç±»è¦†ç›–çš„ï¼Œå¯ä»¥åˆ©ç”¨è¿™ä¸€ç‰¹æ€§è¾¾åˆ°éšè—çš„æ•ˆæœ ä½¿ç”¨çˆ¶ç±»ç±»å‹çš„å¼•ç”¨æŒ‡å‘å­ç±»çš„å¯¹è±¡ å½“å­ç±»å’Œçˆ¶ç±»å­˜åœ¨ç›¸åŒçš„å­—æ®µæ—¶å€™ï¼Œæ— è®ºä¿®é¥°ç¬¦æ˜¯ä»€ä¹ˆï¼Œéƒ½ä¼šåœ¨å„è‡ªçš„å†…å­˜ç©ºé—´ä¸­å­˜å‚¨æ•°æ®ï¼Œåˆ™å­—æ®µä¸å…·æœ‰å¤šæ€æ€§ å¦‚æœå­ç±»ä¸­é‡å†™äº†çˆ¶ç±»ä¸­çš„ä¸€ä¸ªæ–¹æ³•ï¼Œé‚£ä¹ˆåœ¨è°ƒç”¨è¿™ä¸ªæ–¹æ³•çš„æ—¶å€™ï¼Œå°†ä¼šè°ƒç”¨å­ç±»ä¸­çš„è¿™ä¸ªæ–¹æ³• 12// finalä¿®é¥°çš„å¯¹è±¡ä¸èƒ½æ”¹å˜å…¶å€¼ï¼›åªèƒ½æŒ‡å‘animalè¿™ä¸ªåœ°å€ï¼ˆå¼•ç”¨å…³ç³»ä¸èƒ½å˜ï¼‰ä½†æ˜¯å¯¹è±¡é‡Œé¢çš„å€¼å¯ä»¥æ”¹å˜ã€‚final Animal animal = new Cat(); â‘¡ã€åŸºäºæ¥å£å®ç°çš„å¤šæ€ï¼ˆä¸åœ¨ä¸¾ä¾‹ï¼Œè¯»è€…å¯ä»¥è‡ªè¡Œå®ç°ï¼‰ åœ¨æ¥å£çš„å¤šæ€ä¸­ï¼ŒæŒ‡å‘æ¥å£çš„å¼•ç”¨å¿…é¡»æ˜¯æŒ‡å®šè¿™å®ç°äº†è¯¥æ¥å£çš„ä¸€ä¸ªç±»çš„å®ä¾‹ç¨‹åºï¼Œåœ¨è¿è¡Œæ—¶ï¼Œæ ¹æ®å¯¹è±¡å¼•ç”¨çš„å®é™…ç±»å‹æ¥æ‰§è¡Œå¯¹åº”çš„æ–¹æ³•ã€‚","categories":[{"name":"Java","slug":"Java","permalink":"http://www.gulj.cn/categories/Java/"}],"tags":[{"name":"java","slug":"java","permalink":"http://www.gulj.cn/tags/java/"}]},{"title":"Javaå†…éƒ¨ç±»â€”åŒ¿åå†…éƒ¨ç±»","slug":"Java-å†…éƒ¨ç±»ä¹‹åŒ¿åå†…éƒ¨ç±»","date":"2017-09-11T06:19:43.000Z","updated":"2019-02-14T07:07:12.861Z","comments":true,"path":"2017/09/11/Java-å†…éƒ¨ç±»ä¹‹åŒ¿åå†…éƒ¨ç±»/","link":"","permalink":"http://www.gulj.cn/2017/09/11/Java-å†…éƒ¨ç±»ä¹‹åŒ¿åå†…éƒ¨ç±»/","excerpt":"1ã€ä»‹ç»â‘ ã€åŒ¿åå†…éƒ¨ç±»æ˜¯æ²¡æœ‰åå­—çš„å†…éƒ¨ç±»ï¼Œå› ä¸ºæ²¡æœ‰åå­—æ‰€ä»¥æ²¡åŠæ³•å¼•ç”¨ã€‚å¿…é¡»åœ¨åˆ›å»ºæ—¶ï¼Œä½œä¸º new è¯­å¥çš„ä¸€éƒ¨åˆ†æ¥å£°æ˜ï¼Œåªèƒ½ä½¿ç”¨ä¸€æ¬¡ â‘¡ã€ä½¿ç”¨å‰æï¼šå¿…é¡»ç»§æ‰¿ä¸€ä¸ªçˆ¶ç±»æˆ–å®ç°ä¸€ä¸ªæ¥å£ 2ã€ç»“æ„","text":"1ã€ä»‹ç»â‘ ã€åŒ¿åå†…éƒ¨ç±»æ˜¯æ²¡æœ‰åå­—çš„å†…éƒ¨ç±»ï¼Œå› ä¸ºæ²¡æœ‰åå­—æ‰€ä»¥æ²¡åŠæ³•å¼•ç”¨ã€‚å¿…é¡»åœ¨åˆ›å»ºæ—¶ï¼Œä½œä¸º new è¯­å¥çš„ä¸€éƒ¨åˆ†æ¥å£°æ˜ï¼Œåªèƒ½ä½¿ç”¨ä¸€æ¬¡ â‘¡ã€ä½¿ç”¨å‰æï¼šå¿…é¡»ç»§æ‰¿ä¸€ä¸ªçˆ¶ç±»æˆ–å®ç°ä¸€ä¸ªæ¥å£ 2ã€ç»“æ„ â‘ ã€åŒ¿åå†…éƒ¨ç±»å½¢å¼å¦‚ä¸‹ï¼š new ç±»æˆ–æ¥å£{ â€‹ //æ–¹æ³•ä¸»ä½“ } 3ã€ä»£ç ç¤ºä¾‹â‘ ã€åŸå§‹æŠ½è±¡ç±»çš„åŸºæœ¬å®ç° 123456789101112131415161718192021222324public abstract class Animal &#123; /** * åŠ¨ç‰©æœ‰åƒçš„è¡Œä¸º */ public abstract void eat();&#125;public class Cat extends Animal &#123; @Override public void eat() &#123; System.out.println(\"çŒ«åƒé±¼ã€‚ã€‚ã€‚ã€‚\"); &#125;&#125;public class TestCatMain &#123; public static void main(String[] args) &#123; Animal animal = new Cat(); animal.eat(); &#125;&#125; å¤‡æ³¨ï¼š â€‹ å¦‚æœæ­¤å¤„çš„Catç±»åªä½¿ç”¨ä¸€æ¬¡ï¼Œé‚£ä¹ˆå°†å…¶ç¼–å†™ä¸ºç‹¬ç«‹çš„ä¸€ä¸ªç±»å²‚ä¸æ˜¯å¾ˆéº»çƒ¦ï¼Ÿè¿™ä¸ªæ—¶å€™å°±å¼•å…¥äº†åŒ¿åå†…éƒ¨ç±» â‘¡ã€åœ¨æŠ½è±¡ç±»ä¸­ä½¿ç”¨å†…éƒ¨ç±» 1234567891011121314151617181920212223public abstract class Animal &#123; /** * åŠ¨ç‰©æœ‰åƒçš„è¡Œä¸º */ public abstract void eat();&#125;public class TestAnonymousInnerClassCatMain &#123; public static void main(String[] args) &#123; Animal animal = new Animal() &#123;//ç›´æ¥å°†æŠ½è±¡ç±»Animalä¸­çš„æ–¹æ³•åœ¨å¤§æ‹¬å·ä¸­å®ç°äº† @Override public void eat() &#123; System.out.println(\"åœ¨chouã€‚ã€‚ã€‚ã€‚\"); &#125; &#125;; animal.eat(); &#125;&#125; â‘¢ã€åœ¨æ¥å£ä¸Šä½¿ç”¨åŒ¿åå†…éƒ¨ç±» 12345678910111213141516171819202122//æ¥å£å®šä¹‰public interface IAnimal &#123; /** * åŠ¨ç‰©æœ‰åƒçš„è¡Œä¸º */ void eat();&#125;//æµ‹è¯•åŒ¿åå†…éƒ¨ç±»public class TestAnonymousInnerClassCatMain &#123; public static void main(String[] args) &#123; IAnimal iAnimal = new IAnimal() &#123; @Override public void eat() &#123; System.out.println(\"åœ¨æ¥å£ä¸­ä½¿ç”¨çš„åŒ¿åå†…éƒ¨ç±»ã€‚ã€‚ã€‚ã€‚\"); &#125; &#125;; iAnimal.eat(); &#125;&#125; æ€»ç»“ åŒ¿åå†…éƒ¨ç±»ä¸èƒ½æœ‰æ„é€ æ–¹æ³•ï¼Œä½†å¯ä»¥è°ƒç”¨çˆ¶ç±»çš„æ„é€ æ–¹æ³•ã€‚ åŒ¿åå†…éƒ¨ç±»ä¸èƒ½å®šä¹‰ä»»ä½•é™æ€æˆå‘˜ï¼Œæ–¹æ³•å’Œç±»ã€‚ ä¸€èˆ¬ä½¿ç”¨ä»£ç å—ä¸ºåŒ¿åå†…éƒ¨ç±»æä¾›åˆå§‹åŒ–å·¥ä½œ","categories":[{"name":"Java","slug":"Java","permalink":"http://www.gulj.cn/categories/Java/"}],"tags":[{"name":"java","slug":"java","permalink":"http://www.gulj.cn/tags/java/"}]},{"title":"shellç¼–ç¨‹â€”æ¡ä»¶è¡¨è¾¾å¼","slug":"shellç¼–ç¨‹ä¹‹æ¡ä»¶è¡¨è¾¾å¼","date":"2017-09-01T01:32:39.000Z","updated":"2019-02-14T07:07:13.521Z","comments":true,"path":"2017/09/01/shellç¼–ç¨‹ä¹‹æ¡ä»¶è¡¨è¾¾å¼/","link":"","permalink":"http://www.gulj.cn/2017/09/01/shellç¼–ç¨‹ä¹‹æ¡ä»¶è¡¨è¾¾å¼/","excerpt":"1ã€å­—ç¬¦ä¸²æ“ä½œç¬¦æ¯”è¾ƒ å¸¸ç”¨å­—ç¬¦ä¸²æµ‹è¯•æ“ä½œç¬¦ è¯´æ˜ -z â€œå­—ç¬¦ä¸²â€ è‹¥ä¸²é•¿åº¦ä¸º0åˆ™çœŸï¼Œ-zå¯ä»¥ç†è§£ä¸ºzero -n â€œå­—ç¬¦ä¸²â€ è‹¥ä¸²é•¿åº¦ä¸ä¸º0åˆ™çœŸï¼Œ-nå¯ä»¥ç†è§£æˆno zero â€œä¸² 1â€ = â€œä¸²2â€ è‹¥ä¸²1ç­‰äºä¸²2åˆ™çœŸï¼Œå¯ä½¿ç”¨â€œ==â€ ä»£æ›¿â€œ=â€œ â€œä¸² 1â€ != â€œä¸²2â€ è‹¥ä¸²1ä¸ç­‰äºä¸²2åˆ™çœŸï¼Œå¯ä½¿ç”¨â€œ!==â€ ä»£æ›¿â€œ!=â€œ","text":"1ã€å­—ç¬¦ä¸²æ“ä½œç¬¦æ¯”è¾ƒ å¸¸ç”¨å­—ç¬¦ä¸²æµ‹è¯•æ“ä½œç¬¦ è¯´æ˜ -z â€œå­—ç¬¦ä¸²â€ è‹¥ä¸²é•¿åº¦ä¸º0åˆ™çœŸï¼Œ-zå¯ä»¥ç†è§£ä¸ºzero -n â€œå­—ç¬¦ä¸²â€ è‹¥ä¸²é•¿åº¦ä¸ä¸º0åˆ™çœŸï¼Œ-nå¯ä»¥ç†è§£æˆno zero â€œä¸² 1â€ = â€œä¸²2â€ è‹¥ä¸²1ç­‰äºä¸²2åˆ™çœŸï¼Œå¯ä½¿ç”¨â€œ==â€ ä»£æ›¿â€œ=â€œ â€œä¸² 1â€ != â€œä¸²2â€ è‹¥ä¸²1ä¸ç­‰äºä¸²2åˆ™çœŸï¼Œå¯ä½¿ç”¨â€œ!==â€ ä»£æ›¿â€œ!=â€œ æ³¨æ„ï¼š â‘ ã€ä»¥ä¸Šè¡¨æ ¼ä¸­çš„å­—ç¬¦ä¸²æµ‹è¯•æ“ä½œç¬¦å¥½åŠ¡å¿…ä½¿ç”¨â€â€œå¼•èµ·æ¥ï¼ˆå­—ç¬¦ä¸²æˆ–å­—ç¬¦ä¸²å˜é‡æ¯”è¾ƒéƒ½è¦åŠ åŒå¼•å·ä¹‹åå†æ¯”è¾ƒï¼‰ â‘¡ã€æ¯”è¾ƒç¬¦å·ä¸¤ç«¯æœ‰ç©ºæ ¼ï¼ˆå­—ç¬¦ä¸²æˆ–å­—ç¬¦ä¸²å˜é‡æ¯”è¾ƒï¼Œæ¯”è¾ƒç¬¦å·ä¸¤ç«¯æœ€å¥½æœ‰ç©ºæ ¼ï¼‰ ä»£ç ç¤ºä¾‹ï¼š 123# å­—ç¬¦ä¸²æ¯”è¾ƒ[root@docker-02 ~]# [ -z \"abc\" ] &amp;&amp; echo 1 || echo 00 2ã€æ•´æ•°äºŒå…ƒæ¯”è¾ƒæ“ä½œç¬¦ åœ¨[]ä»¥åŠtestä¸­ä½¿ç”¨çš„æ¯”è¾ƒç¬¦ åœ¨(())å’Œ[[]]ä¸­ä½¿ç”¨çš„æ¯”è¾ƒç¬¦ è¯´æ˜ -eq == æˆ– = equal çš„ç¼©å†™ï¼Œç›¸ç­‰ -ne != not equal çš„ç¼©å†™ï¼Œä¸ç›¸ç­‰ -gt &gt; å¤§äº greater than -ge &gt;= å¤§äºç­‰äº greater equal -lt &lt; å°äº ç±»ä¼¼ less than -le &lt;= å°äºç­‰äº less equal ä»£ç ç¤ºä¾‹ï¼š 123456789#[root@docker-02 ~]# [ 2 -eq 1 ] &amp;&amp; echo 1 || echo 00#[root@docker-02 ~]# [ 2 -eq 2 ] &amp;&amp; echo 1 || echo 01#[root@docker-02 ~]# ((2&gt;3)) &amp;&amp; echo 1 || echo 00 å°ç»“ï¼šæ•´æ•°æ¯”è¾ƒç¬”è€…æ¨èä¸‹é¢ç”¨æ³• â‘ ã€[ $num1 -eq $num2 ] # æ³¨æ„ç©ºæ ¼ï¼Œå’Œæ¯”è¾ƒç¬¦å· â‘¡ã€(($num1&gt;$num2)) # æ— éœ€ç©ºæ ¼ï¼Œå¸¸è§„æ•°å­¦æ¯”è¾ƒç¬¦å· 3ã€é€»è¾‘è¿æ¥ç¬¦ åœ¨[]å’Œtestä¸­ä½¿ç”¨çš„é€»è¾‘æ“ä½œç¬¦ åœ¨[[]]ä¸­ä½¿ç”¨çš„é€»è¾‘æ“ä½œç¬¦ è¯´æ˜ -a &amp;&amp; andä¸ï¼Œä¸¤ç«¯éƒ½ä¸ºçœŸï¼Œåˆ™çœŸ -o oræˆ–ï¼Œä¸¤ç«¯æœ‰ä¸€ä¸ªä¸ºçœŸåˆ™çœŸ ! ! notéï¼Œç›¸ååˆ™ä¸ºçœŸ ä»£ç ç¤ºä¾‹ï¼š 12345#a=1b=2[root@docker-02 ~]# [ $a -eq 1 -a $b -eq 2 ] &amp;&amp; echo 1 || echo 01 å°ç»“ï¼šâ‘ ã€-a å’Œ &amp;&amp; çš„è¿ç®—è§„åˆ™ï¼šåªæœ‰ä¸¤ç«¯éƒ½æ˜¯1æ‰æ˜¯çœŸ â‘¡ã€[] ä¸­ç”¨-aã€-oã€ï¼ â‘¢ã€[[]] ä¸­ç”¨&amp;&amp;ã€||ã€ï¼","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://www.gulj.cn/categories/è¿ç»´/"}],"tags":[{"name":"shell","slug":"shell","permalink":"http://www.gulj.cn/tags/shell/"}]},{"title":"Adobe Photoshop CC 2017 Macä¸­æ–‡ç ´è§£ç‰ˆ","slug":"Adobe-Photoshop-CC-2017-Macä¸­æ–‡ç ´è§£ç‰ˆ","date":"2017-08-22T09:26:06.000Z","updated":"2019-02-14T07:07:12.858Z","comments":true,"path":"2017/08/22/Adobe-Photoshop-CC-2017-Macä¸­æ–‡ç ´è§£ç‰ˆ/","link":"","permalink":"http://www.gulj.cn/2017/08/22/Adobe-Photoshop-CC-2017-Macä¸­æ–‡ç ´è§£ç‰ˆ/","excerpt":"Photoshop CC 2017æ˜¯ä¸€ä¸ªå…¨æ–°çš„ç‰ˆæœ¬ï¼Œæ‹¥æœ‰å¾ˆå¤šæ–°çš„ç‰¹æ€§ï¼Œæ¯”å¦‚ï¼šåº”ç”¨ç¨‹å¼å†…æœå¯»ã€åŠ å¿«ä¸Šæ‰‹é€Ÿåº¦ã€å¢å¼ºå±æ€§é¢æ¿ã€Creative Cloud Assetsæ”¹è‰¯åŠŸèƒ½ç­‰ç­‰ï¼Œæ€»ä¹‹åŠŸèƒ½æ›´åŠ çš„å¼ºå¤§ã€‚","text":"Photoshop CC 2017æ˜¯ä¸€ä¸ªå…¨æ–°çš„ç‰ˆæœ¬ï¼Œæ‹¥æœ‰å¾ˆå¤šæ–°çš„ç‰¹æ€§ï¼Œæ¯”å¦‚ï¼šåº”ç”¨ç¨‹å¼å†…æœå¯»ã€åŠ å¿«ä¸Šæ‰‹é€Ÿåº¦ã€å¢å¼ºå±æ€§é¢æ¿ã€Creative Cloud Assetsæ”¹è‰¯åŠŸèƒ½ç­‰ç­‰ï¼Œæ€»ä¹‹åŠŸèƒ½æ›´åŠ çš„å¼ºå¤§ã€‚ 1ã€ç ´è§£å®‰è£…æ–¹æ³•â‘ ã€æ‰“å¼€dmgé•œåƒï¼ŒåŒå‡»â€œInstallâ€è¿›è¡Œå®‰è£…ï¼Œç™»é™†Adobe IDï¼ˆæ²¡æœ‰æ³¨å†Œä¸€ä¸ªï¼‰å®Œæˆå®‰è£…ï¼› â‘¡ã€è§£å‹ç¼©â€œAdobe Zii cc2017.zipâ€ï¼ŒåŒå‡»â€œAdobe Zii.appâ€ï¼Œç‚¹å‡»â€œPATCH OR DRAGâ€åæç¤ºâ€œCOMPLETEDâ€å®Œæˆç ´è§£ï¼›ï¼ˆå¦‚æœä¹‹å‰å®‰è£…äº†å…¶ä»–æ—§ç‰ˆæœ¬çš„Adobeè½¯ä»¶ï¼Œè¿™é‡Œå»ºè®®æ‹–æ‹½â€œPS CC 2017.appâ€åˆ°ç ´è§£è¡¥ä¸ä¸­çš„â€œPATCH OR DRAGâ€ä¸Šï¼Œå¦åˆ™ä¼šå¯¼è‡´æ—§ç‰ˆæœ¬å´©æºƒï¼) 2ã€ä¸‹è½½åœ°å€ â‘ ã€Adobe Photoshop CC 2017 Macä¸­æ–‡ç‰ˆä¸‹è½½ å¯†ç ï¼šcthe â‘¡ã€Adobe Zii 2.2 ç ´è§£è¡¥ä¸ä¸‹è½½ å¤‡æ³¨: 1ã€å®‰è£…Adobeç³»åˆ—çš„è½¯ä»¶æ—¶æ˜¾ç¤ºæ–‡ä»¶ç ´åæˆ–è€…æ–‡ä»¶ä¸å…¨çš„è§£å†³æ–¹æ¡ˆï¼šå¤§å®¶åˆ°Adobeæ–‡ä»¶ä¸­å³é”®ç¨‹åºæ˜¾ç¤ºåŒ…å†…å®¹â€”Contentsâ€”MacOSé‡Œç›´æ¥åŒå‡»â€œInstallâ€å³å¯ 2ã€å¦‚æœå¤§å®¶éœ€è¦åˆ‡æ¢ä¸­ã€è‹±æ–‡è¯­è¨€ï¼Œå¯ä»¥åˆ°â€œé¦–é€‰é¡¹â€â€”â€œç•Œé¢â€¦â€â€”â€œæ–‡æœ¬â€â€”â€œç”¨æˆ·ç•Œé¢è¯­è¨€â€ä¸­é€‰æ‹©ï¼Œé‡å¯ç”Ÿæ•ˆï¼ 3ã€ç³»ç»Ÿç‰ˆæœ¬è¦æ±‚ï¼šOS X 10.10 æˆ–æ›´é«˜ã€‚","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://www.gulj.cn/categories/å·¥å…·/"}],"tags":[{"name":"mac","slug":"mac","permalink":"http://www.gulj.cn/tags/mac/"}]},{"title":"Frp çš„ä»‹ç»ä½¿ç”¨ä¸å®‰è£…","slug":"Frp-çš„ä»‹ç»ä½¿ç”¨ä¸å®‰è£…","date":"2017-08-20T10:53:05.000Z","updated":"2019-02-14T07:07:12.860Z","comments":true,"path":"2017/08/20/Frp-çš„ä»‹ç»ä½¿ç”¨ä¸å®‰è£…/","link":"","permalink":"http://www.gulj.cn/2017/08/20/Frp-çš„ä»‹ç»ä½¿ç”¨ä¸å®‰è£…/","excerpt":"1ã€frp ä»‹ç» frp æ˜¯ä¸€ä¸ªå¯ç”¨äºå†…ç½‘ç©¿é€çš„é«˜æ€§èƒ½çš„åå‘ä»£ç†åº”ç”¨ï¼Œæ”¯æŒ tcp, udp, http, https åè®®ã€‚ 2ã€frp ä½œç”¨ åˆ©ç”¨å¤„äºå†…ç½‘æˆ–é˜²ç«å¢™åçš„æœºå™¨ï¼Œå¯¹å¤–ç½‘ç¯å¢ƒæä¾› http æˆ– https æœåŠ¡ã€‚ å¯¹äº http, https æœåŠ¡æ”¯æŒåŸºäºåŸŸåçš„è™šæ‹Ÿä¸»æœºï¼Œæ”¯æŒè‡ªå®šä¹‰åŸŸåç»‘å®šï¼Œä½¿å¤šä¸ªåŸŸåå¯ä»¥å…±ç”¨ä¸€ä¸ª80ç«¯å£ã€‚ åˆ©ç”¨å¤„äºå†…ç½‘æˆ–é˜²ç«å¢™åçš„æœºå™¨ï¼Œå¯¹å¤–ç½‘ç¯å¢ƒæä¾› tcp å’Œ udp æœåŠ¡ï¼Œä¾‹å¦‚åœ¨å®¶é‡Œé€šè¿‡ ssh è®¿é—®å¤„äºå…¬å¸å†…ç½‘ç¯å¢ƒå†…çš„ä¸»æœºã€‚","text":"1ã€frp ä»‹ç» frp æ˜¯ä¸€ä¸ªå¯ç”¨äºå†…ç½‘ç©¿é€çš„é«˜æ€§èƒ½çš„åå‘ä»£ç†åº”ç”¨ï¼Œæ”¯æŒ tcp, udp, http, https åè®®ã€‚ 2ã€frp ä½œç”¨ åˆ©ç”¨å¤„äºå†…ç½‘æˆ–é˜²ç«å¢™åçš„æœºå™¨ï¼Œå¯¹å¤–ç½‘ç¯å¢ƒæä¾› http æˆ– https æœåŠ¡ã€‚ å¯¹äº http, https æœåŠ¡æ”¯æŒåŸºäºåŸŸåçš„è™šæ‹Ÿä¸»æœºï¼Œæ”¯æŒè‡ªå®šä¹‰åŸŸåç»‘å®šï¼Œä½¿å¤šä¸ªåŸŸåå¯ä»¥å…±ç”¨ä¸€ä¸ª80ç«¯å£ã€‚ åˆ©ç”¨å¤„äºå†…ç½‘æˆ–é˜²ç«å¢™åçš„æœºå™¨ï¼Œå¯¹å¤–ç½‘ç¯å¢ƒæä¾› tcp å’Œ udp æœåŠ¡ï¼Œä¾‹å¦‚åœ¨å®¶é‡Œé€šè¿‡ ssh è®¿é—®å¤„äºå…¬å¸å†…ç½‘ç¯å¢ƒå†…çš„ä¸»æœºã€‚ 3ã€frp å®‰è£…( server ç«¯ ) frp : åˆ†ä¸ºServerç«¯å’ŒClientç«¯ è¯·æ ¹æ®è‡ªå·±çš„æœºå™¨ç³»ç»Ÿåˆ†åˆ«ä¸‹è½½æœ€æ–°ç¨³å®šçš„Frpç‰ˆæœ¬ ä¾‹å¦‚ï¼š æœåŠ¡ç«¯æ˜¯Linuxç³»ç»Ÿï¼Œ åˆ™ä¸‹è½½Linxç³»ç»Ÿå¯¹åº”çš„ç‰ˆæœ¬ï¼šfrp_0.13.0_linux_amd64.tar.gz å®¢æˆ·ç«¯æ˜¯Osxç³»ç»Ÿï¼Œåˆ™ä¸‹è½½Osxç³»ç»Ÿå¯¹åº”çš„ç‰ˆæœ¬ï¼šfrp_0.13.0_darwin_amd64.tar.gz Frpä¸‹è½½åœ°å€ï¼šfrp release å„ç§ç‰ˆæœ¬ä¸‹è½½ Server ç«¯ â‘ ã€å®‰è£…ä¸é…ç½®ä¿®æ”¹ frps.ini æ–‡ä»¶ï¼Œè¿™é‡Œä½¿ç”¨äº†æœ€ç®€åŒ–çš„é…ç½®ï¼š [common] bind_port = 7000 # ä¸å®¢æˆ·ç«¯é€šä¿¡æ¥å£ å»ºè®®ä¿æŒä¸å˜ dashboard_port = 7001 # dashboard ç«¯å£ æ§åˆ¶å°ç•Œé¢ç«¯å£ è‡ªå®šä¹‰ dashboard_user = test # dashboard æ§åˆ¶å°ç•Œé¢ ç”¨æˆ·å è‡ªå®šä¹‰ dashboard_pwd = test # dashboard æ§åˆ¶å°ç•Œé¢ å¯†ç  è‡ªå®šä¹‰ privilege_token = token # æƒé™token è‡ªå®šä¹‰ â‘¡ã€å¯åŠ¨nohup ./frps -c ./frps.ini &amp; Client ç«¯ â‘ ã€å®‰è£…ä¸é…ç½®ä¿®æ”¹ frpc.ini æ–‡ä»¶ï¼Œå‡è®¾ frps æ‰€åœ¨æœåŠ¡å™¨çš„å…¬ç½‘ IP ä¸º x.x.x.x [common] server_addr = x.x.x.x # æœåŠ¡å™¨çš„å…¬ç½‘Ip server_port = 7000 # ä¸æœåŠ¡ç«¯çš„ bind_port å€¼ ä¿æŒä¸€è‡´ dashboard_user = test # ä¸æœåŠ¡ç«¯çš„ dashboard_user å€¼ ä¿æŒä¸€è‡´ dashboard_pwd = test # ä¸æœåŠ¡ç«¯çš„ dashboard_pwd å€¼ ä¿æŒä¸€è‡´ privilege_token = token # ä¸æœåŠ¡ç«¯çš„ privilege_token å€¼ ä¿æŒä¸€è‡´ [ssh] type = tcp # é‡‡å–Tcpåè®® local_ip = 127.0.0.1 # æœ¬åœ°åœ°å€ local_port = 8083 # æ˜ å°„çš„æœ¬åœ°ç«¯å£ remote_port = 6000 # ä¸æœåŠ¡ç«¯è¿æ¥ç«¯å£ å¤‡æ³¨ï¼š 12345678nginx é…ç½®server &#123; listen 80; server_name localhost; location / &#123; proxy_pass http://æœåŠ¡å™¨IP:6000; &#125; &#125; ç®€æ˜“æµç¨‹å›¾å¦‚ä¸‹ï¼š â‘¡ã€å¯åŠ¨nohup ./frpc -c ./frpc.ini &amp;","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://www.gulj.cn/categories/å·¥å…·/"}],"tags":[{"name":"frp","slug":"frp","permalink":"http://www.gulj.cn/tags/frp/"}]},{"title":"ä½¿ç”¨ ShadowSocks åœ¨ VPS ä¸Šæ­å»º VPN","slug":"ä½¿ç”¨-ShadowSocks-åœ¨-VPS-ä¸Šæ­å»º-VPN","date":"2017-08-16T08:45:56.000Z","updated":"2019-02-14T07:07:13.522Z","comments":true,"path":"2017/08/16/ä½¿ç”¨-ShadowSocks-åœ¨-VPS-ä¸Šæ­å»º-VPN/","link":"","permalink":"http://www.gulj.cn/2017/08/16/ä½¿ç”¨-ShadowSocks-åœ¨-VPS-ä¸Šæ­å»º-VPN/","excerpt":"&nbsp;&nbsp;&nbsp;æˆ‘ä»¬éƒ½ä½¿ç”¨è¿‡å¾ˆå¤šå…è´¹çš„VPNå·¥å…·ï¼Œæ¯”å¦‚è“ç¯ï¼Œä½†æ˜¯ä½¿ç”¨æ•ˆæœå¹¶ä¸æ˜¯å¾ˆç†æƒ³ï¼Œè€Œä¸”æœ‰æµé‡é™åˆ¶ã€‚æœ‰çš„äººä¹Ÿä½¿ç”¨è¿‡ä¸€äº›æ”¶è´¹çš„VPNï¼Œæ¯”å¦‚ï¼šAstrillï¼Œé±¼æ‘†æ‘†ç­‰ç­‰ã€‚è™½ç„¶ä»·æ ¼å¹¶ä¸æ˜¯å¾ˆé«˜ï¼Œä½†æ˜¯è¿˜æ˜¯æœ‰ä¸€å®šçš„è´¹ç”¨ï¼Œè€Œä¸”æœ‰çš„è¿˜æœ‰å¤šç”¨æˆ·é™åˆ¶ã€‚æ€»ä¹‹ä¸ç®¡æ”¶è´¹çš„ï¼Œå…è´¹çš„ï¼Œæˆ–å¤šæˆ–å°‘æˆ‘ä»¬åœ¨ä½¿ç”¨çš„è¿‡ç¨‹ä¸­æœ‰äº›ä¸çˆ½ï¼Œä»Šå¤©ç¬”è€…ä¸ºå¤§å®¶å¸¦æ¥åœ¨è‡ªå·±çš„VPSä¸Šæ­å»ºä¸€å¥—VPNï¼Œæƒ³æ€ä¹ˆç”¨å°±æ€ä¹ˆç”¨ï¼Œè¯ä¸å¤šè¯´ï¼Œç›´å¥”ä¸»é¢˜ã€‚","text":"&nbsp;&nbsp;&nbsp;æˆ‘ä»¬éƒ½ä½¿ç”¨è¿‡å¾ˆå¤šå…è´¹çš„VPNå·¥å…·ï¼Œæ¯”å¦‚è“ç¯ï¼Œä½†æ˜¯ä½¿ç”¨æ•ˆæœå¹¶ä¸æ˜¯å¾ˆç†æƒ³ï¼Œè€Œä¸”æœ‰æµé‡é™åˆ¶ã€‚æœ‰çš„äººä¹Ÿä½¿ç”¨è¿‡ä¸€äº›æ”¶è´¹çš„VPNï¼Œæ¯”å¦‚ï¼šAstrillï¼Œé±¼æ‘†æ‘†ç­‰ç­‰ã€‚è™½ç„¶ä»·æ ¼å¹¶ä¸æ˜¯å¾ˆé«˜ï¼Œä½†æ˜¯è¿˜æ˜¯æœ‰ä¸€å®šçš„è´¹ç”¨ï¼Œè€Œä¸”æœ‰çš„è¿˜æœ‰å¤šç”¨æˆ·é™åˆ¶ã€‚æ€»ä¹‹ä¸ç®¡æ”¶è´¹çš„ï¼Œå…è´¹çš„ï¼Œæˆ–å¤šæˆ–å°‘æˆ‘ä»¬åœ¨ä½¿ç”¨çš„è¿‡ç¨‹ä¸­æœ‰äº›ä¸çˆ½ï¼Œä»Šå¤©ç¬”è€…ä¸ºå¤§å®¶å¸¦æ¥åœ¨è‡ªå·±çš„VPSä¸Šæ­å»ºä¸€å¥—VPNï¼Œæƒ³æ€ä¹ˆç”¨å°±æ€ä¹ˆç”¨ï¼Œè¯ä¸å¤šè¯´ï¼Œç›´å¥”ä¸»é¢˜ã€‚ æœ¬æ–‡ä»¥VPSï¼ˆCentos7ï¼‰ä¸ºä¾‹å­å‡è®¾ä½ å·²ç»æœ‰ä¸€å°VPSï¼Œå…¬ç½‘IPä¸ºï¼š46.18.171.153 å¦‚æœæ²¡æœ‰ç¬”è€…å¯ä»¥æ¨èè´­ä¹°Linodeï¼Œvultrï¼Œé˜¿é‡Œäº‘ï¼ˆå›½å†…ç‰ˆï¼Œå›½é™…ç‰ˆã€é˜¿é‡Œäº‘å›½é™…ç‰ˆæœ‰ç‚¹å°éº»çƒ¦å“¦ï¼Œæ”¹å¤©ç¬”è€…å¯ä»¥å†™ä¸€ç¯‡ï¼Œåˆ†äº«ç»™å¤§å®¶ã€‘ï¼‰ 1ã€åœ¨VPSä¸Šå®‰è£… shadowsocks-libevï¼ˆ Server ç«¯ ï¼‰â‘ ã€è·å– shadowsocks-libev æºä»£ç 123git clone https://github.com/shadowsocks/shadowsocks-libev.gitcd shadowsocks-libevgit submodule update --init --recursive â‘¡ã€å¯¹æºç è¿›è¡Œæ„å»º12yum install epel-release -yyum install gcc gettext autoconf libtool automake make pcre-devel asciidoc xmlto udns-devel libev-devel libsodium-devel mbedtls-devel -y â‘¢ã€ä¸‹è½½yumæºï¼Œå¹¶é…ç½®æ”¾å…¥åœ¨ /etc/yum.repos.d/ ç›®å½•ä¸‹ ä¸‹è½½åœ°å€ï¼š shadowsocks repo â‘£ã€å®‰è£… shadowsocks-libev12su -c 'yum update'su -c 'yum install shadowsocks-libev' â‘£ã€æµ‹è¯• shadowsocks-libev æ˜¯å¦æ­£ç¡®å®‰è£…åœ¨ç»ˆç«¯è¾“å…¥ï¼šss å‘½ä»¤ï¼ŒæŒ‰Tabé”®çœ‹åˆ°ä»¥ä¸‹ï¼Œè¯´æ˜å®‰è£…æˆåŠŸ 123[root@izt4nax70m2dsl3yoh6uxlz ~]# ssss ssh ssh-agent sshd ssh-keygen ss-local ss-manager ss-redir ss-tunnelsserver ssh-add ssh-copy-id sshd-keygen ssh-keyscan ssltap ss-nat ss-server â‘¤ã€é…ç½® shadowsocks-libevï¼Œç¼–è¾‘ /etc/shadowsocks-libev/config.json æ–‡ä»¶12345678&#123; \"server\":\"0.0.0.0\", # ç›‘å¬æ‰€æœ‰çš„ç«¯å£ \"server_port\":2020, # æŒ‡å®šserverç«¯å£ï¼Œè‡ªå®šä¹‰ \"local_port\":1080, # æŒ‡å®šæœ¬åœ°ç«¯å£ï¼Œé»˜è®¤ \"password\":\"xxx\", # é…ç½®å¯†ç  \"timeout\":60, \"method\":\"rc4-md5\" # åŠ å¯†æ–¹å¼ &#125; â‘¥ã€å¯åŠ¨ shadowsocks-libevå¯åŠ¨: 1nuhup ss-server &amp; # åå°å¯åŠ¨ æŸ¥çœ‹æ˜¯å¦æˆåŠŸå¯åŠ¨:123[root@izt4nax70m2dsl3yoh6uxlz ~]# ps -ef | grep ss-serverroot 14046 1 0 Aug10 ? 00:00:12 ss-serverroot 32356 32306 0 17:46 pts/0 00:00:00 grep --color=auto ss-server å¤‡æ³¨: å…¶å®ƒVPSç³»ç»Ÿ shadowsocks-libev å®‰è£…ä»¥åŠè¯¦ç»†é…ç½®è¯·å‚è€ƒåœ°å€ï¼š shadowsocks-libev å…¶å®ƒç³»ç»Ÿå®‰è£…ä»¥åŠè¯¦ç»†é…ç½® 2ã€shadowsocks å®¢æˆ·ç«¯å®‰è£…ä¸ä½¿ç”¨ï¼ˆ Client ç«¯ ï¼‰â‘ ã€ä¸‹è½½ ShadowsocksX-NG ï¼Œå¹¶å®‰è£…ï¼Œè§£å‹ç›´æ¥æ‰“å¼€ ä¸‹è½½åœ°å€ï¼š ShadowsocksX-NG.1.5.1.zip â‘¡ã€å®¢æˆ·ç«¯ï¼ŒæœåŠ¡å™¨é…ç½®ç‚¹å‡»å®¢æˆ·ç«¯å›¾æ ‡â€”â€”&gt;æœåŠ¡å™¨â€”â€”&gt;æœåŠ¡å™¨è®¾ç½® é€‰æ‹© + å·æ·»åŠ ä¸€å°æœåŠ¡å™¨ï¼Œé…ç½®å‚æ•°å¦‚ä¸‹ï¼š å¤‡æ³¨ï¼š 1ã€åœ°å€: å¡«å†™ä½ VPSå…¬ç½‘çš„IP 2ã€ç«¯å£: æ˜¯ä½ åœ¨ /etc/shadowsocks-libev/config.json ä¸­é…ç½®çš„ server_port ä¸­çš„ç«¯å£ 3ã€å¯†ç : æ˜¯ä½ åœ¨ /etc/shadowsocks-libev/config.json ä¸­é…ç½®çš„ password ä¸­çš„å¯†ç  4ã€åŠ å¯†æ–¹å¼: æ˜¯ä½ åœ¨ /etc/shadowsocks-libev/config.json ä¸­é…ç½®çš„ method ä¸­çš„åŠ å¯†æ–¹å¼ â‘¢ã€å®¢æˆ·ç«¯è®¾ç½®å¼€å¯å…¨å±€æ¨¡å¼ å¤‡æ³¨ï¼š &nbsp;PACè‡ªåŠ¨æ¨¡å¼ã€å…¨å±€æ¨¡å¼ã€æ‰‹åŠ¨æ¨¡å¼ä¸‰ç§æ¨¡å¼ä¸»è¦åŒºåˆ«ï¼Œä¾›å¤§å®¶å‚è€ƒé€‰æ‹© 1ã€PACè‡ªåŠ¨æ¨¡å¼: å¯ä¿è¯æ‰€æœ‰æµè§ˆå™¨éƒ½èƒ½å¤Ÿä½¿ç”¨ä»£ç†ï¼Œå’Œè®¿é—®ä½ ä»¬å…¬å¸å†…ç½‘ 2ã€å…¨å±€æ¨¡å¼: å¯ä¿è¯æ‰€æœ‰æµè§ˆå™¨èƒ½å¤Ÿä½¿ç”¨ä»£ç†ï¼Œä½†ä¸èƒ½è®¿é—®å…¬å¸å†…ç½‘ 3ã€æ‰‹åŠ¨æ¨¡å¼: ä»…ä»…é€‚ç”¨äºæŒ‡å®šæµè§ˆå™¨ï¼ˆé…å¥—çš„æ’ä»¶ï¼šå¦‚ Chrome æµè§ˆå™¨çš„ï¼šSwitchyOmega æ’ä»¶ï¼‰ èƒ½å¤Ÿä½¿ç”¨ä»£ç†å’Œè®¿é—®å…¬å¸å†…ç½‘ï¼Œä¸‹æ–‡å°†ä¼šä»‹ç»ã€‚ â‘£ã€æµ‹è¯•VPNæ­å»ºæ˜¯å¦æˆåŠŸ1ã€ Google ä¸€ä¸‹ å¤‡æ³¨ï¼šå¦‚æœGoogleä¸äº†ï¼Œå¯èƒ½åŸå› å¦‚ä¸‹ 1ã€é¦–å…ˆç¡®ä¿å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„é…ç½®å‚æ•°ä¸€è‡´ 2ã€è´­ä¹°æ—¶å€™çš„VPSå®‰å…¨ç»„è§„åˆ™ï¼Œæ²¡æœ‰å¼€å¯ç›¸åº”çš„ç«¯å£ 3ã€VPSä¸Šé˜²ç«å¢™ä»¥åŠç›¸å…³ç«¯å£æ²¡æœ‰å¼€å¯é—®é¢˜ 3ã€shadowsocks å®¢æˆ·ç«¯ç®¡ç†å·¥å…·Googleæ’ä»¶SwitchyOmegaå®‰è£…ä¸ä½¿ç”¨ï¼ˆ å¯é€‰æ‹© â‘ ã€å®‰è£…å¤§å®¶åœ¨gooleå•†åº—é‡Œè‡ªè¡ŒGoogleæ£€ç´¢è¯ SwitchyOmega æ·»åŠ åˆ°æ‰©å±•ç¨‹åºé‡Œ â‘ ã€æƒ…æ™¯æ¨¡å¼ï¼š proxy é€‰é¡¹é…ç½®ç‚¹å‡» SwitchyOmega é€‰é¡¹ æŒ‰é’® æ‰“å¼€ SwitchyOmega çš„é…ç½®ç•Œé¢ï¼Œæ‰¾åˆ°æƒ…æ™¯æ¨¡å¼æ¨¡å—ä¸‹çš„ proxy é€‰é¡¹å¦‚å›¾ï¼š è¯´æ˜ï¼š 1ã€ä»£ç†åè®®: SOCKET5 2ã€ä»£ç†æœåŠ¡å™¨: å†™æœ¬æœºï¼ˆ127.0.0.1ï¼‰ 3ã€ä»£ç†ç«¯å£: å’ŒæœåŠ¡ç«¯ /etc/shadowsocks-libev/config.json æ–‡ä»¶ä¸­çš„ local_port å€¼ä¿æŒä¸€è‡´ â‘¡ã€æƒ…æ™¯æ¨¡å¼ï¼š auto switch è¯´æ˜ï¼š åœ¨åˆ‡æ¢è§„åˆ™æ ç›®ä¸‹ï¼Œä½ å¯ä»¥æ·»åŠ æ­£åˆ™åŒ¹é…å“ªäº›åŸŸåèµ°ç›´è¿ï¼Œå’Œä»£ç†;å¦‚æœè§‰å¾—è¿™æ ·éº»çƒ¦ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è§„åˆ™åˆ—è¡¨è®¾ç½®é‡Œé¢ï¼Œ é€šè¿‡æ·»åŠ è§„åˆ™ç½‘å€(https://raw.githubusercontent.com/gfwlist/gfwlist/master/gfwlist.txt)ï¼Œ ä¸ºæˆ‘ä»¬ç”Ÿæˆä¸€äº›å¸¸ç”¨çš„è§„å¾‹åˆ—è¡¨ï¼Œï¼ˆè¯·æ³¨æ„è§„åˆ™åˆ—è¡¨è§„åˆ™è¦é€‰æ‹©Proxyæ¨¡å¼ï¼Œå¦åˆ™ä¸èµ·ä½œç”¨ï¼‰","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://www.gulj.cn/categories/å·¥å…·/"}],"tags":[{"name":"vpn","slug":"vpn","permalink":"http://www.gulj.cn/tags/vpn/"}]},{"title":"Macç”¨æˆ·ä½¿ç”¨ Aria2GUI ç»•è¿‡ç™¾åº¦ç½‘ç›˜æ»¡é€Ÿä¸‹è½½","slug":"Aria2GUI-ç»•è¿‡ç™¾åº¦ç½‘ç›˜æ»¡é€Ÿä¸‹è½½","date":"2017-08-15T18:15:07.000Z","updated":"2019-02-14T07:07:12.858Z","comments":true,"path":"2017/08/16/Aria2GUI-ç»•è¿‡ç™¾åº¦ç½‘ç›˜æ»¡é€Ÿä¸‹è½½/","link":"","permalink":"http://www.gulj.cn/2017/08/16/Aria2GUI-ç»•è¿‡ç™¾åº¦ç½‘ç›˜æ»¡é€Ÿä¸‹è½½/","excerpt":"åˆ†äº«ä¸€ä¸‹Macç”¨æˆ·ä½¿ç”¨æœ€æ–°çš„ Aria2GUI ç»•è¿‡ç™¾åº¦ç½‘ç›˜ä¸‹è½½çš„æ–¹æ³•ä¸€ã€æ“ä½œæµç¨‹ 1.ä¸‹è½½Aria2GUIä¸»ç¨‹åºï¼Œè§£å‹ç¼©æ‹–æ‹½â€œAria2GUI.appâ€åˆ°åº”ç”¨ç¨‹åºå®Œæˆå®‰è£…","text":"åˆ†äº«ä¸€ä¸‹Macç”¨æˆ·ä½¿ç”¨æœ€æ–°çš„ Aria2GUI ç»•è¿‡ç™¾åº¦ç½‘ç›˜ä¸‹è½½çš„æ–¹æ³•ä¸€ã€æ“ä½œæµç¨‹ 1.ä¸‹è½½Aria2GUIä¸»ç¨‹åºï¼Œè§£å‹ç¼©æ‹–æ‹½â€œAria2GUI.appâ€åˆ°åº”ç”¨ç¨‹åºå®Œæˆå®‰è£… 2.ä¸‹è½½å¹¶è§£å‹ç¼©Chromeæ–‡ä»¶å¤¹æ”¾ç½®ä»»æ„ä½ç½®ï¼ˆä»¥åå‹¿åˆ ï¼‰ï¼› 3.æ‰“å¼€Chromeæµè§ˆå™¨ï¼Œç‚¹å‡»åå¥½è®¾ç½®â€”æ‰©å±•ç¨‹åºâ€”å‹¾ä¸Šâ€œå¼€å‘è€…æ¨¡å¼â€â€”ç‚¹å‡»â€œåŠ è½½å·²è§£å‹çš„æ‰©å±•ç¨‹åºâ€é€‰æ‹©ç¬¬äºŒæ­¥ä¸‹è½½çš„Chromeæ–‡ä»¶å¤¹ï¼› 4.æ‰“å¼€éœ€è¦ä¸‹è½½çš„ç™¾åº¦äº‘ç›˜é“¾æ¥ï¼ŒChromeæµè§ˆå™¨æç¤ºâ€œåˆå§‹åŒ–å®Œæˆâ€å¹¶å‡ºç°â€œå¯¼å‡ºé€‰é¡¹â€â€”â€œARIA2 RPCâ€ï¼ŒåŒæ—¶æ‰“å¼€åº”ç”¨ç¨‹åºä¸­çš„â€œAria2GUI.appâ€å³å¯è‡ªåŠ¨å®ç°ç»•è¿‡ç™¾åº¦ç›˜æ…¢é€Ÿä¸‹è½½ï¼Œé»˜è®¤ä¸‹è½½è·¯å¾„åœ¨ä¸‹è½½ç›®å½•ä¸­ï¼› 5.å®Œæˆ äºŒã€ä¸‹è½½åœ°å€ 1ã€Aria2GUI 1.2.8 for Macä¸‹è½½ 2ã€Chromeæœ€æ–°æ’ä»¶ä¸‹è½½ å¤‡æ³¨ï¼šè¯¥å·¥å…·åªé€‚åˆChromeæµè§ˆå™¨","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://www.gulj.cn/categories/å·¥å…·/"}],"tags":[{"name":"mac","slug":"mac","permalink":"http://www.gulj.cn/tags/mac/"}]},{"title":"Hexo åšå®¢é…ç½®","slug":"hexo-åšå®¢é…ç½®","date":"2017-08-15T07:34:40.000Z","updated":"2019-02-14T07:07:12.865Z","comments":true,"path":"2017/08/15/hexo-åšå®¢é…ç½®/","link":"","permalink":"http://www.gulj.cn/2017/08/15/hexo-åšå®¢é…ç½®/","excerpt":"æ·»åŠ RSSå’ŒSitemapnpmå®‰è£…æ’ä»¶1$ npm install hexo-generator-feed --save","text":"æ·»åŠ RSSå’ŒSitemapnpmå®‰è£…æ’ä»¶1$ npm install hexo-generator-feed --save é…ç½®æ ¹ç›®å½•_config.yml12345678910# Extensions## Plugins: http://hexo.io/plugins/#RSSè®¢é˜…plugin:- hexo-generator-feed#Feed Atomfeed:type: atompath: atom.xmllimit: 20 æ·»åŠ Gitéƒ¨ç½²æ’ä»¶ï¼Œéƒ¨ç½²åˆ°GitHubçš„ä»“åº“1$ npm install hexo-deployer-git --save æ·»åŠ ä¸è’œå­ç»Ÿè®¡ï¼ˆç»Ÿè®¡æ–‡ç« é˜…è¯»æ•°ï¼Œç«™ç‚¹è®¿å®¢æ•°ï¼Œè®¿é—®é‡ï¼‰ http://ibruce.info/2015/04/04/busuanzi/","categories":[],"tags":[{"name":"hexo","slug":"hexo","permalink":"http://www.gulj.cn/tags/hexo/"}]}]}