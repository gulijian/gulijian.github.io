<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>å°ç™½ç¨‹åºä¹‹è·¯</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://www.gulj.cn/"/>
  <updated>2019-03-10T12:21:08.706Z</updated>
  <id>http://www.gulj.cn/</id>
  
  <author>
    <name>é¡¾ç«‹å‰‘</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Javaç‰ˆ-æ•°æ®ç»“æ„-æ•°ç»„</title>
    <link href="http://www.gulj.cn/2019/03/10/Java%E7%89%88-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E6%95%B0%E7%BB%84/"/>
    <id>http://www.gulj.cn/2019/03/10/Javaç‰ˆ-æ•°æ®ç»“æ„-æ•°ç»„/</id>
    <published>2019-03-10T12:19:33.000Z</published>
    <updated>2019-03-10T12:21:08.706Z</updated>
    
    <content type="html"><![CDATA[<h4 id="æ•°ç»„çŸ¥è¯†ç‚¹å›é¡¾"><a href="#æ•°ç»„çŸ¥è¯†ç‚¹å›é¡¾" class="headerlink" title="æ•°ç»„çŸ¥è¯†ç‚¹å›é¡¾"></a>æ•°ç»„çŸ¥è¯†ç‚¹å›é¡¾</h4><p>å£°æ˜Javaæ•°ç»„æ—¶ï¼Œä¼šåœ¨å†…å­˜ä¸­å¼€è¾Ÿä¸€å—è¿ç»­æŒ‡å®šå¤§å°çš„ç©ºé—´ï¼Œç”¨æ¥å­˜å‚¨å›ºå®šå¤§å°çš„åŒç±»å‹å…ƒç´ </p><p>åœ¨javaä¸­å®šä¹‰ä¸ªåä¸ºscoresï¼Œé•¿åº¦ä¸º8ï¼Œç±»å‹ä¸ºintç±»å‹çš„æ•°ç»„å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span>[] scores = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">8</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><a id="more"></a><p>ä¸ºäº†ä¾¿äºç†è§£ï¼Œæˆ‘ä»¬çœ‹ä¸‹å®ƒåœ¨å†…å­˜çš„ä¸­çš„åˆ†å¸ƒç¤ºæ„å›¾ï¼š</p><p><img src="https://blog-whiteontheroad-1256169749.cos.ap-shanghai.myqcloud.com/img/blog-20190310/image-20190310020605094.png" alt="1"></p><p>å›¾ä¸­çš„ä¸€ä¸ªä¸ªå°æ ¼å­æ˜¯ç”¨æ¥å­˜æ”¾æ•°ç»„çš„å…ƒç´ ï¼Œå°æ ¼å­ä¸Šæ–¹çš„<code>0-7</code>æ•°å­—ï¼Œæ˜¯æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ çš„ä¸‹æ ‡ï¼ˆä¹Ÿå¯ä»¥å«ç´¢å¼•ï¼‰ï¼Œå¦‚æœæˆ‘ä»¬è¦æŸ¥è¯¢æ•°ç»„ä¸­æŒ‡å®šä½ç½®çš„å…ƒç´ ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡<code>æ•°ç»„å[ç´¢å¼•]</code>æ¥è·å–ï¼Œæ¯”å¦‚å›¾ä¸­çš„<code>scores[2]</code></p><p>åœ¨å›¾ä¸­æˆ‘ä»¬è¿˜å¯ä»¥çœ‹åˆ°ï¼Œæ•°ç»„çš„èµ·å§‹ä¸‹æ ‡æ˜¯ä»<code>0</code>å¼€å§‹çš„ï¼ˆä¹Ÿå°±æ˜¯ç¬¬ä¸€ä¸ªå…ƒç´ ï¼‰ï¼Œæœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹æ ‡æ˜¯<code>7</code>(ä¹Ÿå°±æ˜¯æ•°ç»„çš„é•¿åº¦<code>8</code>å‡<code>1</code>)ç”±æ­¤ç±»æ¨ï¼Œæ•°ç»„é•¿åº¦è‹¥æ˜¯<code>n</code>ï¼Œé‚£ä¹ˆæ•°ç»„æœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹æ ‡æ˜¯<code>n-1</code>ï¼ˆæ•°ç»„çš„èµ·å§‹ä¸‹æ ‡æ€»æ˜¯ä»<code>0</code>å¼€å§‹çš„ï¼‰</p><blockquote><p>å„ä½ä¸è¦é—²å” å¨å“ˆï¼Œä¸ºäº†ç…§é¡¾æ‰€æœ‰äººï¼ˆå…¶å®æˆ‘çš„å†…å¿ƒæ˜¯å¾ˆçº ç»“çš„ã€‚ã€‚ã€‚ğŸ˜†ï¼‰</p></blockquote><h4 id="è‡ªå®šä¹‰æ•°ç»„ç±»"><a href="#è‡ªå®šä¹‰æ•°ç»„ç±»" class="headerlink" title="è‡ªå®šä¹‰æ•°ç»„ç±»"></a>è‡ªå®šä¹‰æ•°ç»„ç±»</h4><h5 id="æ€è·¯åˆ†æ"><a href="#æ€è·¯åˆ†æ" class="headerlink" title="æ€è·¯åˆ†æ"></a>æ€è·¯åˆ†æ</h5><p>ä½¿ç”¨<code>data</code>å±æ€§è¡¨ç¤ºå­˜æ”¾æ•°ç»„çš„å…ƒç´ ï¼Œ</p><p>ä½¿ç”¨<code>capacity</code>å±æ€§è¡¨ç¤ºæ•°ç»„çš„å®¹é‡ï¼ˆç­‰ä»·äºæ•°ç»„çš„é•¿åº¦ï¼‰ï¼Œä½†æ˜¯çœŸæ­£è‡ªå®šä¹‰æ•°ç»„ç±»çš„æ—¶å€™æˆ‘ä»¬ä¸éœ€è¦æ˜¾ç¤ºå£°æ˜ï¼Œå› ä¸ºéšç¤ºç­‰ä»·äºï¼ˆ<code>Array.length</code>ï¼‰</p><p>ä½¿ç”¨<code>size</code>å±æ€§è¡¨ç¤ºæ•°ç»„ä¸­çœŸæ­£å­˜æ”¾å…ƒç´ çš„ä¸ªæ•°ï¼ˆæ³¨æ„å’Œ<code>capacity</code>æ¦‚å¿µçš„åŒºåˆ†ï¼‰ã€‚</p><p>æˆ‘ä»¬ç”»å‡ºç¤ºæ„å›¾ï¼š</p><p><img src="https://blog-whiteontheroad-1256169749.cos.ap-shanghai.myqcloud.com/img/blog-20190310/image-20190310023248174.png" alt="image-20190310023248174"></p><p>ä¸‹é¢æˆ‘ä»¬æ¥å®Œæˆåˆå§‹ä»£ç </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArrayExample</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å­˜æ”¾æ•°ç»„çš„å…ƒç´ </span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> data[];</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ•°ç»„ä¸­å…ƒç´ çš„ä¸ªæ•°</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> size;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ ¹æ®æŒ‡å®šcapacityå®¹é‡åˆå§‹åŒ–æ•°ç»„</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> capacity å®¹é‡</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ArrayExample</span><span class="params">(<span class="keyword">int</span> capacity)</span> </span>&#123;</span><br><span class="line">        data = <span class="keyword">new</span> <span class="keyword">int</span>[capacity];</span><br><span class="line">        size = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ— å‚æ„é€ å‡½æ•°ï¼ŒæŒ‡å®šé»˜è®¤æ•°ç»„å®¹é‡capacity=10</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ArrayExample</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>(<span class="number">10</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è·å–æ•°ç»„ä¸­å…ƒç´ çš„ä¸ªæ•°</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getSize</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> size;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è·å–æ•°ç»„å®¹é‡</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getCapacity</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> data.length;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å‘æ•°ç»„ä¸­æ·»åŠ å…ƒç´ "><a href="#å‘æ•°ç»„ä¸­æ·»åŠ å…ƒç´ " class="headerlink" title="å‘æ•°ç»„ä¸­æ·»åŠ å…ƒç´ "></a>å‘æ•°ç»„ä¸­æ·»åŠ å…ƒç´ </h4><h5 id="å‘æŒ‡å®šä½ç½®æ·»åŠ å…ƒç´ "><a href="#å‘æŒ‡å®šä½ç½®æ·»åŠ å…ƒç´ " class="headerlink" title="å‘æŒ‡å®šä½ç½®æ·»åŠ å…ƒç´ "></a>å‘æŒ‡å®šä½ç½®æ·»åŠ å…ƒç´ </h5><p>å‡è®¾ç°åœ¨æ•°ç»„çš„å½¢æ€æ˜¯è¿™æ ·ï¼Œæˆ‘ä»¬éœ€è¦å°†<code>77</code>å…ƒç´ æ’å…¥åˆ°ç´¢å¼•ä¸º<code>1</code>çš„ä½ç½®</p><p><img src="https://blog-whiteontheroad-1256169749.cos.ap-shanghai.myqcloud.com/img/blog-20190310/image-20190310030112445.png" alt="image-20190310030112445"></p><p><strong>æ€è·¯åˆ†æ</strong>ï¼šæŠŠå½“å‰ç´¢å¼•ä¸º<code>1</code>çš„ä½ç½®å…ƒç´ ä»¥åŠåé¢çš„å…ƒç´ éƒ½å‘åæŒªä¸€ä¸ªä½ç½®ï¼Œç„¶åå°†<code>77</code>è¿™ä¸ªå…ƒç´ æ”¾åˆ°ç´¢å¼•ä¸º<code>1</code>çš„ä½ç½®ï¼ˆæ³¨æ„ï¼šæŒªä½ç½®çš„æ—¶å€™ï¼Œæˆ‘ä»¬åº”è¯¥ä»æœ€åä¸€ä¸ªå…ƒç´ <code>100</code>å‘åæŒªä¸€ä¸ªä½ç½®ï¼Œæ¢å¥è¯è¯´ä»åå¾€å‰æŒªï¼‰ï¼Œå®Œæˆä¹‹åï¼Œç»´æŠ¤ä¸€ä¸‹<code>size</code>çš„ç´¢å¼•ï¼Œè¿›è¡Œ<code>size++</code>æ“ä½œï¼ˆ<code>size</code>æ˜¯å§‹ç»ˆæŒ‡å‘æ•°ç»„ä¸­ä¸‹ä¸€ä¸ªæ²¡æœ‰å…ƒç´ çš„ä½ç½®ï¼‰</p><p><img src="https://blog-whiteontheroad-1256169749.cos.ap-shanghai.myqcloud.com/img/blog-20190310/image-20190310031102611.png" alt="image-20190310031102611"></p><p>ä¸‹é¢æˆ‘ä»¬åŸºäºå‰é¢å†™çš„ä»£ç ï¼Œæ¥å®Œæˆæ•°ç»„å…ƒç´ çš„æ·»åŠ æ“ä½œ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * åœ¨indexä½ç½®æ’å…¥å…ƒç´ </span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span> index   æŒ‡å®šç´¢å¼•</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span> element æ’å…¥çš„å…ƒç´ </span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> index, <span class="keyword">int</span> element)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// ç®€å•çš„è¾¹ç•Œåˆ¤æ–­</span></span><br><span class="line">    <span class="keyword">if</span> (size == data.length) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"æ•°ç»„æ·»åŠ å¤±è´¥ï¼Œæ•°ç»„å·²æ»¡"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (index &lt; <span class="number">0</span> || index &gt; size) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"indexç´¢å¼•ä¸åˆæ³•"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä»æœ€åä¸€ä¸ªå…ƒç´ ä¸€ç›´åˆ°sizeä½ç½®çš„å…ƒç´ ï¼Œå¾€åæŒªåŠ¨ä¸€ä½</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = size - <span class="number">1</span>; i &gt;= index; i--) &#123;</span><br><span class="line">        data[i + <span class="number">1</span>] = data[i];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä½ç½®èµ‹å€¼</span></span><br><span class="line">    data[index] = element;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç»´æŠ¤sizeå¤§å°</span></span><br><span class="line">    size++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>ç”±äºæ–¹é¢å¤§å®¶æŸ¥çœ‹ï¼Œåªè´´å‡ºæ·»åŠ æ•°ç»„å…ƒç´ çš„ä»£ç ï¼Œæœ¬æ–‡æ–‡æœ«ï¼Œä¼šè´´å‡ºå®Œæˆçš„ä»£ç ç¤ºä¾‹åœ°å€</p></blockquote><p>ç°åœ¨å¦‚æœæˆ‘ä»¬æƒ³æŠŠä¸€ä¸ªå…ƒç´ æ·»åŠ åˆ°æ•°ç»„å¤´éƒ¨çš„ä½ç½®æˆ–è€…å°¾éƒ¨çš„ä½ç½®ï¼Œæˆ‘ä»¬å¯ä»¥è¿™ä¹ˆåš</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * å‘æ•°ç»„å¤´çš„ä½ç½®æ·»åŠ å…ƒç´ </span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span> element å…ƒç´ </span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addFirst</span><span class="params">(<span class="keyword">int</span> element)</span> </span>&#123;</span><br><span class="line">    add(<span class="number">0</span>, element);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * å‘æ•°ç»„å°¾çš„ä½ç½®æ·»åŠ å…ƒç´ </span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span> element å…ƒç´ </span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addLast</span><span class="params">(<span class="keyword">int</span> element)</span> </span>&#123;</span><br><span class="line">    add(size, element);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>å¤§å®¶ä¸€å®šè¦æ³¨é‡ä»£ç çš„å¤ç”¨æ€§å“ˆ</p></blockquote><h4 id="æŸ¥è¯¢æ•°ç»„å…ƒç´ å’Œä¿®æ”¹æ•°ç»„å…ƒç´ "><a href="#æŸ¥è¯¢æ•°ç»„å…ƒç´ å’Œä¿®æ”¹æ•°ç»„å…ƒç´ " class="headerlink" title="æŸ¥è¯¢æ•°ç»„å…ƒç´ å’Œä¿®æ”¹æ•°ç»„å…ƒç´ "></a>æŸ¥è¯¢æ•°ç»„å…ƒç´ å’Œä¿®æ”¹æ•°ç»„å…ƒç´ </h4><h5 id="æŸ¥è¯¢æ•°ç»„å…ƒç´ "><a href="#æŸ¥è¯¢æ•°ç»„å…ƒç´ " class="headerlink" title="æŸ¥è¯¢æ•°ç»„å…ƒç´ "></a>æŸ¥è¯¢æ•°ç»„å…ƒç´ </h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * è·å–indexç´¢å¼•ä½ç½®çš„å…ƒç´ </span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span> index ç´¢å¼•</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">get</span><span class="params">(<span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (index &lt; <span class="number">0</span> || index &gt;= size) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"è·å–å¤±è´¥ï¼Œç´¢å¼•ä¸åˆæ³•"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> data[index];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="ä¿®æ”¹æ•°ç»„å…ƒç´ "><a href="#ä¿®æ”¹æ•°ç»„å…ƒç´ " class="headerlink" title="ä¿®æ”¹æ•°ç»„å…ƒç´ "></a>ä¿®æ”¹æ•°ç»„å…ƒç´ </h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * ä¿®æ”¹indexç´¢å¼•ä½ç½®çš„å…ƒç´ ä¸ºelement</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span> index   ç´¢å¼•</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span> element å…ƒç´ </span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">set</span><span class="params">(<span class="keyword">int</span> index, <span class="keyword">int</span> element)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (index &lt; <span class="number">0</span> || index &gt;= size) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"è·å–å¤±è´¥ï¼Œç´¢å¼•ä¸åˆæ³•"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    data[index] = element;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="åŒ…å«æ•°ç»„å…ƒç´ å’Œæœç´¢æ•°ç»„å…ƒç´ "><a href="#åŒ…å«æ•°ç»„å…ƒç´ å’Œæœç´¢æ•°ç»„å…ƒç´ " class="headerlink" title="åŒ…å«æ•°ç»„å…ƒç´ å’Œæœç´¢æ•°ç»„å…ƒç´ "></a>åŒ…å«æ•°ç»„å…ƒç´ å’Œæœç´¢æ•°ç»„å…ƒç´ </h4><h5 id="åŒ…å«æ•°ç»„å…ƒç´ "><a href="#åŒ…å«æ•°ç»„å…ƒç´ " class="headerlink" title="åŒ…å«æ•°ç»„å…ƒç´ "></a>åŒ…å«æ•°ç»„å…ƒç´ </h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * æŸ¥æ‰¾æ•°ç»„ä¸­æ˜¯å¦æœ‰å…ƒç´ element</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span> element</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">contains</span><span class="params">(<span class="keyword">int</span> element)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> Arrays.stream(data).filter(x -&gt; x == element).findAny().isPresent();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è¿™é‡Œä½¿ç”¨äº†Java8çš„lambdaè¡¨è¾¾å¼ï¼Œä¸çŸ¥æ™“çš„ç›†å‹ï¼Œå¯ä»¥è‡ªè¡Œå»äº†è§£ä¸€ä¸‹</p></blockquote><h5 id="æœç´¢æ•°ç»„å…ƒç´ "><a href="#æœç´¢æ•°ç»„å…ƒç´ " class="headerlink" title="æœç´¢æ•°ç»„å…ƒç´ "></a>æœç´¢æ•°ç»„å…ƒç´ </h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * æŸ¥æ‰¾æ•°ç»„ä¸­å…ƒç´ elementæ‰€åœ¨çš„ç´¢å¼•ï¼Œå¦‚æœä¸å­˜åœ¨å…ƒç´ elementï¼Œåˆ™è¿”å›-1</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span> element</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">find</span><span class="params">(<span class="keyword">int</span> element)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; data.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (data[i] == element) &#123;</span><br><span class="line">            <span class="keyword">return</span> i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="åˆ é™¤æ•°ç»„ä¸­çš„å…ƒç´ "><a href="#åˆ é™¤æ•°ç»„ä¸­çš„å…ƒç´ " class="headerlink" title="åˆ é™¤æ•°ç»„ä¸­çš„å…ƒç´ "></a>åˆ é™¤æ•°ç»„ä¸­çš„å…ƒç´ </h4><p>ç°åœ¨æˆ‘ä»¬è¦åˆ é™¤ç´¢å¼•ä¸º<code>1</code>çš„å…ƒç´ 77</p><p><img src="https://blog-whiteontheroad-1256169749.cos.ap-shanghai.myqcloud.com/img/blog-20190310/image-20190310154244026.png" alt="image-20190310154244026"></p><p><strong>æ€è·¯åˆ†æ</strong>ï¼šæˆ‘ä»¬çŸ¥æ™“äº†æ•°ç»„çš„æ’å…¥æ€è·¯ï¼Œé‚£ä¹ˆæ•°ç»„çš„åˆ é™¤æ€è·¯ï¼Œåˆšå¥½å’Œæ•°ç»„çš„æ’å…¥æ€è·¯ç›¸åï¼Œå¦‚æœè¦åˆ é™¤ç´¢å¼•ä¸º<code>1</code>ä½ç½®çš„å…ƒç´ 77ï¼Œæˆ‘ä»¬åªéœ€è¦ï¼Œä»ç´¢å¼•<code>2</code>å¼€å§‹ï¼Œå°†ç´¢å¼•<code>2</code>ä½ç½®çš„å…ƒç´ å‘<code>å·¦</code>ç§»åŠ¨åˆ°ç´¢å¼•ä¸º<code>1</code>çš„ä½ç½®ï¼Œä¹Ÿå°±æ˜¯å°†ç´¢å¼•<code>2</code>ä½ç½®çš„å…ƒç´ çš„å€¼èµ‹å€¼ç»™ç´¢å¼•ä¸º<code>1</code>ä½ç½®çš„å…ƒç´ ï¼ˆç­‰ä»·äº<code>data[1]=data[2]</code>ï¼‰ï¼Œä¾æ¬¡ç±»æ¨ï¼Œå°†ç´¢å¼•ä¸º<code>3</code>ä½ç½®çš„å…ƒç´ ï¼Œç§»åŠ¨åˆ°ç´¢å¼•ä¸º<code>2</code>ä½ç½®çš„å…ƒç´ ï¼Œä¸€ç›´åˆ°æœ€åä¸€ä¸ªå…ƒç´ ï¼Œæ¯”å¦‚å›¾ä¸­çš„å…ƒç´ <code>100</code>ï¼Œå®Œæˆä¹‹åï¼Œè¿™æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦å†æ¬¡ç»´æŠ¤ä¸€ä¸‹<code>size</code>çš„å¤§å°ï¼Œæˆ‘ä»¬è¦è¿›è¡Œ<code>size--</code>æ“ä½œ</p><blockquote><p><strong>é‡è¦</strong> <code>size</code> æ—¢è¡¨ç¤ºæ•°ç»„ä¸­å…ƒç´ çš„å¤§å°ï¼Œåˆè¡¨ç¤ºå§‹ç»ˆæŒ‡å‘æ•°ç»„ä¸­ç¬¬ä¸€ä¸ªæ²¡æœ‰å…ƒç´ çš„ä½ç½®</p></blockquote><p>ä»£ç å®Œæˆæ•°ç»„çš„åˆ é™¤æ“ä½œ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * åˆ é™¤ç´¢å¼•indexä½ç½®çš„å…ƒç´ ï¼Œå¹¶å°†åˆ é™¤çš„å…ƒç´ è¿”å›</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span> index</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">remove</span><span class="params">(<span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// ç®€å•åˆ¤æ–­æ•°ç»„ç´¢å¼•çš„åˆæ³•æ€§</span></span><br><span class="line">    <span class="keyword">if</span> (index &lt; <span class="number">0</span> || index &gt;= size) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"åˆ é™¤æ•°ç»„å…ƒç´ å¤±è´¥ï¼Œç´¢å¼•ä¸åˆæ³•"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// å­˜æ”¾åˆ é™¤æŒ‡å®šç´¢å¼•çš„ä½ç½®å…ƒç´ </span></span><br><span class="line">    <span class="keyword">int</span> result = data[index];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// ä»åˆ é™¤æŒ‡å®šç´¢å¼•çš„åä¸€ä¸ªä½ç½®ï¼Œä¸€ç›´å¾€å‰æŒªä¸€ä½ï¼Œç›´åˆ°æœ€åä¸€ä¸ªå…ƒç´ </span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = index + <span class="number">1</span>; i &lt; size; i++) &#123;</span><br><span class="line">        data[i - <span class="number">1</span>] = data[i];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// ç»´æŠ¤sizeçš„ä½ç½®</span></span><br><span class="line">    size--;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®Œæˆäº†æ•°ç»„å…ƒç´ çš„åˆ é™¤æ“ä½œï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä¾¿æ·åœ°ä¸ºæ•°ç»„æ·»åŠ åˆ é™¤æ•°ç»„ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ çš„æ–¹æ³•å’Œåˆ é™¤æ•°ç»„ä¸­æœ€åä¸€ä¸ªå…ƒçš„æ–¹æ³•ã€‚</p><p>åˆ é™¤æ•°ç»„ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ çš„æ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * åˆ é™¤æ•°ç»„ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå¹¶å°†åˆ é™¤çš„å…ƒç´ è¿›è¡Œè¿”å›</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">removeFirst</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> remove(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åˆ é™¤æ•°ç»„ä¸­æœ€åä¸€ä¸ªå…ƒç´ çš„æ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * åˆ é™¤æ•°ç»„ä¸­æœ€åä¸€ä¸ªå…ƒç´ ï¼Œå¹¶å°†åˆ é™¤çš„å…ƒç´ è¿›è¡Œè¿”å›</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">removeLast</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> remove(size - <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è‡³æ­¤ï¼Œæˆ‘ä»¬å·²ç»å®Œæˆäº†æ•°ç»„çš„å¢åˆ æ”¹æŸ¥æ“ä½œï¼Œä¸‹é¢æˆ‘ä»¬å†™ä¸ªæµ‹è¯•ç±»ï¼Œæ¥ä½¿ç”¨ä¸€ä¸‹æˆ‘ä»¬è‡ªå·±å†™çš„ç®€å•ç‰ˆæ•°ç»„</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArrayExampleTest</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testAdd</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// åˆå§‹åŒ–æ•°ç»„å®¹é‡å¤§å°ä¸º5ï¼Œç›®å‰æ•°ç»„ä¸­æ²¡æœ‰ä»»ä½•å…ƒç´ </span></span><br><span class="line">        ArrayExample arrayExample = <span class="keyword">new</span> ArrayExample(<span class="number">5</span>);</span><br><span class="line">        System.out.println(arrayExample);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å‘æ•°ç»„ä¸­æ¬§æ·»åŠ ç¬¬ä¸€ä¸ªå…ƒç´ </span></span><br><span class="line">        arrayExample.addFirst(<span class="number">1</span>);</span><br><span class="line">        System.out.println(arrayExample);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å‘æ•°ç»„ä¸­æ·»åŠ æœ€åä¸€ä¸ªå…ƒç´ </span></span><br><span class="line">        arrayExample.addLast(<span class="number">2</span>);</span><br><span class="line">        System.out.println(arrayExample);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å‘æ•°ç»„ä¸­ç´¢å¼•ä¸º0çš„ä½ç½®æ·»åŠ å…ƒç´ </span></span><br><span class="line">        arrayExample.add(<span class="number">0</span>, <span class="number">10</span>);</span><br><span class="line">        System.out.println(arrayExample);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// TODO å…¶å®ƒæµ‹è¯•æ–¹æ³•ï¼Œè¯»è€…å¯ä»¥è‡ªè¡Œæµ‹è¯•</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ArrayExample&#123;data=[<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>], size=<span class="number">0</span>,capacity=<span class="number">5</span>&#125;</span><br><span class="line">ArrayExample&#123;data=[<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>], size=<span class="number">1</span>,capacity=<span class="number">5</span>&#125;</span><br><span class="line">ArrayExample&#123;data=[<span class="number">1</span>, <span class="number">2</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>], size=<span class="number">2</span>,capacity=<span class="number">5</span>&#125;</span><br><span class="line">ArrayExample&#123;data=[<span class="number">10</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">0</span>, <span class="number">0</span>], size=<span class="number">3</span>,capacity=<span class="number">5</span>&#125;</span><br></pre></td></tr></table></figure><p>å®Œæ•´ç‰ˆä»£ç GitHubä»“åº“åœ°å€ï¼š<a href="https://github.com/gulijian/java-data-structure-example/tree/master/data-structure-array-example" target="_blank" rel="noopener">Javaç‰ˆæ•°æ®ç»“æ„-æ•°ç»„</a> æ¬¢è¿å¤§å®¶<font color="red"><strong>å…³æ³¨</strong></font>å’Œ <font color="red"><strong>Star</strong></font></p><p>æœ¬æ¬¡æˆ‘ä»¬å®Œæˆçš„æ˜¯é™æ€æ•°ç»„çš„å®ç°ï¼Œå¾€å¾€é™æ€æ•°ç»„ä¸å¤Ÿçµæ´»ï¼Œåé¢ç¬”è€…ä¼šåœ¨ä»£ç ä»“åº“ä¸­å®ç°åŠ¨æ€æ•°ç»„ï¼Œå°±ä¸ä½œä¸ºä¸€ä¸ªç¯‡å¹…æ¥è®²è§£äº†ï¼Œæ¥ä¸‹æ¥ï¼Œç¬”è€…è¿˜ä¼šä¸€ä¸€çš„å®ç°å…¶å®ƒå¸¸è§çš„æ•°ç»„ç»“æ„ã€‚</p><ul><li>é™æ€æ•°ç»„</li><li>åŠ¨æ€æ•°ç»„</li><li>æ ˆ</li><li>é˜Ÿåˆ—</li><li>é“¾è¡¨</li><li>å¾ªç¯é“¾è¡¨</li><li>äºŒåˆ†æœç´¢æ ‘</li><li>ä¼˜å…ˆé˜Ÿåˆ—</li><li>å †</li><li>çº¿æ®µæ ‘</li><li>å­—å…¸æ ‘</li><li>AVL</li><li>çº¢é»‘æ ‘</li><li>å“ˆå¸Œè¡¨</li><li>â€¦.</li></ul><p>æŒç»­æ›´æ–°ä¸­ï¼Œæ¬¢è¿å¤§å®¶å…³æ³¨å…¬ä¼—å·ï¼š<font color="green"><strong>å°ç™½ç¨‹åºä¹‹è·¯ï¼ˆwhiteontheroadï¼‰</strong></font>ï¼Œç¬¬ä¸€æ—¶é—´è·å–æœ€æ–°ä¿¡æ¯ï¼ï¼ï¼</p><p><img src="https://blog-whiteontheroad-1256169749.cos.ap-shanghai.myqcloud.com/qrcode_for_gh.jpg" alt="å°ç™½ç¨‹åºä¹‹è·¯"></p>]]></content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;æ•°ç»„çŸ¥è¯†ç‚¹å›é¡¾&quot;&gt;&lt;a href=&quot;#æ•°ç»„çŸ¥è¯†ç‚¹å›é¡¾&quot; class=&quot;headerlink&quot; title=&quot;æ•°ç»„çŸ¥è¯†ç‚¹å›é¡¾&quot;&gt;&lt;/a&gt;æ•°ç»„çŸ¥è¯†ç‚¹å›é¡¾&lt;/h4&gt;&lt;p&gt;å£°æ˜Javaæ•°ç»„æ—¶ï¼Œä¼šåœ¨å†…å­˜ä¸­å¼€è¾Ÿä¸€å—è¿ç»­æŒ‡å®šå¤§å°çš„ç©ºé—´ï¼Œç”¨æ¥å­˜å‚¨å›ºå®šå¤§å°çš„åŒç±»å‹å…ƒç´ &lt;/p&gt;
&lt;p&gt;åœ¨javaä¸­å®šä¹‰ä¸ªåä¸ºscoresï¼Œé•¿åº¦ä¸º8ï¼Œç±»å‹ä¸ºintç±»å‹çš„æ•°ç»„å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(String[] args)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt;[] scores = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt;[&lt;span class=&quot;number&quot;&gt;8&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="Java" scheme="http://www.gulj.cn/categories/Java/"/>
    
    
      <category term="æ•°æ®ç»“æ„" scheme="http://www.gulj.cn/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
  </entry>
  
  <entry>
    <title>Javaå¹¶å‘ä¹‹åŸå­æ€§ã€æœ‰åºæ€§ã€å¯è§æ€§</title>
    <link href="http://www.gulj.cn/2019/03/04/Java%E5%B9%B6%E5%8F%91%E4%B9%8B%E5%8E%9F%E5%AD%90%E6%80%A7%E3%80%81%E6%9C%89%E5%BA%8F%E6%80%A7%E3%80%81%E5%8F%AF%E8%A7%81%E6%80%A7/"/>
    <id>http://www.gulj.cn/2019/03/04/Javaå¹¶å‘ä¹‹åŸå­æ€§ã€æœ‰åºæ€§ã€å¯è§æ€§/</id>
    <published>2019-03-04T12:34:40.000Z</published>
    <updated>2019-03-10T12:21:17.695Z</updated>
    
    <content type="html"><![CDATA[<h5 id="åŸå­æ€§"><a href="#åŸå­æ€§" class="headerlink" title="åŸå­æ€§"></a>åŸå­æ€§</h5><p>â€‹    åŸå­æ€§æŒ‡çš„æ˜¯ä¸€ä¸ªæˆ–è€…å¤šä¸ªæ“ä½œåœ¨ CPU æ‰§è¡Œçš„è¿‡ç¨‹ä¸­ä¸è¢«ä¸­æ–­çš„ç‰¹æ€§</p><blockquote><p><font color="red"><strong>çº¿ç¨‹åˆ‡æ¢</strong></font> å¸¦æ¥çš„åŸå­æ€§é—®é¢˜</p></blockquote><p>Java å¹¶å‘ç¨‹åºéƒ½æ˜¯åŸºäºå¤šçº¿ç¨‹çš„ï¼Œæ“ä½œç³»ç»Ÿä¸ºäº†å……åˆ†åˆ©ç”¨CPUçš„èµ„æºï¼Œå°†CPUåˆ†æˆè‹¥å¹²ä¸ªæ—¶é—´ç‰‡ï¼Œåœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹ï¼Œçº¿ç¨‹ä¼šè¢«æ“ä½œç³»ç»Ÿè°ƒåº¦è¿›è¡Œä»»åŠ¡åˆ‡æ¢ã€‚</p><a id="more"></a><p><img src="https://blog-whiteontheroad-1256169749.cos.ap-shanghai.myqcloud.com/img/WechatIMG36.png" alt="image-20190304155302961"></p><p>ä¸ºäº†ç›´è§‚çš„äº†è§£ä»€ä¹ˆæ˜¯åŸå­æ€§ï¼Œæˆ‘ä»¬çœ‹ä¸‹ä¸‹é¢å“ªäº›æ“ä½œæ˜¯åŸå­æ€§æ“ä½œ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> count = <span class="number">0</span>; <span class="comment">//1</span></span><br><span class="line">count++;       <span class="comment">//2</span></span><br><span class="line"><span class="keyword">int</span> a = count; <span class="comment">//3</span></span><br></pre></td></tr></table></figure><p>ä¸Šé¢å±•ç¤ºè¯­å¥ä¸­ï¼Œé™¤äº†è¯­å¥1æ˜¯åŸå­æ“ä½œï¼Œå…¶å®ƒä¸¤ä¸ªè¯­å¥éƒ½ä¸æ˜¯åŸå­æ€§æ“ä½œï¼Œä¸‹é¢æˆ‘ä»¬æ¥åˆ†æä¸€ä¸‹è¯­å¥2</p><p>å…¶å®è¯­å¥2åœ¨æ‰§è¡Œçš„æ—¶å€™ï¼ŒåŒ…å«ä¸‰ä¸ªæŒ‡ä»¤æ“ä½œ</p><ul><li>æŒ‡ä»¤ 1ï¼šé¦–å…ˆï¼Œéœ€è¦æŠŠå˜é‡ count ä»å†…å­˜åŠ è½½åˆ° CPUçš„å¯„å­˜å™¨</li><li>æŒ‡ä»¤ 2ï¼šä¹‹åï¼Œåœ¨å¯„å­˜å™¨ä¸­æ‰§è¡Œ +1 æ“ä½œï¼›</li><li>æŒ‡ä»¤ 3ï¼šæœ€åï¼Œå°†ç»“æœå†™å…¥å†…å­˜</li></ul><p>å¯¹äºä¸Šé¢çš„ä¸‰æ¡æŒ‡ä»¤æ¥è¯´ï¼Œå¦‚æœçº¿ç¨‹ A åœ¨æŒ‡ä»¤ 1 æ‰§è¡Œå®Œååšçº¿ç¨‹åˆ‡æ¢ï¼Œçº¿ç¨‹ A å’Œçº¿ç¨‹ B æŒ‰ç…§ä¸‹å›¾çš„åºåˆ—æ‰§è¡Œï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¼šå‘ç°ä¸¤ä¸ªçº¿ç¨‹éƒ½æ‰§è¡Œäº† count+=1 çš„æ“ä½œï¼Œä½†æ˜¯å¾—åˆ°çš„ç»“æœä¸æ˜¯æˆ‘ä»¬æœŸæœ›çš„ 2ï¼Œè€Œæ˜¯ 1ã€‚</p><p><img src="https://blog-whiteontheroad-1256169749.cos.ap-shanghai.myqcloud.com/img/image-20190304163607329.png" alt="image-20190304163607329"></p><blockquote><p>æ“ä½œç³»ç»Ÿåšä»»åŠ¡åˆ‡æ¢ï¼Œå¯ä»¥å‘ç”Ÿåœ¨ä»»ä½•ä¸€æ¡CPU æŒ‡ä»¤æ‰§è¡Œå®Œ</p></blockquote><h5 id="æœ‰åºæ€§"><a href="#æœ‰åºæ€§" class="headerlink" title="æœ‰åºæ€§"></a>æœ‰åºæ€§</h5><p>â€‹    æœ‰åºæ€§æŒ‡çš„æ˜¯ç¨‹åºæŒ‰ç…§ä»£ç çš„å…ˆåé¡ºåºæ‰§è¡Œ</p><blockquote><p> <strong><font color="red">ç¼–è¯‘ä¼˜åŒ– </font></strong>å¸¦æ¥çš„æœ‰åºæ€§é—®é¢˜</p></blockquote><p>ä¸ºäº†æ€§èƒ½ä¼˜åŒ–ï¼Œç¼–è¯‘å™¨å’Œå¤„ç†å™¨ä¼šè¿›è¡ŒæŒ‡ä»¤é‡æ’åºï¼Œæœ‰æ—¶å€™ä¼šæ”¹å˜ç¨‹åºä¸­è¯­å¥çš„å…ˆåé¡ºåºï¼Œæ¯”å¦‚ç¨‹åºï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">5</span>;     <span class="comment">//1</span></span><br><span class="line">b = <span class="number">20</span>;    <span class="comment">//2</span></span><br><span class="line">c = a + b; <span class="comment">//3</span></span><br></pre></td></tr></table></figure><p>ç¼–è¯‘å™¨ä¼˜åŒ–åå¯èƒ½å˜æˆ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">b = <span class="number">20</span>;    <span class="comment">//1</span></span><br><span class="line">a = <span class="number">5</span>;     <span class="comment">//2</span></span><br><span class="line">c = a + b; <span class="comment">//3</span></span><br></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œç¼–è¯‘å™¨è°ƒæ•´äº†è¯­å¥çš„é¡ºåºï¼Œä½†æ˜¯ä¸å½±å“ç¨‹åºçš„æœ€ç»ˆç»“æœ</p><p><strong>synchronized</strong>ï¼ˆå…·æœ‰æœ‰åºæ€§ã€åŸå­æ€§ã€å¯è§æ€§ï¼‰è¡¨ç¤ºé”åœ¨åŒä¸€æ—¶åˆ»åªèƒ½ç”±ä¸€ä¸ªçº¿ç¨‹è¿›è¡Œè·å–ï¼Œå½“é”è¢«å ç”¨åï¼Œå…¶ä»–çº¿ç¨‹åªèƒ½ç­‰å¾…ã€‚</p><p>åœ¨å•ä¾‹æ¨¡å¼çš„å®ç°ä¸Šæœ‰ä¸€ç§åŒé‡æ£€éªŒé”å®šçš„æ–¹å¼ï¼ˆDouble-checked Lockingï¼‰</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Singleton</span> </span>&#123;</span><br><span class="line">  <span class="keyword">static</span> Singleton instance;</span><br><span class="line">  <span class="function"><span class="keyword">static</span> Singleton <span class="title">getInstance</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (instance == <span class="keyword">null</span>) &#123;</span><br><span class="line">      <span class="keyword">synchronized</span>(Singleton.class) &#123;</span><br><span class="line">        <span class="keyword">if</span> (instance == <span class="keyword">null</span>)</span><br><span class="line">          instance = <span class="keyword">new</span> Singleton();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> instance;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å…ˆçœ‹  <code>instance = new Singleton()</code> çš„æœªè¢«ç¼–è¯‘å™¨ä¼˜åŒ–çš„æ“ä½œ</p><ul><li><p>æŒ‡ä»¤ 1ï¼šåˆ†é…ä¸€å—å†…å­˜ Mï¼›</p></li><li><p>æŒ‡ä»¤ 2ï¼šåœ¨å†…å­˜ M ä¸Šåˆå§‹åŒ– Singleton å¯¹è±¡ï¼›</p></li><li><p>æŒ‡ä»¤ 3ï¼šç„¶å M çš„åœ°å€èµ‹å€¼ç»™ instance å˜é‡ã€‚</p></li></ul><p>ç¼–è¯‘å™¨ä¼˜åŒ–åçš„æ“ä½œæŒ‡ä»¤</p><ul><li><p>æŒ‡ä»¤ 1ï¼šåˆ†é…ä¸€å—å†…å­˜ Mï¼›</p></li><li><p>æŒ‡ä»¤ 2ï¼šå°† M çš„åœ°å€èµ‹å€¼ç»™ instance å˜é‡ï¼›</p></li><li><p>æŒ‡ä»¤ 3ï¼šç„¶ååœ¨å†…å­˜ M ä¸Šåˆå§‹åŒ– Singleton å¯¹è±¡ã€‚</p></li></ul><p>ç°åœ¨æœ‰Aï¼ŒBä¸¤ä¸ªçº¿ç¨‹ï¼Œæˆ‘ä»¬å‡è®¾çº¿ç¨‹Aå…ˆæ‰§è¡Œ<code>getInstance()</code>æ–¹æ³•ï¼Œå½“æ‰§è¡Œç¼–è¯‘å™¨ä¼˜åŒ–åçš„æ“ä½œæŒ‡ä»¤<code>2</code>æ—¶ï¼ˆæ­¤æ—¶å€™æœªå®Œæˆå¯¹è±¡çš„åˆå§‹åŒ–ï¼‰ï¼Œè¿™æ—¶å€™å‘ç”Ÿäº†çº¿ç¨‹åˆ‡æ¢ï¼Œé‚£ä¹ˆçº¿ç¨‹Bè¿›å…¥ï¼Œåˆšå¥½æ‰§è¡Œåˆ°ç¬¬ä¸€æ¬¡åˆ¤æ–­ <code>instance==null</code>ä¼šå‘ç°<code>instance</code>ä¸ç­‰äº<code>null</code>äº†ï¼Œæ‰€ä»¥ç›´æ¥è¿”å›<code>instance</code>ï¼Œè€Œæ­¤æ—¶çš„ instance æ˜¯æ²¡æœ‰åˆå§‹åŒ–è¿‡çš„ã€‚</p><p><img src="https://blog-whiteontheroad-1256169749.cos.ap-shanghai.myqcloud.com/img/image-20190304173844373.png" alt="image-20190304173844373"></p><p>ç°è¡Œçš„æ¯”è¾ƒé€šç”¨çš„åšæ³•å°±æ˜¯é‡‡ç”¨é™æ€å†…éƒ¨ç±»çš„æ–¹å¼æ¥å®ç°</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SingletonDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">SingletonDemo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">SingletonDemoHandler</span></span>&#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> SingletonDemo instance = <span class="keyword">new</span> SingletonDemo();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> SingletonDemo <span class="title">getInstance</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> SingletonDemoHandler.instance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="å¯è§æ€§"><a href="#å¯è§æ€§" class="headerlink" title="å¯è§æ€§"></a>å¯è§æ€§</h5><p>â€‹    å¯è§æ€§æŒ‡çš„æ˜¯å½“ä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹äº†å…±äº«å˜é‡åï¼Œå…¶ä»–çº¿ç¨‹èƒ½å¤Ÿç«‹å³å¾—çŸ¥è¿™ä¸ªä¿®æ”¹</p><blockquote><p><font color="red"><strong>ç¼“å­˜</strong> </font>å¯¼è‡´çš„å¯è§æ€§é—®é¢˜</p></blockquote><p>é¦–å…ˆæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹Javaå†…å­˜æ¨¡å‹ï¼ˆJMMï¼‰</p><p><img src="https://blog-whiteontheroad-1256169749.cos.ap-shanghai.myqcloud.com/img/image-20190304183341997.png" alt="image-20190304183341997"></p><ul><li>æˆ‘ä»¬å®šä¹‰çš„æ‰€æœ‰å˜é‡éƒ½å‚¨å­˜åœ¨<code>ä¸»å†…å­˜</code>ä¸­</li><li>æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰è‡ªå·±<code>ç‹¬ç«‹çš„å·¥ä½œå†…å­˜</code>ï¼Œé‡Œé¢ä¿å­˜è¯¥çº¿ç¨‹ä½¿ç”¨åˆ°çš„å˜é‡çš„å‰¯æœ¬ï¼ˆä¸»å†…å­˜ä¸­è¯¥å˜é‡çš„ä¸€ä»½æ‹·è´ï¼‰</li><li>çº¿ç¨‹å¯¹å…±äº«å˜é‡æ‰€æœ‰çš„æ“ä½œéƒ½å¿…é¡»åœ¨è‡ªå·±çš„å·¥ä½œå†…å­˜ä¸­è¿›è¡Œï¼Œä¸èƒ½ç›´æ¥ä»ä¸»å†…å­˜ä¸­è¯»å†™ï¼ˆä¸èƒ½è¶Šçº§ï¼‰</li><li>ä¸åŒçº¿ç¨‹ä¹‹é—´ä¹Ÿæ— æ³•ç›´æ¥è®¿é—®å…¶ä»–çº¿ç¨‹çš„å·¥ä½œå†…å­˜ä¸­çš„å˜é‡ï¼Œçº¿ç¨‹é—´å˜é‡å€¼çš„ä¼ é€’éœ€è¦é€šè¿‡ä¸»å†…å­˜æ¥è¿›è¡Œã€‚ï¼ˆåŒçº§ä¸èƒ½ç›¸äº’è®¿é—®ï¼‰</li></ul><p>å…±äº«å˜é‡å¯è§æ€§çš„å®ç°åŸç†ï¼š</p><p>çº¿ç¨‹1å¯¹å…±äº«å˜é‡çš„ä¿®æ”¹è¦è¢«çº¿ç¨‹2åŠæ—¶çœ‹åˆ°çš„è¯ï¼Œè¦ç»è¿‡å¦‚ä¸‹æ­¥éª¤ï¼š</p><ol><li>æŠŠå·¥ä½œå†…å­˜1ä¸­æ›´æ–°çš„å˜é‡å€¼åˆ·æ–°åˆ°ä¸»å†…å­˜</li><li>æŠŠä¸»å†…å­˜ä¸­çš„å˜é‡çš„å€¼æ›´æ–°åˆ°å·¥ä½œå†…å­˜2ä¸­</li></ol><blockquote><p>å¯ä»¥ä½¿ç”¨ <strong>synchronized</strong> ã€<strong>volatile</strong> ã€<strong>final</strong> æ¥ä¿è¯å¯è§æ€§</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;h5 id=&quot;åŸå­æ€§&quot;&gt;&lt;a href=&quot;#åŸå­æ€§&quot; class=&quot;headerlink&quot; title=&quot;åŸå­æ€§&quot;&gt;&lt;/a&gt;åŸå­æ€§&lt;/h5&gt;&lt;p&gt;â€‹    åŸå­æ€§æŒ‡çš„æ˜¯ä¸€ä¸ªæˆ–è€…å¤šä¸ªæ“ä½œåœ¨ CPU æ‰§è¡Œçš„è¿‡ç¨‹ä¸­ä¸è¢«ä¸­æ–­çš„ç‰¹æ€§&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;font color=&quot;red&quot;&gt;&lt;strong&gt;çº¿ç¨‹åˆ‡æ¢&lt;/strong&gt;&lt;/font&gt; å¸¦æ¥çš„åŸå­æ€§é—®é¢˜&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Java å¹¶å‘ç¨‹åºéƒ½æ˜¯åŸºäºå¤šçº¿ç¨‹çš„ï¼Œæ“ä½œç³»ç»Ÿä¸ºäº†å……åˆ†åˆ©ç”¨CPUçš„èµ„æºï¼Œå°†CPUåˆ†æˆè‹¥å¹²ä¸ªæ—¶é—´ç‰‡ï¼Œåœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹ï¼Œçº¿ç¨‹ä¼šè¢«æ“ä½œç³»ç»Ÿè°ƒåº¦è¿›è¡Œä»»åŠ¡åˆ‡æ¢ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="Java" scheme="http://www.gulj.cn/categories/Java/"/>
    
    
      <category term="å¹¶å‘ç¼–ç¨‹" scheme="http://www.gulj.cn/tags/%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>awkå‘½ä»¤ä½¿ç”¨è¯¦è§£</title>
    <link href="http://www.gulj.cn/2019/02/25/awk%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E8%AF%A6%E8%A7%A3/"/>
    <id>http://www.gulj.cn/2019/02/25/awkå‘½ä»¤ä½¿ç”¨è¯¦è§£/</id>
    <published>2019-02-24T23:37:10.000Z</published>
    <updated>2019-02-24T23:38:40.419Z</updated>
    
    <content type="html"><![CDATA[<h1 id="awk-å‘½ä»¤"><a href="#awk-å‘½ä»¤" class="headerlink" title="awk å‘½ä»¤"></a>awk å‘½ä»¤</h1><h5 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h5><p>AWKæ˜¯ä¸€ç§å¤„ç†æ–‡æœ¬æ–‡ä»¶çš„è¯­è¨€ï¼Œæ˜¯ä¸€ä¸ªå¼ºå¤§çš„æ–‡æœ¬åˆ†æå·¥å…·ï¼Œä¹‹æ‰€ä»¥å«AWKæ˜¯å› ä¸ºå…¶å–äº†ä¸‰ä½åˆ›å§‹äºº Alfred Ahoï¼ŒPeter Weinbergerï¼Œ å’Œ Brian Kernighan çš„ Family Name çš„é¦–å­—ç¬¦ã€‚</p><h5 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h5><ul><li>ç¬¬ä¸€ç§å½¢å¼</li></ul><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ awk <span class="string">'BEGIN&#123;&#125;pattern&#123;commands&#125;END&#123;&#125;'</span> file</span><br></pre></td></tr></table></figure><ul><li>ç¬¬äºŒç§å½¢å¼</li></ul><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ standard output | <span class="string">'BEGIN&#123;&#125;pattern&#123;commands&#125;END&#123;&#125;'</span></span><br></pre></td></tr></table></figure><a id="more"></a><h5 id="å·¥ä½œåŸç†"><a href="#å·¥ä½œåŸç†" class="headerlink" title="å·¥ä½œåŸç†"></a>å·¥ä½œåŸç†</h5><p><img src="https://gulj-hexo-blog-oss-1258699535.cos.ap-shanghai.myqcloud.com/image-20190221143102173.png?q-sign-algorithm=sha1&amp;q-ak=AKIDWRTBckTNEGH8sq22tTQ03CrUqJAnA5OI&amp;q-sign-time=1551050390;1551052190&amp;q-key-time=1551050390;1551052190&amp;q-header-list=&amp;q-url-param-list=&amp;q-signature=a37227486a8917fa5c3e93008fcef57332cfde30&amp;x-cos-security-token=1b8cf7317f48a65fde9fa88df2e932f22da14e0710001" alt="image-20190221143102173"></p><blockquote><p>å…¶ä¸­æ•°å­—1ï¼Œ2ï¼Œ3â€¦ä»£è¡¨æ˜¯æ–‡æœ¬ä¸­çš„æ•°æ®è¡Œ</p><p>BEGIN{} è¡¨ç¤ºåœ¨å¤„ç†æ–‡æœ¬æ•°æ®ä¹‹å‰è¿›è¡Œä¸€äº›æ“ä½œ</p><p>pattern{commands} è¡¨ç¤ºä»æ–‡æœ¬ä¸­çš„ç¬¬ä¸€è¡Œå¼€å§‹åŒ¹é…æ»¡è¶³patternè§„åˆ™çš„è¡Œï¼Œæ‰§è¡Œcommandså‘½ä»¤ï¼Œç›´åˆ°æ–‡æœ¬æœ€åä¸€è¡Œ</p><p>END{}    è¡¨ç¤ºåœ¨å¤„ç†æ–‡æœ¬æ•°æ®ä¹‹åè¿›è¡Œä¸€äº›æ“ä½œ</p></blockquote><h5 id="å†…å»ºå˜é‡"><a href="#å†…å»ºå˜é‡" class="headerlink" title="å†…å»ºå˜é‡"></a>å†…å»ºå˜é‡</h5><table><thead><tr><th>å†…ç½®å˜é‡</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>$0</td><td>æ•´è¡Œå†…å®¹</td></tr><tr><td>$1-$n</td><td>å½“å‰è¡Œçš„ç¬¬1-nä¸ªå­—æ®µ</td></tr><tr><td>NF</td><td>å½“å‰è¡Œçš„å­—æ®µä¸ªæ•°ï¼Œä¹Ÿå°±æ˜¯æœ‰å¤šå°‘åˆ—</td></tr><tr><td>NR</td><td>å½“å‰çš„è¡Œå·ï¼Œä»1å¼€å§‹è®¡æ•°</td></tr><tr><td>FNR</td><td>å„æ–‡ä»¶åˆ†åˆ«è®¡æ•°çš„è¡Œå·</td></tr><tr><td>FS</td><td>å­—æ®µåˆ†éš”ç¬¦(é»˜è®¤ä»¥ç©ºæ ¼æˆ–tabé”®åˆ†å‰²)</td></tr><tr><td>RS</td><td>è¾“å…¥è¡Œåˆ†éš”ç¬¦ã€‚é»˜è®¤å›è½¦æ¢è¡Œ</td></tr><tr><td>OFS</td><td>è¾“å‡ºå­—æ®µåˆ†éš”ç¬¦ã€‚é»˜è®¤ä¸ºç©ºæ ¼</td></tr><tr><td>ORS</td><td>è¾“å‡ºè¡Œåˆ†éš”ç¬¦ã€‚é»˜è®¤ä¸ºå›è½¦æ¢è¡Œ</td></tr><tr><td>FILENAME</td><td>å½“å‰æ–‡ä»¶å</td></tr></tbody></table><p>å†…ç½®å˜é‡å¦‚ä½•ä½¿ç”¨ï¼Œæˆ‘ä»¬ä»¥æ–‡æœ¬score.txtå†…å®¹æ¥åšæ¼”ç¤º</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ cat  score.txt</span><br><span class="line">marry <span class="number">90</span>  <span class="number">49</span>  <span class="number">23</span>  <span class="number">14</span></span><br><span class="line">join  <span class="number">44</span>  <span class="number">55</span>  <span class="number">66</span>  <span class="number">24</span></span><br><span class="line">smile <span class="number">55</span>  <span class="number">78</span>  <span class="number">80</span>  <span class="number">34</span></span><br><span class="line">jack  <span class="number">20</span>  <span class="number">51</span>  <span class="number">66</span>  <span class="number">44</span></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨<code>$0</code>æ¥æ‰“å°è¾“å‡ºæ–‡ä»¶çš„æ¯ä¸€æ•´è¡Œçš„å†…å®¹</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ awk <span class="string">'&#123;print $0&#125;'</span> score.txt</span><br><span class="line">marry <span class="number">90</span>  <span class="number">49</span>  <span class="number">23</span>  <span class="number">14</span></span><br><span class="line">join  <span class="number">44</span>  <span class="number">55</span>  <span class="number">66</span>  <span class="number">24</span></span><br><span class="line">smile <span class="number">55</span>  <span class="number">78</span>  <span class="number">80</span>  <span class="number">34</span></span><br><span class="line">jack  <span class="number">20</span>  <span class="number">51</span>  <span class="number">66</span>  <span class="number">44</span></span><br></pre></td></tr></table></figure><blockquote><p>æ³¨æ„ï¼šè¡ŒåŒ¹é…è¯­å¥ awk   â€˜  â€˜ åªèƒ½ç”¨<strong>å•å¼•å·</strong></p></blockquote><p>ä½¿ç”¨<code>$1</code>ã€<code>$3</code>æ¥æ‰“å°è¾“å‡ºæ–‡ä»¶çš„çš„æ¯ä¸€è¡Œç¬¬1åˆ—å’Œç¬¬3åˆ—å†…å®¹</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ awk <span class="string">'&#123;print $1,$3&#125;'</span> score.txt</span><br><span class="line">marry <span class="number">49</span></span><br><span class="line">join <span class="number">55</span></span><br><span class="line">smile <span class="number">78</span></span><br><span class="line">jack <span class="number">51</span></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨<code>NF</code>æ¥è¾“å‡ºæ¯ä¸€è¡Œçš„åˆ—æ•°</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ awk  <span class="string">'&#123;print NF&#125;'</span> score.txt</span><br><span class="line"><span class="number">5</span></span><br><span class="line"><span class="number">5</span></span><br><span class="line"><span class="number">5</span></span><br><span class="line"><span class="number">5</span></span><br></pre></td></tr></table></figure><blockquote><p>ä½¿ç”¨awkæ²¡æœ‰æŒ‡å®šåˆ†éš”ç¬¦ï¼Œé»˜è®¤æ˜¯ä»¥ç©ºæ ¼æˆ–è€…tabé”®æ¥ä½œåˆ†éš”ï¼Œåœ¨score.txt æ–‡ä»¶ä¸­ï¼Œç»è¿‡åˆ†éš”ï¼Œæ¯è¡Œéƒ½æœ‰5åˆ—</p></blockquote><p>ä½¿ç”¨å˜é‡<code>$NF</code>æ¥è¾“å‡ºæ–‡ä»¶</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ awk <span class="string">'&#123;print $NF&#125;'</span> score.txt</span><br><span class="line"><span class="number">14</span></span><br><span class="line"><span class="number">24</span></span><br><span class="line"><span class="number">34</span></span><br><span class="line"><span class="number">44</span></span><br></pre></td></tr></table></figure><blockquote><p>ä»è¾“å‡ºç»“æœæˆ‘ä»¬æ€»ç»“å‡ºï¼Œ$NFå°±è¡¨ç¤ºæ¯ä¸€è¡Œçš„æœ€åä¸€åˆ—ï¼Œå› ä¸ºæ–‡ä»¶ä¸­æ¯ä¸€è¡Œæœ‰5åˆ—ï¼Œåˆ™ $NF = $5</p></blockquote><p>ä¹‹å‰æˆ‘ä»¬æ‰“å°æ¯ä¸€è¡Œçš„ç¬¬1åˆ—å’Œç¬¬3åˆ—æˆ‘ä»¬ä½¿ç”¨çš„æ˜¯ï¼š$1ï¼Œ$3ï¼›é‚£ä¹ˆç°åœ¨æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ï¼š<strong>$(NF-2)</strong>ï¼Œ<strong>$(NF-4)</strong></p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ awk <span class="string">'&#123;print $(NF-4),$(NF-2)&#125;'</span> score.txt</span><br><span class="line">marry <span class="number">49</span></span><br><span class="line">join <span class="number">55</span></span><br><span class="line">smile <span class="number">78</span></span><br><span class="line">jack <span class="number">51</span></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨<code>NR</code>æ¥è¾“å‡ºæ¯ä¸€è¡Œçš„è¡Œå·ï¼Œè¿™æ¬¡æˆ‘ä»¬æŠŠæ¯ä¸€è¡Œçš„å†…å®¹ä¹Ÿæ‰“å°å‡ºæ¥</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ awk <span class="string">'&#123;print NR "\t" $0&#125;'</span> score.txt</span><br><span class="line"><span class="number">1</span>marry <span class="number">90</span>  <span class="number">49</span>  <span class="number">23</span>  <span class="number">85</span></span><br><span class="line"><span class="number">2</span>join  <span class="number">44</span>  <span class="number">55</span>  <span class="number">66</span>  <span class="number">22</span></span><br><span class="line"><span class="number">3</span>smile <span class="number">55</span>  <span class="number">78</span>  <span class="number">80</span>  <span class="number">24</span></span><br><span class="line"><span class="number">4</span>jack  <span class="number">20</span>  <span class="number">51</span>  <span class="number">66</span>  <span class="number">89</span></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨<code>ORS</code>æ¥æŒ‡å®šè¾“å‡ºæ¯ä¸€è¡Œçš„æŒ‡å®šçš„åˆ†éš”ç¬¦</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ awk <span class="string">'BEGIN&#123;ORS="---"&#125; &#123;print $1,$NF&#125;'</span> score.txt</span><br><span class="line">marry <span class="number">14</span>---join <span class="number">24</span>---smile <span class="number">34</span>---jack <span class="number">44</span>---</span><br></pre></td></tr></table></figure><blockquote><p>æŒ‡å®šäº†æ¯ä¸€è¡Œçš„åˆ†éš”ç¬¦ä¸ºâ€â€”â€œï¼Œç°åœ¨è¾“å‡ºçš„æ¯ä¸€è¡Œéƒ½ç”¨â€”åšåˆ†éš”ï¼Œè€Œä¸åœ¨æ˜¯é»˜è®¤çš„å›è½¦æ¢è¡Œåšåˆ†éš”</p></blockquote><p>ä½¿ç”¨<code>ORS</code>æŒ‡å®šäº†è¡Œçš„åˆ†éš”ç¬¦ä¸ºâ€â€”â€œï¼Œä½†æ˜¯ç°åœ¨æˆ‘ä»¬çœ‹åˆ°æ¯ä¸€è¡Œè¾“å‡ºçš„åˆ†éš”ç¬¦è¿˜æ˜¯é»˜è®¤çš„ç©ºæ ¼æ¥åšåˆ†éš”ï¼Œæ¯”å¦‚ï¼šè¾“å‡ºç¬¬ä¸€è¡Œçš„ <code>marry 14</code>ï¼Œç°åœ¨æˆ‘ä»¬ä½¿ç”¨<code>OFS</code>æ¥æŒ‡å®šè¾“å‡ºå­—æ®µçš„åˆ†éš”ç¬¦ï¼Œæ¯”å¦‚ï¼š<code>*</code>å·</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ awk <span class="string">'BEGIN&#123;ORS="---";OFS="*"&#125; &#123;print $1,$NF&#125;'</span> score.txt</span><br><span class="line">marry*<span class="number">14</span>---join*<span class="number">24</span>---smile*<span class="number">34</span>---jack*<span class="number">44</span>---</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨<code>FS</code>æŒ‡å®šæ¯ä¸€è¡Œçš„å­—æ®µåˆ†éš”ç¬¦</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ awk <span class="string">'BEGIN&#123;FS=":"&#125; &#123;print $1,$NF&#125;'</span> /etc/passwd</span><br><span class="line">root /bin/bash</span><br><span class="line">bin /sbin/nologin</span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥ä½¿ç”¨è¿™ç§å½¢å¼æŒ‡å®šåˆ†éš”ç¬¦ï¼ˆ-Fçš„æ„æ€å°±æ˜¯æŒ‡å®šåˆ†éš”ç¬¦ï¼‰</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ awk -F: <span class="string">'&#123;print $1,$NF&#125;'</span>  /etc/passwd</span><br></pre></td></tr></table></figure><p>å¦‚æœæŒ‡å®šå¤šä¸ªåˆ†éš”ç¬¦ï¼Œä½¿ç”¨ä¸­æ‹¬å·<code>[]</code>åŒ…èµ·æ¥ï¼Œé‡Œé¢æŒ‡å®šå…·ä½“çš„åˆ†éš”ç¬¦</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ awk -F <span class="string">'[-:]'</span></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨<code>FILENAME</code>åœ¨å¤„ç†å¤šæ–‡ä»¶æ—¶å€™ï¼Œå¯ä»¥æ‰“å°å‡ºå½“å‰çš„æ–‡ä»¶å</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ awk <span class="string">'BEGIN&#123;FS="[ :]"&#125; &#123;print FILENAME "\t" $1,$NF&#125;'</span> score.txt  /etc/passwd</span><br><span class="line">score.txtmarry <span class="number">14</span></span><br><span class="line">score.txtjoin <span class="number">24</span></span><br><span class="line">score.txtsmile <span class="number">34</span></span><br><span class="line">score.txtjack <span class="number">44</span></span><br><span class="line">/etc/passwdroot /bin/bash</span><br><span class="line">/etc/passwdbin /sbin/nologin</span><br></pre></td></tr></table></figure><h5 id="ä½¿ç”¨é‡å®šå‘æ‹†åˆ†æ–‡ä»¶"><a href="#ä½¿ç”¨é‡å®šå‘æ‹†åˆ†æ–‡ä»¶" class="headerlink" title="ä½¿ç”¨é‡å®šå‘æ‹†åˆ†æ–‡ä»¶"></a>ä½¿ç”¨é‡å®šå‘æ‹†åˆ†æ–‡ä»¶</h5><p>å‡†å¤‡æ–‡ä»¶ netstat.txt</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">$ cat netstat.txt</span><br><span class="line">Proto Recv-Q Send-Q Local-Address           Foreign-Address         State</span><br><span class="line">tcp        <span class="number">0</span>      <span class="number">0</span> <span class="number">0.0</span>.<span class="number">0.0</span>:<span class="number">111</span>             <span class="number">0.0</span>.<span class="number">0.0</span>:*               LISTEN</span><br><span class="line">tcp        <span class="number">0</span>      <span class="number">0</span> <span class="number">0.0</span>.<span class="number">0.0</span>:<span class="number">22</span>              <span class="number">0.0</span>.<span class="number">0.0</span>:*               LISTEN</span><br><span class="line">tcp        <span class="number">0</span>      <span class="number">0</span> <span class="number">127.0</span>.<span class="number">0.1</span>:<span class="number">25</span>            <span class="number">0.0</span>.<span class="number">0.0</span>:*               LISTEN</span><br><span class="line">tcp        <span class="number">0</span>      <span class="number">0</span> <span class="number">192.168</span>.<span class="number">10.10</span>:<span class="number">22</span>        <span class="number">192.168</span>.<span class="number">10.1</span>:<span class="number">65016</span>      ESTABLISHED</span><br><span class="line">tcp        <span class="number">0</span>      <span class="number">0</span> <span class="number">192.168</span>.<span class="number">10.10</span>:<span class="number">22</span>        <span class="number">192.168</span>.<span class="number">10.1</span>:<span class="number">57253</span>      ESTABLISHED</span><br><span class="line">tcp6       <span class="number">0</span>      <span class="number">0</span> :::<span class="number">111</span>                  :::*                    LISTEN</span><br><span class="line">tcp6       <span class="number">0</span>      <span class="number">0</span> :::<span class="number">22</span>                   :::*                    LISTEN</span><br><span class="line">tcp6       <span class="number">0</span>      <span class="number">0</span> ::<span class="number">1</span>:<span class="number">25</span>                  :::*                    LISTEN</span><br><span class="line">udp        <span class="number">0</span>      <span class="number">0</span> <span class="number">0.0</span>.<span class="number">0.0</span>:<span class="number">1018</span>            <span class="number">0.0</span>.<span class="number">0.0</span>:*               FIN_WAIT2</span><br><span class="line">udp6       <span class="number">0</span>      <span class="number">0</span> :::<span class="number">1018</span>                 :::*                    FIN_WAIT2</span><br><span class="line">udp6       <span class="number">0</span>      <span class="number">0</span> :::<span class="number">111</span>                  :::*                    ESTABLISHED</span><br><span class="line">udp6       <span class="number">0</span>      <span class="number">0</span> ::<span class="number">1</span>:<span class="number">323</span>                 :::*                    ESTABLISHED</span><br></pre></td></tr></table></figure><p>ä»¥ç©ºæ ¼ä¸ºåˆ†éš”ç¬¦ï¼ŒæŒ‰ç…§<code>$6</code>(ç¬¬6åˆ—)ä¹Ÿå°±æ˜¯<code>State</code>åˆ—è¿›è¡Œæ‹†åˆ†æ–‡ä»¶<code>netstat.txt</code>ï¼ˆå…¶ä¸­NR!=1è¡¨ç¤ºä¸å¤„ç†è¡¨å¤´ï¼‰</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">$ awk <span class="string">'NR!=1&#123;print &gt; $6&#125;'</span> netstat.txt</span><br><span class="line"></span><br><span class="line">$ ls</span><br><span class="line">ESTABLISHED  FIN_WAIT2  LISTEN  netstat.txt</span><br><span class="line"></span><br><span class="line">$ cat ESTABLISHED</span><br><span class="line">tcp        <span class="number">0</span>      <span class="number">0</span> <span class="number">192.168</span>.<span class="number">10.10</span>:<span class="number">22</span>        <span class="number">192.168</span>.<span class="number">10.1</span>:<span class="number">65016</span>      ESTABLISHED</span><br><span class="line">tcp        <span class="number">0</span>      <span class="number">0</span> <span class="number">192.168</span>.<span class="number">10.10</span>:<span class="number">22</span>        <span class="number">192.168</span>.<span class="number">10.1</span>:<span class="number">57253</span>      ESTABLISHED</span><br><span class="line">udp6       <span class="number">0</span>      <span class="number">0</span> :::<span class="number">111</span>                  :::*                    ESTABLISHED</span><br><span class="line">udp6       <span class="number">0</span>      <span class="number">0</span> ::<span class="number">1</span>:<span class="number">323</span>                 :::*                    ESTABLISHED</span><br><span class="line"></span><br><span class="line">$ cat FIN_WAIT2</span><br><span class="line">udp        <span class="number">0</span>      <span class="number">0</span> <span class="number">0.0</span>.<span class="number">0.0</span>:<span class="number">1018</span>            <span class="number">0.0</span>.<span class="number">0.0</span>:*               FIN_WAIT2</span><br><span class="line">udp6       <span class="number">0</span>      <span class="number">0</span> :::<span class="number">1018</span>                 :::*                    FIN_WAIT2</span><br><span class="line"></span><br><span class="line">$ cat  LISTEN</span><br><span class="line">tcp        <span class="number">0</span>      <span class="number">0</span> <span class="number">0.0</span>.<span class="number">0.0</span>:<span class="number">111</span>             <span class="number">0.0</span>.<span class="number">0.0</span>:*               LISTEN</span><br><span class="line">tcp        <span class="number">0</span>      <span class="number">0</span> <span class="number">0.0</span>.<span class="number">0.0</span>:<span class="number">22</span>              <span class="number">0.0</span>.<span class="number">0.0</span>:*               LISTEN</span><br><span class="line">tcp        <span class="number">0</span>      <span class="number">0</span> <span class="number">127.0</span>.<span class="number">0.1</span>:<span class="number">25</span>            <span class="number">0.0</span>.<span class="number">0.0</span>:*               LISTEN</span><br><span class="line">tcp6       <span class="number">0</span>      <span class="number">0</span> :::<span class="number">111</span>                  :::*                    LISTEN</span><br><span class="line">tcp6       <span class="number">0</span>      <span class="number">0</span> :::<span class="number">22</span>                   :::*                    LISTEN</span><br><span class="line">tcp6       <span class="number">0</span>      <span class="number">0</span> ::<span class="number">1</span>:<span class="number">25</span>                  :::*                    LISTEN</span><br></pre></td></tr></table></figure><blockquote><p><code>{print &gt; $6}</code> æ˜¯æŒ‰ç…§ç¬¬6åˆ—è¿›è¡Œæ‹†åˆ†ï¼Œå°†æ‰€æœ‰åˆ—è¾“å‡ºåˆ°æ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æŒ‡å®šåˆ—è¾“å‡ºåˆ°æ–‡ä»¶ä¸­</p></blockquote><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ awk <span class="string">'NR!=1&#123;print $1,$4&gt; $6&#125;'</span> netstat.txt</span><br></pre></td></tr></table></figure><h5 id="awkä½¿ç”¨printfæ ¼å¼åŒ–è¾“å‡º"><a href="#awkä½¿ç”¨printfæ ¼å¼åŒ–è¾“å‡º" class="headerlink" title="awkä½¿ç”¨printfæ ¼å¼åŒ–è¾“å‡º"></a>awkä½¿ç”¨<code>printf</code>æ ¼å¼åŒ–è¾“å‡º</h5><p><code>printf</code>  <font color="#5CB85C">æ ¼å¼è¯´æ˜ç¬¦</font></p><table><thead><tr><th>æ ¼å¼ç¬¦</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>%s</td><td>æ‰“å°å­—ç¬¦ä¸²</td></tr><tr><td>%d</td><td>æ‰“å°åè¿›åˆ¶æ•°</td></tr><tr><td>%f</td><td>æ‰“å°ä¸€ä¸ªæµ®ç‚¹æ•°</td></tr><tr><td>%x</td><td>æ‰“å°åå…­è¿›åˆ¶æ•°</td></tr><tr><td>%o</td><td>æ‰“å°å…«è¿›åˆ¶æ•°</td></tr><tr><td>%e</td><td>æ‰“å°æ•°å­—çš„ç§‘å­¦è®¡æ•°æ³•å½¢å¼</td></tr><tr><td>%c</td><td>æ‰“å°å•ä¸ªå­—ç¬¦çš„ASCIIç </td></tr></tbody></table><p><code>printf</code> <font color="#5CB85C">ä¿®é¥°ç¬¦</font></p><table><thead><tr><th>ä¿®é¥°ç¬¦</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>-</td><td>å·¦å¯¹é½</td></tr><tr><td>+</td><td>å³å¯¹é½</td></tr><tr><td>#</td><td>8è¿›åˆ¶æ˜¾ç¤ºåœ¨å‰é¢åŠ 0ï¼Œ16è¿›åˆ¶æ˜¾ç¤ºåœ¨å‰é¢åŠ 0X</td></tr></tbody></table><p>ä¸Šé¢æ¼”ç¤ºçš„æ¡ˆä¾‹ï¼Œæˆ‘ä»¬éƒ½æ˜¯ç”¨<code>print</code>æ¥åšè¾“å‡ºï¼ˆé»˜è®¤æ˜¯è¾“å‡ºæ¯è¡Œå†…å®¹ï¼Œç”¨å›è½¦é”®ä½œä¸ºæ¢è¡Œï¼‰ï¼Œç°åœ¨æˆ‘ä»¬ä½¿ç”¨<code>printf</code>ï¼ˆé»˜è®¤æ²¡æœ‰åŠ ä»»ä½•çš„è¾“å‡ºåˆ†éš”ç¬¦ï¼‰æ¥è¿›è¡Œæ ¼å¼åŒ–æ‰“å°è¾“å‡º</p><p>ä½¿ç”¨<code>%s</code>ä»¥å­—ç¬¦ä¸²å½¢å¼è¾“å‡º/etc/passwdæ–‡ä»¶ä¸­ç¬¬ä¸€åˆ—</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ awk -F: <span class="string">'&#123;printf "%s\n",$1&#125;'</span> /etc/passwd</span><br><span class="line">root</span><br><span class="line">bin</span><br><span class="line">daemon</span><br><span class="line">...</span><br></pre></td></tr></table></figure><blockquote><p>ä½¿ç”¨ <code>\n</code> æ¥æŒ‡å®šè¾“å‡ºæ¯è¡Œçš„çš„åˆ†éš”ç¬¦</p></blockquote><p>ä½¿ç”¨<code>$s</code>ã€<code>%f</code>ã€<code>%d</code>ã€<code>%x</code>ç­‰å¤šä¸ªæ ¼å¼ç¬¦æ¥è¾“å‡º</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$  awk -F: <span class="string">'&#123;printf "%s %f %d %x\n",$1,$3,$3,$3&#125;'</span> /etc/passwd</span><br><span class="line">sshd <span class="number">74.000000</span> <span class="number">74</span> <span class="number">4</span>a</span><br><span class="line">postfix <span class="number">89.000000</span> <span class="number">89</span> <span class="number">59</span></span><br><span class="line">chrony <span class="number">998.000000</span> <span class="number">998</span> <span class="number">3</span>e6</span><br><span class="line">vagrant <span class="number">1000.000000</span> <span class="number">1000</span> <span class="number">3</span>e8</span><br><span class="line">vboxadd <span class="number">997.000000</span> <span class="number">997</span> <span class="number">3</span>e5</span><br></pre></td></tr></table></figure><blockquote><p>ä½¿ç”¨äº†ä¸åŒçš„æ ¼å¼ç¬¦ï¼Œè¾“å‡ºäº†/etc/passwdæ–‡ä»¶ä¸­çš„$1ï¼Œ$3åˆ—ï¼Œå¯¹äºç¨å¾®æœ‰ç‚¹å¼ºè¿«ç—‡æ‚£è€…çš„æœ‹å‹æ¥è¯´ï¼Œå¯ä»¥çœ‹å‡ºè¾“å‡ºç»“æœå¹¶ä¸ç¾è§‚ï¼Œæ¯”å¦‚ï¼šæ¯åˆ—éƒ½æ²¡æœ‰å¯¹é½ï¼ˆå‘å·¦æˆ–è€…å‘å³ï¼‰ï¼Œæµ®ç‚¹æ•°åˆ—æ²¡æœ‰æ§åˆ¶æŒ‡å®šä¸ªæ•°çš„ç²¾åº¦ç­‰ï¼Œä¸‹é¢æˆ‘ä»¬å°±æ¥è§£å†³è¿™ä¸ªé—®é¢˜</p></blockquote><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$  awk -F: <span class="string">'&#123;printf "%-20s %-0.2f \t\t %-20d %-20x\n",$1,$3,$3,$3&#125;'</span> /etc/passwd</span><br><span class="line">sshd                 <span class="number">74.00</span>      <span class="number">74</span>                   <span class="number">4</span>a</span><br><span class="line">postfix              <span class="number">89.00</span>      <span class="number">89</span>                   <span class="number">59</span></span><br><span class="line">chrony               <span class="number">998.00</span>  <span class="number">998</span>                  <span class="number">3</span>e6</span><br><span class="line">vagrant              <span class="number">1000.00</span>  <span class="number">1000</span>                 <span class="number">3</span>e8</span><br><span class="line">vboxadd              <span class="number">997.00</span>  <span class="number">997</span>                  <span class="number">3</span>e5</span><br></pre></td></tr></table></figure><blockquote><p>æˆ‘ä»¬å¯ä»¥åœ¨æ¯ä¸ªæ ¼å¼ç¬¦çš„å‰é¢åŠ ä¸Šæ•°å­—ï¼Œæ¯”å¦‚ï¼š%<strong>20</strong>sï¼Œè¡¨ç¤ºè¿™ä¸€åˆ—å ä½20ä¸ªå­—ç¬¦</p><p>ä½¿ç”¨ %<strong>0.2</strong>f æ¥æŒ‡å®šè¿™ä¸€åˆ—è¾“å‡ºçš„ç²¾åº¦ï¼Œä¿ç•™2ä½å°æ•° </p><p>ä½¿ç”¨ <code>-</code>æ ¼å¼ç¬¦ï¼Œè¡¨ç¤ºè¾“å‡ºçš„ç»“æœå‘å·¦å¯¹é½</p></blockquote><h5 id="å…³ç³»è¿ç®—ç¬¦ã€å¸ƒå°”è¿ç®—ç¬¦å’ŒåŒ¹é…æ­£åˆ™è¡¨è¾¾å¼"><a href="#å…³ç³»è¿ç®—ç¬¦ã€å¸ƒå°”è¿ç®—ç¬¦å’ŒåŒ¹é…æ­£åˆ™è¡¨è¾¾å¼" class="headerlink" title="å…³ç³»è¿ç®—ç¬¦ã€å¸ƒå°”è¿ç®—ç¬¦å’ŒåŒ¹é…æ­£åˆ™è¡¨è¾¾å¼"></a>å…³ç³»è¿ç®—ç¬¦ã€å¸ƒå°”è¿ç®—ç¬¦å’ŒåŒ¹é…æ­£åˆ™è¡¨è¾¾å¼</h5><table><thead><tr><th>è¿ç®—ç¬¦</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>&lt;ã€ &lt;=ã€ &gt;ã€ &gt;=ã€ != ã€ ==</td><td>å°äºã€å°äºç­‰äºâ€¦ï¼ˆå…³ç³»è¿ç®—ç¬¦ï¼‰</td></tr><tr><td>~</td><td>åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼</td></tr><tr><td>~ï¼</td><td>ä¸åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼</td></tr><tr><td>\</td><td>\</td><td></td><td>é€»è¾‘æˆ–</td></tr><tr><td>&amp;&amp;</td><td>é€»è¾‘ä¸</td></tr><tr><td>ï¼</td><td>é</td></tr></tbody></table><p>åŒ¹é…è¾“å‡ºç¬¬ä¸€åˆ—å­—ç¬¦ç­‰äº<code>smile</code>çš„è¡Œ</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ awk <span class="string">'$1=="smile" &#123;print $0&#125;'</span> score.txt</span><br><span class="line">smile <span class="number">55</span>  <span class="number">78</span>  <span class="number">80</span>  <span class="number">34</span></span><br></pre></td></tr></table></figure><p>åŒ¹é…è¾“å‡ºç¬¬ä¸€åˆ—å­—ç¬¦ç­‰äº<code>smile</code>çš„è¡Œ ï¼Œæˆ–è€…ç¬¬2åˆ—å¤§äº <code>80</code>çš„è¡Œ</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ awk <span class="string">'$1=="smile" || $2 &gt; 80  &#123;print $0&#125;'</span> score.txt</span><br><span class="line">marry <span class="number">90</span>  <span class="number">49</span>  <span class="number">23</span>  <span class="number">14</span></span><br><span class="line">smile <span class="number">55</span>  <span class="number">78</span>  <span class="number">80</span>  <span class="number">34</span></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨æ­£åˆ™ï¼ŒåŒ¹é…è¾“å‡ºåŒ…å«<code>44</code>çš„è¡Œ</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ awk <span class="string">'/44/ &#123;print $0&#125;'</span> score.txt</span><br><span class="line">join  <span class="number">44</span>  <span class="number">55</span>  <span class="number">66</span>  <span class="number">24</span></span><br><span class="line">jack  <span class="number">20</span>  <span class="number">51</span>  <span class="number">66</span>  <span class="number">44</span></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨æ­£åˆ™ï¼ŒåŒ¹é…è¾“å‡º<font color="green">ä¸åŒ…å«<code>44</code>çš„è¡Œ</font></p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ awk <span class="string">'!/44/ &#123;print $0&#125;'</span> score.txt</span><br><span class="line">marry <span class="number">90</span>  <span class="number">49</span>  <span class="number">23</span>  <span class="number">14</span></span><br><span class="line">smile <span class="number">55</span>  <span class="number">78</span>  <span class="number">80</span>  <span class="number">34</span></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨æ­£åˆ™ï¼ŒåŒ¹é…è¾“å‡ºä»¥<code>join</code>å­—ç¬¦å¼€å¤´çš„è¡Œåˆ°ä»¥<code>jack</code>å­—ç¬¦å¼€å¤´ç»“æŸçš„è¡Œ</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ awk <span class="string">'/^join/,/^jack/ &#123;print $0&#125;'</span> score.txt</span><br><span class="line">join  <span class="number">44</span>  <span class="number">55</span>  <span class="number">66</span>  <span class="number">24</span></span><br><span class="line">smile <span class="number">55</span>  <span class="number">78</span>  <span class="number">80</span>  <span class="number">34</span></span><br><span class="line">jack  <span class="number">20</span>  <span class="number">51</span>  <span class="number">66</span>  <span class="number">44</span></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨æ­£åˆ™ï¼ŒåŒ¹é…ç¬¬1åˆ—å­—ç¬¦åŒ…å«<code>jack</code>å¹¶ä¸”æœ€åä¸€åˆ—å¤§äºç­‰äº<code>34</code></p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ awk <span class="string">'$1 ~ /jack/ &amp;&amp;  $NF &gt;= 34 &#123;print $0&#125;'</span> score.txt</span><br><span class="line">jack  <span class="number">20</span>  <span class="number">51</span>  <span class="number">66</span>  <span class="number">44</span></span><br></pre></td></tr></table></figure><blockquote><p>~ è¡¨ç¤ºæ¨¡å¼å¼€å§‹ï¼›/ / ä¸­è¡¨ç¤ºçš„æ˜¯åŒ¹é…çš„å…·ä½“æ¨¡å¼</p></blockquote><p>ç°åœ¨çœ‹ä¸‹æ­£åˆ™æ¨¡å¼å–åçš„ç¤ºä¾‹</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ awk <span class="string">'$1 !~ /jack/ &amp;&amp;  $NF &gt;= 24 &#123;print $0&#125;'</span> score.txt</span><br><span class="line">join  <span class="number">44</span>  <span class="number">55</span>  <span class="number">66</span>  <span class="number">24</span></span><br><span class="line">smile <span class="number">55</span>  <span class="number">78</span>  <span class="number">80</span>  <span class="number">34</span></span><br></pre></td></tr></table></figure><blockquote><p><strong><code>!~</code></strong> ï¼Œç¬¬1åˆ—ä¸åŒ…å«å­—ç¬¦<code>jack</code> å¹¶ä¸”æœ€ååˆ—çš„å€¼å¤§äºç­‰äº<code>24</code></p></blockquote><h5 id="ç®—æœ¯è¿ç®—ç¬¦"><a href="#ç®—æœ¯è¿ç®—ç¬¦" class="headerlink" title="ç®—æœ¯è¿ç®—ç¬¦"></a>ç®—æœ¯è¿ç®—ç¬¦</h5><table><thead><tr><th>è¿ç®—ç¬¦</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>+ ã€ -</td><td>åŠ ã€å‡</td></tr><tr><td>* ã€/ ã€ %</td><td>ä¹˜ã€é™¤ã€æ±‚äº</td></tr><tr><td>++ã€â€“</td><td>å¢åŠ æˆ–å‡å°‘ï¼Œä½œä¸ºå‰ç¼€æˆ–åç¼€ï¼Œå¦‚ï¼ˆ++xã€xâ€“ï¼‰</td></tr></tbody></table><p>æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹ç®€å•çš„åŠ æ³•å’Œé™¤æ³•è¿ç®—</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ awk <span class="string">'BEGIN&#123;</span></span><br><span class="line"><span class="string">  num1=10;</span></span><br><span class="line"><span class="string">  num2=20;</span></span><br><span class="line"><span class="string">  printf "%d %0.2f\n", num1+num2,num1/num2</span></span><br><span class="line"><span class="string">&#125;'</span></span><br><span class="line"><span class="number">30</span> <span class="number">0.50</span></span><br></pre></td></tr></table></figure><blockquote><p>awk å£°æ˜çš„å˜é‡å¯ä»¥åœ¨ä»»ä½•å¤šä¸ªèŠ±æ‹¬å·è„šæœ¬ä¸­ä½¿ç”¨</p></blockquote><p>è®¡ç®—/etc/servicesä¸­ç©ºç™½è¡Œçš„æ•°é‡</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ awk <span class="string">'/^$/ &#123;sum++&#125; END&#123;print sum&#125;'</span> /etc/services</span><br><span class="line"><span class="number">17</span></span><br></pre></td></tr></table></figure><h5 id="å­—ç¬¦ä¸²å‡½æ•°"><a href="#å­—ç¬¦ä¸²å‡½æ•°" class="headerlink" title="å­—ç¬¦ä¸²å‡½æ•°"></a>å­—ç¬¦ä¸²å‡½æ•°</h5><table><thead><tr><th>å‡½æ•°å</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>length(str)</td><td>è®¡ç®—å­—ç¬¦ä¸²é•¿åº¦</td></tr><tr><td>index(str1,str2)</td><td>åœ¨str1ä¸­æŸ¥æ‰¾str2çš„ä½ç½®</td></tr><tr><td>tolower(str)</td><td>è½¬æ¢ä¸ºå°å†™</td></tr><tr><td>toupper(str)</td><td>è½¬æ¢ä¸ºå¤§å†™</td></tr><tr><td>substr(str,m,n)</td><td>ä»strçš„ç¬¬mä¸ªå­—ç¬¦å¼€å§‹ï¼Œæˆªå–mä½</td></tr><tr><td>split(str,arr,fs)</td><td>æŒ‰fsåˆ‡å‰²å­—ç¬¦ï¼Œç»“æœä¿å­˜arrä¸­</td></tr><tr><td>match(str,RE)</td><td>åœ¨strä¸­æŒ‰ç…§REæŸ¥æ‰¾</td></tr></tbody></table><p>ç”±äºå­—ç¬¦ä¸²å‡½æ•°æ˜¯æˆ‘ä»¬å·¥ä½œä¸­å¸¸ç”¨çš„å‡½æ•°ï¼Œæ¯”è¾ƒç®€å•ï¼Œä¸‹é¢æˆ‘ä»¬ä½¿ç”¨<code>split()</code>å‡½æ•°æ¥åšæ¼”ç¤º</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ awk <span class="string">'BEGIN&#123;</span></span><br><span class="line"><span class="string">  str="java#python#go";</span></span><br><span class="line"><span class="string">  split(str,arr,"#");</span></span><br><span class="line"><span class="string">  for(item in arr)&#123;</span></span><br><span class="line"><span class="string">    print arr[item]</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">&#125;'</span></span><br><span class="line">java</span><br><span class="line">python</span><br><span class="line">go</span><br></pre></td></tr></table></figure><blockquote><p>å…¶ä¸­æˆ‘ä»¬ä½¿ç”¨äº†forå¾ªç¯æ¥éå† arr æ•°ç»„ï¼Œä¸‹é¢æˆ‘ä»¬ä¼šè®²åˆ°</p></blockquote><h5 id="awkåŠ¨ä½œä¸­ä½¿ç”¨æ¡ä»¶åŠå¾ªç¯è¯­å¥ï¼ˆå¯è§awkæ˜¯ä¸ªè„šæœ¬è§£é‡Šå™¨ï¼‰"><a href="#awkåŠ¨ä½œä¸­ä½¿ç”¨æ¡ä»¶åŠå¾ªç¯è¯­å¥ï¼ˆå¯è§awkæ˜¯ä¸ªè„šæœ¬è§£é‡Šå™¨ï¼‰" class="headerlink" title="awkåŠ¨ä½œä¸­ä½¿ç”¨æ¡ä»¶åŠå¾ªç¯è¯­å¥ï¼ˆå¯è§awkæ˜¯ä¸ªè„šæœ¬è§£é‡Šå™¨ï¼‰"></a>awkåŠ¨ä½œä¸­ä½¿ç”¨æ¡ä»¶åŠå¾ªç¯è¯­å¥ï¼ˆå¯è§awkæ˜¯ä¸ªè„šæœ¬è§£é‡Šå™¨ï¼‰</h5><p>æ¡ä»¶è¡¨è¾¾å¼</p><ul><li><strong>ifè¯­å¥</strong></li></ul><p>è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(æ¡ä»¶)&#123;</span><br><span class="line">    åŠ¨ä½œ</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¤ºä¾‹ï¼š</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ awk -F: <span class="string">'&#123;if($3&gt;100 &amp;&amp; $3&lt;1000) print $0&#125;'</span> /etc/passwd</span><br></pre></td></tr></table></figure><ul><li><strong>if - else è¯­å¥</strong></li></ul><p>è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(æ¡ä»¶)&#123;</span><br><span class="line">    åŠ¨ä½œ</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    åŠ¨ä½œ</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¤ºä¾‹ï¼š</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ awk <span class="string">'BEGIN &#123;</span></span><br><span class="line"><span class="string">    num = 11; </span></span><br><span class="line"><span class="string">    if (num % 2 == 0) &#123;</span></span><br><span class="line"><span class="string">      printf "%d æ˜¯å¶æ•°\n", num</span></span><br><span class="line"><span class="string">    &#125;else &#123;</span></span><br><span class="line"><span class="string">      printf "%d æ˜¯å¥‡æ•°\n", num </span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">&#125;'</span></span><br></pre></td></tr></table></figure><ul><li><strong>if - else - if è¯­å¥</strong></li></ul><p>è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(æ¡ä»¶)&#123;</span><br><span class="line">    åŠ¨ä½œ</span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>(æ¡ä»¶)&#123;</span><br><span class="line">    åŠ¨ä½œ</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    åŠ¨ä½œ</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¤ºä¾‹ï¼š</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ awk  -F: <span class="string">'&#123;</span></span><br><span class="line"><span class="string">    if($3&lt;100) &#123;</span></span><br><span class="line"><span class="string">      print  "ç³»ç»Ÿç”¨æˆ·", $1</span></span><br><span class="line"><span class="string">    &#125; </span></span><br><span class="line"><span class="string">    else if($3&gt;100 &amp;&amp; $3 &lt;900) &#123;</span></span><br><span class="line"><span class="string">      print  "æ™®é€šç”¨æˆ·", $1</span></span><br><span class="line"><span class="string">    &#125; else &#123;</span></span><br><span class="line"><span class="string">      print  "å…¶å®ƒç”¨æˆ·", $1</span></span><br><span class="line"><span class="string">    &#125;   </span></span><br><span class="line"><span class="string">&#125;'</span>  /etc/passwd</span><br></pre></td></tr></table></figure><p>å¾ªç¯è¯­å¥</p><ul><li><strong>while è¯­å¥</strong></li></ul><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span>(æ¡ä»¶)&#123;</span><br><span class="line">    å¾ªç¯ä½“</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¤ºä¾‹ï¼š</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ awk <span class="string">'BEGIN &#123;i=1; while(i&lt;6)&#123; print i; ++i &#125; &#125;'</span></span><br></pre></td></tr></table></figure><ul><li><strong>do - whileè¯­å¥</strong></li></ul><p>è¯­æ³•æ ¼å¼ï¼š</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">do</span>&#123;</span><br><span class="line">    å¾ªç¯ä½“</span><br><span class="line">&#125;<span class="keyword">while</span>(æ¡ä»¶)</span><br></pre></td></tr></table></figure><p>ç¤ºä¾‹ï¼š</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">awk <span class="string">'BEGIN&#123;i=1;do&#123;print i;i++&#125;while(i&lt;6)&#125;'</span></span><br></pre></td></tr></table></figure><ul><li><strong>for è¯­å¥</strong></li></ul><p>è¯­æ³•æ ¼å¼ï¼š</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(å˜é‡;æ¡ä»¶;è¡¨è¾¾å¼)&#123;</span><br><span class="line">    åŠ¨ä½œ</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¤ºä¾‹ï¼š</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ awk <span class="string">'BEGIN&#123;</span></span><br><span class="line"><span class="string">  sum=0;</span></span><br><span class="line"><span class="string">  for(i=1;i&lt;=100;i++)&#123;</span></span><br><span class="line"><span class="string">    sum+=i</span></span><br><span class="line"><span class="string">  &#125; </span></span><br><span class="line"><span class="string">  print sum</span></span><br><span class="line"><span class="string">&#125;'</span></span><br></pre></td></tr></table></figure><h5 id="å¸¸ç”¨é€‰é¡¹"><a href="#å¸¸ç”¨é€‰é¡¹" class="headerlink" title="å¸¸ç”¨é€‰é¡¹"></a>å¸¸ç”¨é€‰é¡¹</h5><table><thead><tr><th>é€‰é¡¹</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>-v</td><td>å‚æ•°ä¼ é€’</td></tr><tr><td>-V</td><td>æŸ¥çœ‹awkçš„ç‰ˆæœ¬å·</td></tr><tr><td>-f</td><td>æŒ‡å®šè„šæœ¬æ–‡ä»¶</td></tr><tr><td>-F</td><td>æŒ‡å®šåˆ†éš”ç¬¦</td></tr></tbody></table><p>ä½¿ç”¨<code>-v</code>å¼•å…¥å¤–éƒ¨å˜é‡</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ a=<span class="number">1</span></span><br><span class="line">$ b=<span class="string">"spring is framework"</span></span><br><span class="line">$ awk -v c=<span class="string">"<span class="variable">$a</span>"</span> -v d=<span class="string">"<span class="variable">$b</span>"</span> <span class="string">'BEGIN&#123;print c , d&#125;'</span></span><br></pre></td></tr></table></figure><p>æŠŠawkçš„æ‰§è¡ŒåŠ¨ä½œå†™åœ¨è„šæœ¬ä¸­ï¼Œä½¿ç”¨<code>-f</code>æŒ‡å®šè„šæœ¬æ–‡ä»¶</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ vim print.awk</span><br><span class="line">$ <span class="keyword">BEGIN</span>&#123;print c , d&#125;</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œè„šæœ¬æ–‡ä»¶ï¼š<code>print.awk</code></p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">awk -v c=<span class="string">"<span class="variable">$a</span>"</span> -v d=<span class="string">"<span class="variable">$b</span>"</span> -f print.awk</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨<code>-F</code>æŒ‡å®šåˆ†éš”ç¬¦</p><p>æˆ‘ä»¬ä¹‹å‰å¯ä»¥ä½¿ç”¨å†…ç½®å˜é‡<code>FS</code>æ¥æŒ‡å®šåˆ†éš”ç¬¦ï¼Œæ¯”å¦‚ï¼š</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ awk <span class="string">'BEGIN&#123;FS=":"&#125; &#123;print $1&#125;'</span> /etc/passwd</span><br></pre></td></tr></table></figure><p>ç°åœ¨ç­‰ä»·äºï¼š</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ awk -F <span class="string">":"</span> <span class="string">'&#123;print $1&#125;'</span>  /etc/passwd</span><br><span class="line"><span class="comment"># æˆ–è€…</span></span><br><span class="line">$ awk -F: <span class="string">'&#123;print $1&#125;'</span>  /etc/passwd</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;awk-å‘½ä»¤&quot;&gt;&lt;a href=&quot;#awk-å‘½ä»¤&quot; class=&quot;headerlink&quot; title=&quot;awk å‘½ä»¤&quot;&gt;&lt;/a&gt;awk å‘½ä»¤&lt;/h1&gt;&lt;h5 id=&quot;ä»‹ç»&quot;&gt;&lt;a href=&quot;#ä»‹ç»&quot; class=&quot;headerlink&quot; title=&quot;ä»‹ç»&quot;&gt;&lt;/a&gt;ä»‹ç»&lt;/h5&gt;&lt;p&gt;AWKæ˜¯ä¸€ç§å¤„ç†æ–‡æœ¬æ–‡ä»¶çš„è¯­è¨€ï¼Œæ˜¯ä¸€ä¸ªå¼ºå¤§çš„æ–‡æœ¬åˆ†æå·¥å…·ï¼Œä¹‹æ‰€ä»¥å«AWKæ˜¯å› ä¸ºå…¶å–äº†ä¸‰ä½åˆ›å§‹äºº Alfred Ahoï¼ŒPeter Weinbergerï¼Œ å’Œ Brian Kernighan çš„ Family Name çš„é¦–å­—ç¬¦ã€‚&lt;/p&gt;
&lt;h5 id=&quot;è¯­æ³•&quot;&gt;&lt;a href=&quot;#è¯­æ³•&quot; class=&quot;headerlink&quot; title=&quot;è¯­æ³•&quot;&gt;&lt;/a&gt;è¯­æ³•&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;ç¬¬ä¸€ç§å½¢å¼&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight powershell&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ awk &lt;span class=&quot;string&quot;&gt;&#39;BEGIN&amp;#123;&amp;#125;pattern&amp;#123;commands&amp;#125;END&amp;#123;&amp;#125;&#39;&lt;/span&gt; file&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;ç¬¬äºŒç§å½¢å¼&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight powershell&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ standard output | &lt;span class=&quot;string&quot;&gt;&#39;BEGIN&amp;#123;&amp;#125;pattern&amp;#123;commands&amp;#125;END&amp;#123;&amp;#125;&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="è¿ç»´" scheme="http://www.gulj.cn/categories/%E8%BF%90%E7%BB%B4/"/>
    
    
      <category term="linux" scheme="http://www.gulj.cn/tags/linux/"/>
    
  </entry>
  
  <entry>
    <title>sedå‘½ä»¤</title>
    <link href="http://www.gulj.cn/2019/02/20/sed%E5%91%BD%E4%BB%A4/"/>
    <id>http://www.gulj.cn/2019/02/20/sedå‘½ä»¤/</id>
    <published>2019-02-20T03:37:10.000Z</published>
    <updated>2019-02-20T03:41:33.914Z</updated>
    
    <content type="html"><![CDATA[<h5 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h5><p>sedï¼ˆStream Editorï¼‰ ï¼Œ æµç¼–è¾‘å™¨ã€‚å¯¹æ ‡å‡†è¾“å‡ºæˆ–æ–‡ä»¶é€è¡Œå¤„ç†</p><h5 id="è¯­æ³•æ ¼å¼"><a href="#è¯­æ³•æ ¼å¼" class="headerlink" title="è¯­æ³•æ ¼å¼"></a>è¯­æ³•æ ¼å¼</h5><ul><li>ç¬¬ä¸€ç§å½¢å¼</li></ul><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ stdout | sed [option] <span class="string">"pattern command"</span></span><br></pre></td></tr></table></figure><ul><li>ç¬¬äºŒç§å½¢å¼</li></ul><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sed [option] <span class="string">"pattern command"</span> file</span><br></pre></td></tr></table></figure><a id="more"></a><h5 id="sedä¸­é€‰é¡¹ï¼ˆoptionï¼‰"><a href="#sedä¸­é€‰é¡¹ï¼ˆoptionï¼‰" class="headerlink" title="sedä¸­é€‰é¡¹ï¼ˆoptionï¼‰"></a>sedä¸­é€‰é¡¹ï¼ˆoptionï¼‰</h5><table><thead><tr><th>é€‰é¡¹</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>-n</td><td>å–æ¶ˆé»˜è®¤è¾“å‡º</td></tr><tr><td>-e</td><td>å¤šç‚¹ç¼–è¾‘ï¼Œå¯ä»¥æ‰§è¡Œå¤šä¸ªå­å‘½ä»¤</td></tr><tr><td>-i</td><td>ç›´æ¥ä¿®æ”¹æ–‡ä»¶å†…å®¹</td></tr><tr><td>-r</td><td>æ”¯æŒæ‰©å±•æ­£åˆ™è¡¨è¾¾å¼</td></tr></tbody></table><h5 id="æ­£åˆ™çš„ä¸€äº›åŸºæœ¬çŸ¥è¯†ç‚¹ï¼ˆä¸‹æ–‡ä¼šç”¨åˆ°ï¼‰"><a href="#æ­£åˆ™çš„ä¸€äº›åŸºæœ¬çŸ¥è¯†ç‚¹ï¼ˆä¸‹æ–‡ä¼šç”¨åˆ°ï¼‰" class="headerlink" title="æ­£åˆ™çš„ä¸€äº›åŸºæœ¬çŸ¥è¯†ç‚¹ï¼ˆä¸‹æ–‡ä¼šç”¨åˆ°ï¼‰"></a>æ­£åˆ™çš„ä¸€äº›åŸºæœ¬çŸ¥è¯†ç‚¹ï¼ˆä¸‹æ–‡ä¼šç”¨åˆ°ï¼‰</h5><ul><li><code>^</code> è¡¨ç¤ºä¸€è¡Œçš„å¼€å¤´</li></ul><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/^<span class="comment">#/      # ä»¥#å·å¼€å¤´çš„åŒ¹é…</span></span><br></pre></td></tr></table></figure><ul><li><code>$</code>è¡¨ç¤ºä¸€è¡Œçš„ç»“å°¾</li></ul><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/root$/   <span class="comment"># ä»¥rootç»“å°¾çš„åŒ¹é…</span></span><br></pre></td></tr></table></figure><ul><li><code>.</code>è¡¨ç¤ºä»»ä½•å•ä¸ªå­—ç¬¦</li><li><code>*</code>è¡¨ç¤ºæŸä¸€ä¸ªå­—ç¬¦å‡ºç°äº†0æ¬¡æˆ–å¤šæ¬¡</li><li><code>[]</code>è¡¨ç¤ºå­—ç¬¦é›†åˆ</li></ul><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[ABC]    <span class="comment"># è¡¨ç¤ºåŒ¹é…Aæˆ–Bæˆ–C</span></span><br></pre></td></tr></table></figure><h5 id="sedä¸­patternè¯¦è§£ï¼ˆé‡è¦ï¼‰"><a href="#sedä¸­patternè¯¦è§£ï¼ˆé‡è¦ï¼‰" class="headerlink" title="sedä¸­patternè¯¦è§£ï¼ˆé‡è¦ï¼‰"></a>sedä¸­patternè¯¦è§£ï¼ˆ<font color="red">é‡è¦</font>ï¼‰</h5><ul><li><strong><font color="green">LineNumber </font></strong> (ç›´æ¥æŒ‡å®šè¡Œå·)</li></ul><p>æ‰“å°fileä¸­17è¡Œ</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sed -n <span class="string">'17p'</span> file</span><br></pre></td></tr></table></figure><blockquote><p>å…¶ä¸­çš„pè¡¨ç¤ºæ‰“å°ï¼Œä¸‹é¢è®²è§£ç¼–è¾‘å‘½ä»¤ä¼šæåˆ°</p></blockquote><ul><li><strong><font color="green">StartLine,EndLine </font></strong> (æŒ‡å®šèµ·å§‹è¡Œåˆ°ç»“æŸè¡Œå·)</li></ul><p>æ‰“å°fileä¸­10åˆ°12è¡Œ</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sed -n <span class="string">'10,12p'</span> file</span><br></pre></td></tr></table></figure><ul><li><strong><font color="green">StartLine,+N </font></strong> (æŒ‡å®šèµ·å§‹è¡Œç„¶ååˆ°åé¢Nè¡Œ)</li></ul><p>æ‰“å°fileä¸­ä»ç¬¬10è¡Œå¼€å§‹ï¼Œå¾€åé¢åŠ 5è¡Œçš„å†…å®¹</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sed -n <span class="string">'10,+5p'</span> file</span><br></pre></td></tr></table></figure><ul><li><strong><font color="green">/pattern1/ </font></strong> ï¼ˆæ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ï¼‰</li></ul><p>æ‰“å°fileæ–‡ä»¶ä¸­ä»¥rootå¼€å¤´çš„è¡Œ</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sed -n <span class="string">'/^root/p'</span> file</span><br></pre></td></tr></table></figure><p>æ‰“å°fileæ–‡ä»¶ä¸­ä¸­åŒ…å«å­—ç¬¦ä¸º /sbin/halt çš„è¡Œ</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sed -n <span class="string">'/\/sbin\/halt/p'</span> /etc/passwd</span><br></pre></td></tr></table></figure><blockquote><p>åŒ¹é…å­—ç¬¦ä¸­ /sbin/halt  å¸¦æœ‰æ–œæ  / åœ¨åŒ¹é…æ—¶ï¼Œéœ€è¦ç”¨åæ–œæ  \ è½¬ä¹‰</p></blockquote><ul><li><strong><font color="green">/pattern1/,/pattern2/ </font></strong>   (ä»åŒ¹é…åˆ°pattern1çš„è¡Œï¼Œåˆ°åŒ¹é…åˆ°pattern2çš„è¡Œ)</li></ul><p>æ‰“å°fileæ–‡ä»¶ä¸­ç¬¬ä¸€ä¸ªåŒ¹é…åˆ°ä»¥ftpå¼€å¤´çš„è¡Œï¼Œåˆ°ç¬¬äºŒä¸ªåŒ¹é…åˆ°ä»¥mailå¼€å¤´çš„è¡Œ</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sed -n <span class="string">'/^ftp/,/^mail/p'</span> file</span><br></pre></td></tr></table></figure><ul><li><strong><font color="green">LineNumber,/pattern1/ </font></strong>   (ä»æŒ‡å®šè¡Œå·å¼€å§‹åŒ¹é…ï¼Œç›´åˆ°åŒ¹é…åˆ°pattern1çš„è¡Œ)</li></ul><p>æ‰“å°fileä¸­ä»ç¬¬4è¡Œå¼€å§‹åŒ¹é…ï¼Œç›´åˆ°åŒ¹é…åˆ°ä»¥hdfså¼€å¤´çš„è¡Œ</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sed -n <span class="string">'4,/^hdfs/p'</span> file</span><br></pre></td></tr></table></figure><blockquote><p>å¦‚æœæŒ‡å®šLineNumberçš„è¡Œ</p><p>â€‹    åœ¨åŒ¹é…ç›®æ ‡å­—ç¬¦å‰é¢ï¼Œåˆ™è¾“å‡ºçš„æ˜¯ä»LineNumberè¡Œåˆ°ç›®æ ‡å­—ç¬¦è¡Œçš„æ‰€æœ‰å†…å®¹</p><p>â€‹     åœ¨åŒ¹é…ç›®æ ‡å­—ç¬¦åé¢ï¼Œåˆ™è¾“å‡ºçš„æ˜¯ä»LineNumberè¡Œä¸€ç›´åˆ°æ–‡ä»¶æœ«å°¾çš„æ‰€æœ‰å†…å®¹</p></blockquote><h5 id="sedä¸­ç¼–è¾‘å‘½ä»¤ï¼ˆcommandï¼‰è¯¦è§£"><a href="#sedä¸­ç¼–è¾‘å‘½ä»¤ï¼ˆcommandï¼‰è¯¦è§£" class="headerlink" title="sedä¸­ç¼–è¾‘å‘½ä»¤ï¼ˆcommandï¼‰è¯¦è§£"></a>sedä¸­ç¼–è¾‘å‘½ä»¤ï¼ˆcommandï¼‰è¯¦è§£</h5><table><thead><tr><th>ç±»åˆ«</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td><strong><font color="green">æŸ¥è¯¢</font></strong></td><td></td></tr><tr><td>p</td><td>æ‰“å°</td></tr><tr><td><strong><font color="green">å¢åŠ </font></strong></td><td></td></tr><tr><td>a</td><td>è¡Œåå¢åŠ </td></tr><tr><td>i</td><td>è¡Œå‰å¢åŠ </td></tr><tr><td>r</td><td>å¤–éƒ¨æ–‡ä»¶è¯»å…¥ï¼Œè¡Œåå¢åŠ </td></tr><tr><td>w</td><td>åŒ¹é…è¡Œï¼Œå†™å…¥å¤–éƒ¨æ–‡ä»¶</td></tr><tr><td><strong><font color="green">åˆ é™¤</font></strong></td><td></td></tr><tr><td>d</td><td>åˆ é™¤</td></tr><tr><td><strong><font color="green">ä¿®æ”¹</font></strong></td><td></td></tr><tr><td>s/old/new</td><td>å°†è¡Œå†…ç¬¬ä¸€ä¸ªoldæ›¿æ¢ä¸ºnew</td></tr><tr><td>s/old/new/g</td><td>å°†è¡Œå†…å…¨éƒ¨çš„oldæ›¿æ¢ä¸ºnew</td></tr><tr><td>s/old/new/2g</td><td>å°†è¡Œå†…ä»ç¬¬äºŒ2ä¸ªå¼€å§‹åˆ°åé¢æ‰€æœ‰çš„oldæ›¿æ¢ä¸ºnew</td></tr><tr><td>s/old/new/ig</td><td>å°†è¡Œå†…å…¨éƒ¨çš„oldæ›¿æ¢ä¸ºnewï¼Œå¿½ç•¥å¤§å°å†™</td></tr><tr><td><strong><font color="green">å–ä»£</font></strong></td><td></td></tr><tr><td>c</td><td>æ›¿æ¢åŒ¹é…è¡Œ</td></tr></tbody></table><blockquote><p>å¤‡æ³¨ï¼Œä¸‹æ–‡æåˆ°çš„æ–‡ä»¶ fileï¼Œè¯»è€…å¯ä»¥ä½¿ç”¨ /etc/passwd æ–‡ä»¶ä½œä¸ºç»ƒä¹ ï¼ˆè®°å¾—æ‹·è´ä¸€ä»½ï¼‰</p></blockquote><font color="blue">æ¡ˆä¾‹ä¸­çš„ç¤ºä¾‹éƒ½æ˜¯åŸºäºä¸‹æ–¹çš„å½¢å¼ï¼š</font><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'pattern command'</span></span><br></pre></td></tr></table></figure><blockquote><p>å…¶ä¸­çš„</p><p>â€‹    patternï¼šæ˜¯ä¸Šæ–‡æåˆ°çš„å‡ ç§å½¢å¼</p><p>â€‹        commandï¼šæ˜¯ä¸‹æ–‡æåˆ°çš„ æ¯”å¦‚ï¼špæ˜¯æ‰“å°ï¼Œdæ˜¯åˆ é™¤ç­‰</p></blockquote><ul><li><strong><font color="green">d</font></strong>  ï¼ˆåˆ é™¤ï¼‰</li></ul><p>åˆ é™¤æºæ–‡ä»¶ä¸­ä»¥ftpå¼€å¤´çš„è¡Œåˆ°mailç»“æŸçš„è¡Œ</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sed -i <span class="string">'/^ftp/,/^mail/d'</span> file</span><br></pre></td></tr></table></figure><blockquote><p>åœ¨è®²è§£sedä¸­patternçš„æ—¶å€™ï¼Œæˆ‘ä»¬å·²ç»ç”¨è¿‡ç¼–è¾‘å‘½ä»¤ p çš„åŠŸèƒ½ï¼Œå…¶å®ƒåŠŸèƒ½éƒ½å¯ä»¥ä½¿ç”¨ patternè®²è§£ä¸­çš„å½¢å¼</p></blockquote><ul><li><strong><font color="green">a</font></strong>  ï¼ˆå¢åŠ ï¼Œè¡Œåï¼‰</li></ul><p>åœ¨fileä¸­åŒ¹é…åˆ°rootçš„è¡Œï¼Œåœ¨å…¶è¡Œåå¢åŠ å­—ç¬¦ â€œ123â€</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sed -i <span class="string">'/root/a 123'</span> file</span><br></pre></td></tr></table></figure><ul><li><strong><font color="green">r</font></strong>  ï¼ˆå°†åé¢æŒ‡å®šæ–‡ä»¶çš„å†…å®¹è¿½åŠ åˆ°åŒ¹é…åˆ°è¡Œåé¢ï¼‰</li></ul><p>åœ¨fileä¸­åŒ¹é…åˆ°rootçš„è¡Œï¼Œå°†å½“å‰è·¯åŠ²ä¸‹æ–‡ä»¶append.txtä¸­çš„å†…å®¹ï¼Œæ·»åŠ åˆ°åŒ¹é…è¡Œçš„åé¢</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sed -i <span class="string">'/root/r append.txt'</span> file</span><br></pre></td></tr></table></figure><ul><li><strong><font color="green">w</font></strong>  ï¼ˆå°†åŒ¹é…åˆ°è¡Œå†…å®¹ï¼Œå¦å­˜åˆ°å…¶å®ƒæ–‡ä»¶ä¸­ï¼‰</li></ul><p>åœ¨fileä¸­åŒ¹é…åˆ°/bin/bashçš„è¡Œä¿å­˜åœ¨/etc/result.logæ–‡ä»¶ä¸­</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sed -n <span class="string">'/\/bin/\bash/w /etc/result.log'</span> file</span><br></pre></td></tr></table></figure><ul><li><strong><font color="green">s/pattern/string/ig</font></strong>  ï¼ˆå°†åŒ¹é…åˆ°è¡Œå†…å®¹ï¼Œå¦å­˜åˆ°å…¶å®ƒæ–‡ä»¶ä¸­ï¼‰</li></ul><p>åœ¨fileä¸­åŒ¹é…åˆ°ä¸åŒºåˆ†å¤§å°å†™çš„hadoopçš„å­—ç¬¦æ›¿æ¢ä¸ºhive</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sed -i <span class="string">'s/hadoop/hive/ig'</span> file</span><br></pre></td></tr></table></figure><ul><li><strong><font color="green">=</font></strong>  ï¼ˆå°†åŒ¹é…åˆ°è¡Œï¼Œåªæ˜¾ç¤ºè¡Œå·ï¼Œä¸æ˜¾ç¤ºå†…å®¹ï¼‰</li></ul><p>åœ¨fileä¸­åŒ¹é…åˆ°rootçš„è¡Œï¼Œåªæ˜¾ç¤ºè¡Œå·ï¼Œä¸è¾“å‡ºå†…å®¹</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sed -n <span class="string">'/root/='</span> file</span><br></pre></td></tr></table></figure><ul><li><strong><font color="green">&amp; å’Œ \1</font></strong>  ï¼ˆåå‘å¼•ç”¨ï¼Œå¼•ç”¨æ¨¡å¼åŒ¹é…åˆ°çš„æ•´ä¸ªä¸²ï¼‰</li></ul><p>åœ¨fileæ–‡ä»¶ä¸­åŒ¹é…åˆ°springcl..dçš„å­—ç¬¦ï¼Œåœ¨åé¢åŠ ä¸Šå­—ç¬¦abc</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sed -i <span class="string">'s/springcl..d/&amp;abc/g'</span> file</span><br></pre></td></tr></table></figure><blockquote><p>sed ä¸­å¼•ç”¨å˜é‡æ—¶ï¼Œåˆ™å»ºè®®ä½¿ç”¨åŒå¼•å·ï¼Œå¦åˆ™ä¼šå°†å˜é‡å½“åšæ™®é€šå­—ç¬¦ä¸²æ¥å¤„ç†</p></blockquote><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">old_hadoop=hadoop</span><br><span class="line">new_hadoop=HADOOP</span><br><span class="line">$ sed -i <span class="string">"s/<span class="variable">$old_hadoop</span>/<span class="variable">$new_hadoop</span>/g"</span> file   <span class="comment"># ä½¿ç”¨åŒå¼•å·å¼•èµ·æ¥</span></span><br></pre></td></tr></table></figure><ul><li><strong><font color="green">c</font></strong></li></ul><p>åŒ¹é…å­—ç¬¦daemonçš„è¡Œï¼Œæ›¿æ¢ä¸ºå­—ç¬¦ input repalce content</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sed <span class="string">'/daemon/c input repalce content'</span> file</span><br></pre></td></tr></table></figure><ul><li><strong><font color="green">å¤šè¡ŒåŒ¹é…</font></strong></li></ul><p>åœ¨fileæ–‡ä»¶ä¸­åŒ¹é…åˆ°ä»¥sshå­—ç¬¦å¼€å¤´çš„è¡Œï¼Œæ›¿æ¢ç¬¬ä¸€ä¸ªå­—ç¬¦sshdä¸ºhiveå’ŒåŒ¹é…ä»¥falseç»“å°¾çš„å­—ç¬¦çš„è¡Œï¼Œåœ¨è¡Œå‰é¢æ’å…¥å†…å®¹ ABC</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sed  <span class="string">'/^ssh/s/sshd/hive/1g; /false$/i ABC'</span> file</span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„å‘½ä»¤ç­‰ä»·äºï¼šï¼ˆä½¿ç”¨sedçš„-eå‘½ä»¤è¡Œå‚æ•°ï¼‰</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sed -e <span class="string">'/^ssh/s/sshd/hive/1g'</span> -e <span class="string">'/false$/i ABC'</span> file</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h5 id=&quot;ä»‹ç»&quot;&gt;&lt;a href=&quot;#ä»‹ç»&quot; class=&quot;headerlink&quot; title=&quot;ä»‹ç»&quot;&gt;&lt;/a&gt;ä»‹ç»&lt;/h5&gt;&lt;p&gt;sedï¼ˆStream Editorï¼‰ ï¼Œ æµç¼–è¾‘å™¨ã€‚å¯¹æ ‡å‡†è¾“å‡ºæˆ–æ–‡ä»¶é€è¡Œå¤„ç†&lt;/p&gt;
&lt;h5 id=&quot;è¯­æ³•æ ¼å¼&quot;&gt;&lt;a href=&quot;#è¯­æ³•æ ¼å¼&quot; class=&quot;headerlink&quot; title=&quot;è¯­æ³•æ ¼å¼&quot;&gt;&lt;/a&gt;è¯­æ³•æ ¼å¼&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;ç¬¬ä¸€ç§å½¢å¼&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight powershell&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ stdout | sed [option] &lt;span class=&quot;string&quot;&gt;&quot;pattern command&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;ç¬¬äºŒç§å½¢å¼&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight powershell&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ sed [option] &lt;span class=&quot;string&quot;&gt;&quot;pattern command&quot;&lt;/span&gt; file&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="è¿ç»´" scheme="http://www.gulj.cn/categories/%E8%BF%90%E7%BB%B4/"/>
    
    
      <category term="linux" scheme="http://www.gulj.cn/tags/linux/"/>
    
  </entry>
  
  <entry>
    <title>grepå‘½ä»¤</title>
    <link href="http://www.gulj.cn/2019/02/19/grep%E5%91%BD%E4%BB%A4/"/>
    <id>http://www.gulj.cn/2019/02/19/grepå‘½ä»¤/</id>
    <published>2019-02-19T03:30:44.000Z</published>
    <updated>2019-02-19T03:36:13.784Z</updated>
    
    <content type="html"><![CDATA[<h1 id="grep-å‘½ä»¤"><a href="#grep-å‘½ä»¤" class="headerlink" title="grep å‘½ä»¤"></a>grep å‘½ä»¤</h1><h5 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h5><p>Linux grepå‘½ä»¤ç”¨äºæŸ¥æ‰¾æ–‡ä»¶é‡Œç¬¦åˆæ¡ä»¶çš„å­—ç¬¦ä¸²ã€‚</p><h5 id="è¯­æ³•æ ¼å¼"><a href="#è¯­æ³•æ ¼å¼" class="headerlink" title="è¯­æ³•æ ¼å¼"></a>è¯­æ³•æ ¼å¼</h5><ul><li>ç¬¬ä¸€ç§å½¢å¼</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> grep [option][pattern][file1,file2]</span></span><br></pre></td></tr></table></figure><ul><li>ç¬¬äºŒç§å½¢å¼</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">command</span> | grep [option][pattern]</span></span><br></pre></td></tr></table></figure><a id="more"></a><h5 id="å‚æ•°ï¼ˆ-option-ï¼‰"><a href="#å‚æ•°ï¼ˆ-option-ï¼‰" class="headerlink" title="å‚æ•°ï¼ˆ[option]ï¼‰"></a>å‚æ•°ï¼ˆ[option]ï¼‰</h5><table><thead><tr><th>é€‰é¡¹</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>-v</td><td>ä¸æ˜¾ç¤ºåŒ¹é…è¡Œä¿¡æ¯</td></tr><tr><td>-i</td><td>æœç´¢æ—¶å¿½ç•¥å¤§å°å†™</td></tr><tr><td>-e</td><td>æŒ‡å®šå­—ç¬¦ä¸²åšä¸ºæŸ¥æ‰¾æ–‡ä»¶å†…å®¹çš„æ ·å¼</td></tr><tr><td>-E</td><td>æ”¯æŒæ‰©å±•æ­£åˆ™è¡¨è¾¾å¼</td></tr><tr><td>-f</td><td>æŒ‡å®šè§„åˆ™æ–‡ä»¶ï¼Œå…¶å†…å®¹å«æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªè§„åˆ™æ ·å¼ï¼ŒæŒ‰ç…§è§„åˆ™æ–‡ä»¶æŸ¥æ‰¾</td></tr><tr><td>-F</td><td>ä¸æŒ‰æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ï¼Œå°†æ ·å¼è§†ä¸ºå›ºå®šå­—ç¬¦ä¸²çš„åˆ—è¡¨</td></tr><tr><td>-n</td><td>æ˜¾ç¤ºè¡Œ</td></tr><tr><td>-o</td><td>åªæ˜¾ç¤ºåŒ¹é…PATTERN éƒ¨åˆ†</td></tr><tr><td>-r</td><td>é€’å½’æœç´¢</td></tr><tr><td>-c</td><td>åªæ˜¾ç¤ºåŒ¹é…è¡Œçš„æ€»æ•°</td></tr><tr><td>-w</td><td>åŒ¹é…æ•´è¯</td></tr><tr><td>-l</td><td>åªæ˜¾ç¤ºæ–‡ä»¶åï¼Œä¸æ˜¾ç¤ºå†…å®¹</td></tr><tr><td>-s</td><td>ä¸æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯</td></tr><tr><td>-A  n</td><td>è¾“å‡ºåŒ¹é…è¡Œçš„ånè¡Œ</td></tr><tr><td>-B  n</td><td>è¾“å‡ºåŒ¹é…è¡Œçš„å‰nè¡Œ</td></tr><tr><td>-C  n</td><td>è¾“å‡ºåŒ¹é…è¡Œçš„å‰ånè¡Œ</td></tr></tbody></table><h5 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h5><ul><li><font color="blue">å‡†å¤‡æ–‡æœ¬æ–‡ä»¶app.txt</font></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">i love java</span><br><span class="line">i love JAVA</span><br><span class="line">I LOVE JAVA</span><br><span class="line">i lovelove java</span><br></pre></td></tr></table></figure><ul><li>æŸ¥æ‰¾å­—ç¬¦</li></ul><p>åœ¨app.txtæ–‡ä»¶ä¸­æŸ¥æ‰¾å­—ç¬¦ â€œjavaâ€</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> grep java app.txt</span></span><br><span class="line">i love java</span><br><span class="line">i lovelove java</span><br></pre></td></tr></table></figure><ul><li>-e</li></ul><p>åœ¨ä¸åŒæ–‡ä»¶ä¸­æŸ¥æ‰¾ â€œjavaâ€ å’Œ â€œrootâ€ å­—ç¬¦ï¼Œä½¿ç”¨-eå‚æ•°ï¼Œæˆ‘ä»¬å¯ä»¥æŸ¥æ‰¾å¤šä¸ªæ¨¡å¼ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> grep -e <span class="string">"java"</span> app.txt -e <span class="string">"root"</span> /etc/passwd</span></span><br><span class="line">app.txt:i love java</span><br><span class="line">app.txt:i lovelove java</span><br><span class="line">/etc/passwd:root:x:0:0:root:/root:/bin/bash</span><br><span class="line">/etc/passwd:operator:x:11:0:operator:/root:/sbin/nologin</span><br></pre></td></tr></table></figure><ul><li><font color="green">ä½¿ç”¨ $ ç¬¦å·è¾“å‡ºæ‰€æœ‰ä»¥æŒ‡å®šæ¨¡å¼ç»“å°¾çš„è¡Œ</font></li></ul><p>  åŒ¹é…/etc/passwdæ–‡ä»¶ä¸­ä»¥nologinå­—ç¬¦ç»“å°¾çš„è¡Œ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> grep <span class="string">"nologin$"</span> /etc/passwd</span></span><br><span class="line">bin:x:1:1:bin:/bin:/sbin/nologin</span><br><span class="line">daemon:x:2:2:daemon:/sbin:/sbin/nologin</span><br><span class="line">mail:x:8:12:mail:/var/spool/mail:/sbin/nologin</span><br><span class="line">operator:x:11:0:operator:/root:/sbin/nologin</span><br><span class="line">games:x:12:100:games:/usr/games:/sbin/nologin</span><br></pre></td></tr></table></figure><ul><li>-f</li></ul><p>-e é€‰é¡¹ä¸­æˆ‘ä»¬æŒ‡å®šäº†ä¸¤ä¸ª-eé€‰é¡¹ï¼Œä¸€ä¸ªæ˜¯ -e â€œjavaâ€ å¦å¤–ä¸€ä¸ªæ˜¯ -e â€œrootâ€ æˆ‘ä»¬å¯ä»¥æŠŠè¿™ä¸ªä¸¤ä¸ªæœç´¢çš„è¯ï¼Œå†™åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼ŒæŒ‰ç…§æ–‡ä»¶ä¸­å®šä¹‰çš„æ¨¡å¼è¿›è¡Œæœç´¢</p><p>  å®šä¹‰æ–‡ä»¶ <strong>grep_file_pattern</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> åŒ¹é…ä»¥rootå¼€å¤´çš„è¡Œã€ä»¥nologinç»“å°¾çš„è¡Œã€åŒ…å«vagrantå­—ç¬¦çš„è¡Œ</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> cat grep_file_pattern</span></span><br><span class="line">^root</span><br><span class="line"><span class="meta">nologin$</span><span class="bash"></span></span><br><span class="line">vagrant</span><br></pre></td></tr></table></figure><p>  ä½¿ç”¨ <strong>grep_file_pattern</strong> æ–‡ä»¶è¿›è¡Œæœç´¢</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> grep -f grep_file_pattern /etc/passwd</span></span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line">bin:x:1:1:bin:/bin:/sbin/nologin</span><br><span class="line">daemon:x:2:2:daemon:/sbin:/sbin/nologin</span><br><span class="line">mail:x:8:12:mail:/var/spool/mail:/sbin/nologin</span><br><span class="line">operator:x:11:0:operator:/root:/sbin/nologin</span><br><span class="line">games:x:12:100:games:/usr/games:/sbin/nologin</span><br><span class="line">vagrant:x:1000:1000:vagrant:/home/vagrant:/bin/bash</span><br></pre></td></tr></table></figure><ul><li>-F</li></ul><p>ä½¿ç”¨-Fâ€é€‰é¡¹ï¼Œåˆ™æŸ¥æ‰¾çš„å­—ç¬¦å½“åšæ™®é€šå­—ç¬¦æ¥å¤„ç†ï¼Œæ¯”å¦‚ï¼šâ€^iâ€  å¦‚æœä¸åŠ -Fé€‰é¡¹ï¼Œåˆ™åŒ¹é…åˆ°åŒ…å«jaçš„å­—ç¬¦è¡Œï¼ŒåŠ äº†-Fé€‰é¡¹ï¼ŒåªåŒ¹é…  â€œ^iâ€  çš„å­—ç¬¦</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ä¸åŠ -Fé€‰é¡¹,åŒ¹é…ä»¥ i å¼€å¤´çš„è¡Œ</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> grep <span class="string">"^i"</span> app.txt</span></span><br><span class="line">i love java</span><br><span class="line">i love JAVA</span><br><span class="line">i lovelove java</span><br><span class="line"><span class="meta">#</span><span class="bash"> åŠ -Fé€‰é¡¹,åŒ¹é…åŒ…å«å­—ç¬¦ <span class="string">"^i"</span> çš„è¡Œ,è¾“å‡ºç»“æœä¸ºç©º</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> grep -F <span class="string">"^i"</span> app.txt</span></span><br></pre></td></tr></table></figure><ul><li>-v </li></ul><p>è¾“å‡º app.txt æ–‡ä»¶ä¸­ä¸åŒ…å« â€œjavaâ€ å­—ç¬¦çš„è¡Œ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> grep -v java app.txt</span></span><br><span class="line">i love JAVA</span><br><span class="line">I LOVE JAVA</span><br></pre></td></tr></table></figure><ul><li>-i</li></ul><p>ä½¿ç”¨-ié€‰é¡¹ï¼Œåˆ™å¿½ç•¥åŒ¹é…å­—ç¬¦çš„å¤§å°å†™ï¼Œjavaæˆ–JAVAå­—ç¬¦éƒ½èƒ½åŒ¹é…åˆ°</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> grep -i java app.txt</span></span><br><span class="line">i love java</span><br><span class="line">i love JAVA</span><br><span class="line">I LOVE JAVA</span><br><span class="line">i lovelove java</span><br></pre></td></tr></table></figure><ul><li>-n </li></ul><p>ä½¿ç”¨-né€‰é¡¹ï¼Œåˆ™åŒ¹é…åˆ°çš„è¡Œçš„å†…å®¹ï¼Œå‰é¢ä¼šåŠ ä¸Šå¯¹åº”çš„è¡Œå·</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> grep -n java app.txt</span></span><br><span class="line">1:i love java</span><br><span class="line">4:i lovelove java</span><br></pre></td></tr></table></figure><ul><li>-E</li></ul><p>ä½¿ç”¨-Eé€‰é¡¹ï¼Œæ”¯æŒ <strong>|</strong> ç­‰çš„<font color="red">æ‰©å±•è¡¨è¾¾å¼</font>ï¼Œæ„æ€æ˜¯åŒ¹é…åŒ…å«javaæˆ–è€…JAVAå­—ç¬¦çš„è¡Œï¼Œå¦‚æœä¸åŠ -Eé€‰é¡¹ï¼Œåˆ™ â€œjava|JAVAâ€ å°±çœ‹ä½œä¸€ä¸ªæ•´ä½“çš„å­—ç¬¦æ¥å¤„ç†</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> åŠ -Eé€‰é¡¹</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> grep -E <span class="string">"java|JAVA"</span> app.txt</span></span><br><span class="line">i love java</span><br><span class="line">i love JAVA</span><br><span class="line">I LOVE JAVA</span><br><span class="line">i lovelove java</span><br><span class="line"><span class="meta">#</span><span class="bash"> ä¸åŠ -Eé€‰é¡¹ï¼Œè¾“å‡ºç»“æœä¸ºç©º</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> grep <span class="string">"java|JAVA"</span> app.txt</span></span><br></pre></td></tr></table></figure><ul><li>-r</li></ul><p>ä½¿ç”¨-rå‚æ•°ï¼Œé€’å½’/etc/ç›®å½•ä¸‹åŒ…å« â€œvagrantâ€å­—ç¬¦çš„è¡Œ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> grep -r vagrant /etc/</span></span><br><span class="line">/etc/group:vagrant:x:1000:vagrant</span><br><span class="line">/etc/sudoers.d/vagrant:%vagrant ALL=(ALL) NOPASSWD: ALL</span><br><span class="line">/etc/passwd-:vagrant:x:1000:1000:vagrant:/home/vagrant:/bin/bash</span><br><span class="line">/etc/gshadow:vagrant:!!::vagrant</span><br><span class="line">/etc/gshadow:docker:!::vagrant</span><br></pre></td></tr></table></figure><ul><li>-l</li></ul><p>ä½¿ç”¨-lå‚æ•°ï¼Œè¾“å‡ºåŒ…å«â€vagrantâ€å­—ç¬¦çš„æ–‡ä»¶å</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> grep -l vagrant /etc/passwd /etc/shadow app.txt</span></span><br><span class="line">/etc/passwd</span><br><span class="line">/etc/shadow</span><br></pre></td></tr></table></figure><ul><li>-o</li></ul><p>ä½¿ç”¨-oå‚æ•°ï¼Œåªæ˜¾ç¤ºåŒ¹é… LOVE å­—ç¬¦</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> grep -o -n LOVE app.txt</span></span><br><span class="line">3:LOVE</span><br></pre></td></tr></table></figure><ul><li>-C</li></ul><p>ä½¿ç”¨-Cå‚æ•°ï¼Œè¾“å‡ºåŒ¹å­—ç¬¦â€dbusâ€è¡Œçš„å‰å 2 è¡Œ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> grep -C 2 dbus /etc/passwd</span></span><br><span class="line">nobody:x:99:99:Nobody:/:/sbin/nologin</span><br><span class="line">systemd-network:x:192:192:systemd Network Management:/:/sbin/nologin</span><br><span class="line">dbus:x:81:81:System message bus:/:/sbin/nologin</span><br><span class="line">polkitd:x:999:998:User for polkitd:/:/sbin/nologin</span><br><span class="line">rpc:x:32:32:Rpcbind Daemon:/var/lib/rpcbind:/sbin/nologin</span><br></pre></td></tr></table></figure><ul><li><font color="green">æŸ¥æ‰¾æ–‡ä»¶ä¸­æ‰€æœ‰çš„ç©ºè¡Œ</font></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> grep ^$ /data/<span class="built_in">log</span>/nginx.log</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;grep-å‘½ä»¤&quot;&gt;&lt;a href=&quot;#grep-å‘½ä»¤&quot; class=&quot;headerlink&quot; title=&quot;grep å‘½ä»¤&quot;&gt;&lt;/a&gt;grep å‘½ä»¤&lt;/h1&gt;&lt;h5 id=&quot;ä»‹ç»&quot;&gt;&lt;a href=&quot;#ä»‹ç»&quot; class=&quot;headerlink&quot; title=&quot;ä»‹ç»&quot;&gt;&lt;/a&gt;ä»‹ç»&lt;/h5&gt;&lt;p&gt;Linux grepå‘½ä»¤ç”¨äºæŸ¥æ‰¾æ–‡ä»¶é‡Œç¬¦åˆæ¡ä»¶çš„å­—ç¬¦ä¸²ã€‚&lt;/p&gt;
&lt;h5 id=&quot;è¯­æ³•æ ¼å¼&quot;&gt;&lt;a href=&quot;#è¯­æ³•æ ¼å¼&quot; class=&quot;headerlink&quot; title=&quot;è¯­æ³•æ ¼å¼&quot;&gt;&lt;/a&gt;è¯­æ³•æ ¼å¼&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;ç¬¬ä¸€ç§å½¢å¼&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight shell&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;bash&quot;&gt; grep [option][pattern][file1,file2]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;ç¬¬äºŒç§å½¢å¼&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight shell&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;bash&quot;&gt; &lt;span class=&quot;built_in&quot;&gt;command&lt;/span&gt; | grep [option][pattern]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="è¿ç»´" scheme="http://www.gulj.cn/categories/%E8%BF%90%E7%BB%B4/"/>
    
    
      <category term="linux" scheme="http://www.gulj.cn/tags/linux/"/>
    
  </entry>
  
  <entry>
    <title>findå‘½ä»¤</title>
    <link href="http://www.gulj.cn/2019/02/14/find%E5%92%8Cgrep%E5%91%BD%E4%BB%A4-1/"/>
    <id>http://www.gulj.cn/2019/02/14/findå’Œgrepå‘½ä»¤-1/</id>
    <published>2019-02-14T07:17:44.000Z</published>
    <updated>2019-02-14T10:04:19.833Z</updated>
    
    <content type="html"><![CDATA[<h5 id="è¯­æ³•æ ¼å¼"><a href="#è¯­æ³•æ ¼å¼" class="headerlink" title="è¯­æ³•æ ¼å¼"></a>è¯­æ³•æ ¼å¼</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find ã€è·¯å¾„ã€‘ã€é€‰é¡¹ã€‘ã€æ“ä½œã€‘</span><br></pre></td></tr></table></figure><a id="more"></a><h5 id="é€‰é¡¹å‚æ•°"><a href="#é€‰é¡¹å‚æ•°" class="headerlink" title="é€‰é¡¹å‚æ•°"></a>é€‰é¡¹å‚æ•°</h5><table><thead><tr><th>é€‰é¡¹</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>-name</td><td>æ ¹æ®æ–‡ä»¶åæŸ¥æ‰¾</td></tr><tr><td>-iname</td><td>æ ¹æ®æ–‡ä»¶åæŸ¥æ‰¾ä¸åŒºåˆ†å¤§å°å†™</td></tr><tr><td>-perm</td><td>æ ¹æ®æ–‡ä»¶æƒé™æŸ¥æ‰¾</td></tr><tr><td>-prune</td><td>è¯¥é€‰é¡¹å¯ä»¥æ’é™¤æŸäº›ç›®å½•</td></tr><tr><td>-user</td><td>æ ¹æ®æ–‡ä»¶å±ä¸»æŸ¥æ‰¾</td></tr><tr><td>-group</td><td>æ ¹æ®æ–‡ä»¶å±ç»„æŸ¥æ‰¾</td></tr><tr><td>-mtime  -n æˆ– +n</td><td>æ ¹æ®æ–‡ä»¶æ›´æ”¹æ—¶é—´æŸ¥æ‰¾ï¼Œä»¥å¤©ä¸ºå•ä½</td></tr><tr><td>-mmin   -n æˆ– +n</td><td>æ ¹æ®æ–‡ä»¶æ›´æ”¹æ—¶é—´æŸ¥æ‰¾ï¼Œä»¥åˆ†é’Ÿä¸ºå•ä½</td></tr><tr><td>-nogroup</td><td>æŸ¥æ‰¾æ— æœ‰æ•ˆå±ç»„çš„æ–‡ä»¶</td></tr><tr><td>-nouser</td><td>æŸ¥æ‰¾æ— æœ‰æ•ˆå±ä¸»çš„æ–‡ä»¶</td></tr><tr><td>-type</td><td>æŒ‰æ–‡ä»¶ç±»å‹æŸ¥æ‰¾</td></tr><tr><td>-size -n æˆ– +n</td><td>æŒ‰æ–‡ä»¶å¤§å°æŸ¥æ‰¾</td></tr><tr><td>-mindepth n</td><td>ä»nçº§å­ç›®å½•å¼€å§‹æŸ¥æ‰¾</td></tr><tr><td>-maxdepth n</td><td>æœ€å¤šæœå¤šåˆ°nçº§å­ç›®å½•</td></tr></tbody></table><h5 id="ç¤ºä¾‹è¯´æ˜"><a href="#ç¤ºä¾‹è¯´æ˜" class="headerlink" title="ç¤ºä¾‹è¯´æ˜"></a>ç¤ºä¾‹è¯´æ˜</h5><ul><li><p>-name</p><p>æŸ¥æ‰¾/etcç›®å½•ä¸‹å·²confç»“å°¾çš„æ–‡ä»¶</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find /etc  -name "*.conf"</span><br></pre></td></tr></table></figure></li><li><p>-user</p><p>æŸ¥æ‰¾å½“å‰ç›®å½•ä¸‹å±ä¸»é£Ÿhadoopçš„æ–‡ä»¶</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find . -user hadoop</span><br></pre></td></tr></table></figure></li><li><p>-type</p><ul><li>f     (æ–‡ä»¶)</li><li>d    (ç›®å½•)</li><li>c     (å­—ç¬¦è®¾å¤‡æ–‡ä»¶)</li><li>l     (é“¾æ¥æ–‡ä»¶)</li><li>p    (ç®¡é“æ–‡ä»¶)</li></ul><p>æŸ¥æ‰¾å½“å‰è·¯å¾„ä¸‹çš„æ–‡ä»¶</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find . -type f</span><br></pre></td></tr></table></figure></li><li><p>-size</p><ul><li>-n   (å¤§å°å°äºnçš„æ–‡ä»¶)</li><li>+n   (å¤§å°å¤§äºnçš„æ–‡ä»¶)</li></ul><p>æŸ¥æ‰¾/etcç›®å½•ä¸‹å°äº1000çš„å­—èŠ‚æ–‡ä»¶</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find /etc -size -1000c</span><br></pre></td></tr></table></figure><p>æŸ¥æ‰¾/etcç›®å½•ä¸‹å¤§äº1å…†çš„æ–‡ä»¶</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find /etc -size +1M</span><br></pre></td></tr></table></figure></li><li><p>-mtime</p><ul><li>-n   (nå¤©ä»¥å†…ä¿®æ”¹çš„æ–‡ä»¶)</li><li>+n   (nå¤©ä»¥å¤–ä¿®æ”¹çš„æ–‡ä»¶)</li></ul><p>æŸ¥æ‰¾/etcç›®å½•ä¸‹3å¤©ä»¥å†…ä¿®æ”¹çš„æ–‡ä»¶ä¸”ä»¥confç»“å°¾çš„æ–‡ä»¶</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find /etc -mtime -3 -name "*.conf"</span><br></pre></td></tr></table></figure><p>æŸ¥æ‰¾/etcç›®å½•ä¸‹30åˆ†é’Ÿä¹‹å‰ä¿®æ”¹çš„ç›®å½•</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find /etc -mmin +30 -type d</span><br></pre></td></tr></table></figure></li><li><p>mindepth</p><p>ä»/etcç›®å½•ä¸‹3çº§å­ç›®å½•å¼€å§‹æœç´¢æ–‡ä»¶</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find /etc -mindepth 3 -type f</span><br></pre></td></tr></table></figure></li><li><p>maxdepth</p><p>ä»/etcç›®å½•ä¸‹æŸ¥æ‰¾æ–‡ä»¶æƒé™ä¸º644ï¼Œæœ€å¤šæœç´¢åˆ°2çº§ç›®å½•ï¼ˆå½“å‰ä½ç½®è¡¨ç¤ºä¸€çº§ç›®å½•ï¼‰</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find /etc -maxdepth 2 -perm 644</span><br></pre></td></tr></table></figure></li><li><p>-prune</p><blockquote><p>é€šå¸¸å’Œpathä¸€èµ·ä½¿ç”¨ï¼Œç”¨äºå°†ç‰¹å®šçš„ç›®å½•æ’é™¤åœ¨æœç´¢ä¹‹å¤–</p></blockquote><p>æŸ¥æ‰¾å½“å‰ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶ï¼Œä½†æ’é™¤logç›®å½•</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find . -path ./log -prune -o -type f</span><br></pre></td></tr></table></figure><p>æŸ¥æ‰¾å½“å‰ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶ï¼Œä½†æ’é™¤logç›®å½•å’Œlibç›®å½•</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find . -path ./log -prune -o -path ./lib -prune -o -type f</span><br></pre></td></tr></table></figure></li><li><p>-exec </p><blockquote><p>å¯¹æœç´¢åˆ°æ–‡ä»¶æ‰§è¡Œç‰¹å®šçš„æ“ä½œï¼Œæ ¼å¼ä¸ºï¼š-exec  â€˜commandâ€™  {}  \;     {} è¡¨ç¤ºfindæŸ¥è¯¢åˆ°çš„ç»“æœé›†</p></blockquote><p>æœç´¢/etcä¸‹çš„æ–‡ä»¶ï¼Œæ–‡ä»¶åä»¥confç»“å°¾ï¼Œä¸”å¤§å°å¤§äº2Kï¼Œç„¶åå°†å…¶å¤åˆ¶åˆ°/root/hadoopç›®å½•ä¸‹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find /etc -name "*.conf" -size +2K -type f -exec cp -r &#123;&#125; /root/hadoop \;</span><br></pre></td></tr></table></figure></li></ul><h4 id="findã€locateã€whereiså’Œwhichæ€»ç»“åŠä½¿ç”¨åœºæ™¯åˆ†æ"><a href="#findã€locateã€whereiså’Œwhichæ€»ç»“åŠä½¿ç”¨åœºæ™¯åˆ†æ" class="headerlink" title="findã€locateã€whereiså’Œwhichæ€»ç»“åŠä½¿ç”¨åœºæ™¯åˆ†æ"></a>findã€locateã€whereiså’Œwhichæ€»ç»“åŠä½¿ç”¨åœºæ™¯åˆ†æ</h4><h5 id="findå’Œlocateçš„åŒºåˆ«"><a href="#findå’Œlocateçš„åŒºåˆ«" class="headerlink" title="findå’Œlocateçš„åŒºåˆ«"></a>findå’Œlocateçš„åŒºåˆ«</h5><table><thead><tr><th>find</th><th>locate</th></tr></thead><tbody><tr><td>åœ¨æ•´å—ç£ç›˜ä¸­æœç´¢</td><td>åœ¨æ•°æ®åº“æ–‡ä»¶ä¸­æŸ¥æ‰¾</td></tr><tr><td>é»˜è®¤æ˜¯å…¨éƒ¨åŒ¹é…</td><td>é»˜è®¤æ˜¯æ¨¡ç³ŠåŒ¹é…</td></tr></tbody></table><blockquote><p>æ–°åˆ›å»ºçš„æ–‡ä»¶ï¼Œä½¿ç”¨locateå‘½ä»¤æš‚æ—¶æŸ¥æ‰¾ä¸åˆ°ï¼Œå› ä¸ºåå°cronä»»åŠ¡è¿˜æœªæ‰§è¡Œï¼Œå¯ä»¥ä½¿ç”¨updatedbå‘½ä»¤åˆ·æ–°locateæŸ¥æ‰¾çš„æ•°æ®åº“ï¼Œè¿™æ ·å°±èƒ½æŸ¥æ‰¾åˆ°åˆšæ‰æ–°å»ºçš„æ–‡ä»¶äº†</p></blockquote><h5 id="whereis"><a href="#whereis" class="headerlink" title="whereis"></a>whereis</h5><table><thead><tr><th>é€‰é¡¹</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>-b</td><td>åªè¿”å›äºŒè¿›åˆ¶æ–‡ä»¶</td></tr><tr><td>-m</td><td>åªè¿”å›å¸®åŠ©æ–‡æ¡£æ–‡ä»¶</td></tr><tr><td>-s</td><td>åªè¿”å›æºä»£ç æ–‡ä»¶</td></tr></tbody></table><h5 id="which"><a href="#which" class="headerlink" title="which"></a>which</h5><table><thead><tr><th>é€‰é¡¹</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>-b</td><td>åªè¿”å›äºŒè¿›åˆ¶æ–‡ä»¶</td></tr></tbody></table><h5 id="å„å‘½ä»¤ä½¿ç”¨åœºæ™¯åŠä¼˜ç¼ºç‚¹"><a href="#å„å‘½ä»¤ä½¿ç”¨åœºæ™¯åŠä¼˜ç¼ºç‚¹" class="headerlink" title="å„å‘½ä»¤ä½¿ç”¨åœºæ™¯åŠä¼˜ç¼ºç‚¹"></a>å„å‘½ä»¤ä½¿ç”¨åœºæ™¯åŠä¼˜ç¼ºç‚¹</h5><table><thead><tr><th>å‘½ä»¤</th><th>é€‚ç”¨åœºæ™¯</th><th>ä¼˜ç¼ºç‚¹</th></tr></thead><tbody><tr><td>find</td><td>æŸ¥æ‰¾æŸä¸€ç±»æ–‡ä»¶</td><td>åŠŸèƒ½å¼ºå¤§ï¼Œé€Ÿåº¦æ…¢</td></tr><tr><td>locate</td><td>åªèƒ½æŸ¥æ‰¾å•ä¸ªæ–‡ä»¶</td><td>åŠŸèƒ½å•ä¸€ï¼Œé€Ÿåº¦å¿«</td></tr><tr><td>whereis</td><td>æŸ¥æ‰¾ç¨‹åºçš„å¯æ‰§è¡Œæ–‡ä»¶ã€å¸®åŠ©æ–‡æ¡£ç­‰</td><td>ä¸å¸¸ç”¨</td></tr><tr><td>which</td><td>åªæŸ¥æ‰¾ç¨‹åºçš„å¯æ‰§è¡Œæ–‡ä»¶</td><td>å¸¸ç”¨äºæŸ¥æ‰¾ç¨‹åºçš„ç»å¯¹è·¯å¾„</td></tr></tbody></table>]]></content>
    
    <summary type="html">
    
      &lt;h5 id=&quot;è¯­æ³•æ ¼å¼&quot;&gt;&lt;a href=&quot;#è¯­æ³•æ ¼å¼&quot; class=&quot;headerlink&quot; title=&quot;è¯­æ³•æ ¼å¼&quot;&gt;&lt;/a&gt;è¯­æ³•æ ¼å¼&lt;/h5&gt;&lt;figure class=&quot;highlight shell&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;find ã€è·¯å¾„ã€‘ã€é€‰é¡¹ã€‘ã€æ“ä½œã€‘&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="è¿ç»´" scheme="http://www.gulj.cn/categories/%E8%BF%90%E7%BB%B4/"/>
    
    
      <category term="linux" scheme="http://www.gulj.cn/tags/linux/"/>
    
  </entry>
  
  <entry>
    <title>Btraceç›‘æ§è°ƒè¯•åŸºæœ¬æ•™ç¨‹</title>
    <link href="http://www.gulj.cn/2018/07/30/Btrace%E7%9B%91%E6%8E%A7%E8%B0%83%E8%AF%95%E5%9F%BA%E6%9C%AC%E6%95%99%E7%A8%8B/"/>
    <id>http://www.gulj.cn/2018/07/30/Btraceç›‘æ§è°ƒè¯•åŸºæœ¬æ•™ç¨‹/</id>
    <published>2018-07-30T07:53:46.000Z</published>
    <updated>2019-02-14T07:07:12.859Z</updated>
    
    <content type="html"><![CDATA[<h4 id="æ‹¦æˆªæ–¹æ³•"><a href="#æ‹¦æˆªæ–¹æ³•" class="headerlink" title="æ‹¦æˆªæ–¹æ³•"></a>æ‹¦æˆªæ–¹æ³•</h4><ul><li><h5 id="æ™®é€šæ–¹æ³•"><a href="#æ™®é€šæ–¹æ³•" class="headerlink" title="æ™®é€šæ–¹æ³•"></a>æ™®é€šæ–¹æ³•</h5></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@OnMethod</span>( clazz = <span class="string">""</span>, method = <span class="string">""</span>)</span><br></pre></td></tr></table></figure><p>ä¸Šä¸€ç¯‡æ–‡ç« æˆ‘ä»¬å·²ç»ä»‹ç»ï¼Œä¸æ¸…æ¥šçš„å°ä¼™ä¼´ï¼Œå¯è‡ªè¡Œå‰å¾€æŸ¥çœ‹ </p><ul><li><h5 id="æ„é€ å‡½æ•°"><a href="#æ„é€ å‡½æ•°" class="headerlink" title="æ„é€ å‡½æ•°"></a>æ„é€ å‡½æ•°</h5></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@OnMethod</span>( clazz = <span class="string">""</span>, method = <span class="string">"&lt;init&gt;"</span>)</span><br></pre></td></tr></table></figure><a id="more"></a><p><strong>ä»£ç ç¤ºä¾‹</strong></p><p>æ–°å»ºUserç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼–å†™å¾…è¿½è¸ªä»£ç  ConstructorController.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ConstructorController</span> </span>&#123;</span><br><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">"/constructor"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> User <span class="title">constructor</span><span class="params">(User user)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> user;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼–å†™è¿½è¸ªä»£ç è„šæœ¬ BtracePrintConstructorArgSimple.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@BTrace</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BtracePrintConstructorArgSimple</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@OnMethod</span>(clazz = <span class="string">"com.gulj.monitor.domain.User"</span>, method = <span class="string">"&lt;init&gt;"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">andyRead</span><span class="params">(@ProbeClassName String pcn, @ProbeMethodName String pmn, AnyType[] args)</span> </span>&#123;</span><br><span class="line">        BTraceUtils.printArray(args);</span><br><span class="line">        BTraceUtils.println(<span class="string">"className="</span> + pcn + <span class="string">","</span> + <span class="string">"methodName="</span> + pmn);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œè¿½è¸ªä»£ç è„šæœ¬</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">btrace pid BtracePrintConstructorArgSimple.java</span><br></pre></td></tr></table></figure><p>å‘é€è¯·æ±‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl http://localhost:8080/constructor?name=gulj&amp;age=27</span><br></pre></td></tr></table></figure><blockquote><p>æ‰§è¡Œå‘½ä»¤ btrace pid BtracePrintConstructorArgSimple.java (ä¸€èµ·å¤„äºç›‘å¬çŠ¶æ€ï¼Œå½“æˆ‘ä»¬å‘é€è¯·æ±‚ï¼Œä¼šæœ‰ç›‘å¬ç»“æœè¾“å‡º) è¿˜æœ‰ç¬”è€…åœ¨æµ‹è¯•çš„è¿‡ç¨‹ä¸­æœ‰çš„æ—¶å€™æ²¡æœ‰ç›‘æµ‹åˆ°è¾“å‡ºï¼Œå½“é‡åˆ°è¿™ç§æƒ…å†µï¼Œæœ‰çš„æ—¶å€™æ˜¯å› ä¸ºæ…¢çš„ç¼˜æ•…ï¼Œæœ‰çš„æ—¶å€™è¿˜è¯·å°ä¼™ä¼´å¤šæ‰§è¡Œå‡ æ¬¡è¯·æ±‚</p></blockquote><ul><li><h5 id="åŒåå‡½æ•°ï¼Œç”¨å‚æ•°åŒºåˆ†"><a href="#åŒåå‡½æ•°ï¼Œç”¨å‚æ•°åŒºåˆ†" class="headerlink" title="åŒåå‡½æ•°ï¼Œç”¨å‚æ•°åŒºåˆ†"></a>åŒåå‡½æ•°ï¼Œç”¨å‚æ•°åŒºåˆ†</h5></li></ul><p><strong>ä»£ç ç¤ºä¾‹</strong></p><p>ç¼–å†™å¾…è¿½è¸ªä»£ç  SameMethodController.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SameMethodController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">"/method1"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">method</span><span class="params">(@RequestParam(<span class="string">"name"</span>)</span> String name) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">"/method2"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">method</span><span class="params">(@RequestParam(<span class="string">"name"</span>)</span> String name, @<span class="title">RequestParam</span><span class="params">(<span class="string">"age"</span>)</span> <span class="keyword">int</span> age) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name + age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼–å†™è¿½è¸ªä»£ç è„šæœ¬ BtracePrintConstructorArgSimple.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@BTrace</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BtracePrintSameMethodArgSimple</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ³¨æ„ï¼Œè¿™ä¸ªä¸¤ä¸ªæ–¹æ³•ï¼Œé™¤äº†æœ€åçš„å‚æ•°ä¸ªæ•°ä¸åŒï¼Œå…¶å®ƒéƒ½ä¸€æ ·ï¼Œè¯»è€…åœ¨æµ‹è¯•çš„æ—¶å€™å¯è‡ªè¡Œé€‰æ‹©æ”¾å¼€æµ‹è¯•</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// curl:http://localhost:8080/method2?name=xxx&amp;age=100</span></span><br><span class="line">    <span class="meta">@OnMethod</span>(clazz = <span class="string">"com.gulj.monitor.controller.SameMethodController"</span>, method = <span class="string">"method"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">method</span><span class="params">(@ProbeClassName String pcn, @ProbeMethodName String pmn,String name,<span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        BTraceUtils.println(<span class="string">"className="</span> + pcn + <span class="string">","</span> + <span class="string">"methodName="</span> + pmn + <span class="string">","</span> + <span class="string">"name="</span> + name +<span class="string">","</span> + <span class="string">"age="</span> + age);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">   </span><br><span class="line">    </span><br><span class="line">   <span class="comment">/* </span></span><br><span class="line"><span class="comment">    //è®¿é—®ï¼šcurl:http://localhost:8080/method1?name=xxx</span></span><br><span class="line"><span class="comment">    @OnMethod(clazz = "com.gulj.monitor.controller.SameMethodController", method = "method")</span></span><br><span class="line"><span class="comment">    public static void method(@ProbeClassName String pcn, @ProbeMethodName String pmn,String name) &#123;</span></span><br><span class="line"><span class="comment">        BTraceUtils.println("className=" + pcn + "," + "methodName=" + pmn + "," + "name=" + name );</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å‘é€è¯·æ±‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl:http://localhost:8080/method1?name=gulj&amp;age=12</span><br></pre></td></tr></table></figure><p>ç›‘æ§ç»“æœ</p><p><img src="http://p6nkwri76.bkt.clouddn.com/15329362107844.jpg" alt=""></p><blockquote><p>é€šè¿‡ç¬”è€…ä»¥ä¸Šçš„ä»‹ç»ï¼Œå°ä¼™ä¼´ä»¬æƒ³å¿…å·²ç»çŸ¥é“btraceæ€ä¹ˆç©äº†ï¼Œä¸‹é¢ä¸ºäº†é¿å…ç¯‡å¹…è¿‡é•¿ï¼Œç¬”è€…åªç»™å‡ºç¤ºä¾‹ä»£ç ä¸­çš„å¾…è¿½è¸ªä»£ç å’Œè¿½è¸ªä»£ç ï¼Œå°ä¼™ä¼´ä»¬è‡ªè¡Œè¿è¡ŒæŸ¥çœ‹æ•ˆæœã€‚</p></blockquote><h4 id="æ‹¦æˆªè¿”å›å€¼ã€å¼‚å¸¸ã€è¡Œå·"><a href="#æ‹¦æˆªè¿”å›å€¼ã€å¼‚å¸¸ã€è¡Œå·" class="headerlink" title="æ‹¦æˆªè¿”å›å€¼ã€å¼‚å¸¸ã€è¡Œå·"></a>æ‹¦æˆªè¿”å›å€¼ã€å¼‚å¸¸ã€è¡Œå·</h4><h5 id="æ‹¦æˆªè¿”å›å€¼"><a href="#æ‹¦æˆªè¿”å›å€¼" class="headerlink" title="æ‹¦æˆªè¿”å›å€¼"></a>æ‹¦æˆªè¿”å›å€¼</h5><pre><code>æ‹¦æˆªçº¿ä¸Šä»£ç æ–¹æ³•çš„è¿”å›å€¼</code></pre><p>ç¼–å†™å¾…è¿½è¸ªä»£ç  ReturnValueController.java<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReturnValueController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">"/returnValue"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">returnValue</span><span class="params">(@RequestParam(<span class="string">"name"</span>)</span> String name) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>ç¼–å†™è¿½è¸ªä»£ç è„šæœ¬ BtracePrintConstructorArgSimple.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@BTrace</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BtracePrintReturnValueSimple</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@OnMethod</span>(</span><br><span class="line">            clazz = <span class="string">"com.gulj.monitor.controller.ReturnValueController"</span>,</span><br><span class="line">            method = <span class="string">"returnValue"</span>,</span><br><span class="line">            location = <span class="meta">@Location</span>(Kind.RETURN)</span><br><span class="line">    )</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">anyRead</span><span class="params">(@ProbeClassName String pcn, @ProbeMethodName String pmn, @Return AnyType result)</span> </span>&#123;</span><br><span class="line">        BTraceUtils.println(<span class="string">"className="</span> + pcn + <span class="string">","</span> + <span class="string">"methodName="</span> + pmn + <span class="string">","</span> + <span class="string">"result="</span> + result);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>ä½¿ç”¨ @Location(Kind.RETURN) æŒ‡å®šç›‘æ§è¿”å›å€¼çš„åœ°æ–¹ï¼Œä½¿ç”¨ @Return AnyType result å­˜æ”¾ç›‘æ§çš„è¿”å›å€¼</p></blockquote><h5 id="æ‹¦æˆªå¼‚å¸¸"><a href="#æ‹¦æˆªå¼‚å¸¸" class="headerlink" title="æ‹¦æˆªå¼‚å¸¸"></a>æ‹¦æˆªå¼‚å¸¸</h5><pre><code>æ‹¦æˆªçº¿ä¸Šä»£ç æŒ‡å®šæ–¹æ³•å³ä½¿åå¹¶å¼‚å¸¸ï¼Œä»èƒ½å¼‚å¸¸æ ˆä¿¡æ¯è¢«ç›‘æ§è¾“å‡º</code></pre><p>ç¼–å†™å¾…è¿½è¸ªä»£ç  OnThrowController.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OnThrowController</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">"/exception"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">exception</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//TODO ä¸šåŠ¡ä»£ç </span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">int</span> i = <span class="number">1</span> / <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//TODO ä¸šåŠ¡ä»£ç </span></span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="string">"success"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼–å†™è¿½è¸ªä»£ç è„šæœ¬ BtracePrintOnThrowSimple.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@BTrace</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BtracePrintOnThrowSimple</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ä»£ç ä» usersguide.html ä¸­ copy btrace/samples/OnThrow.java</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// store current exception in a thread local</span></span><br><span class="line">    <span class="comment">// variable (@TLS annotation). Note that we can't</span></span><br><span class="line">    <span class="comment">// store it in a global variable!</span></span><br><span class="line">    <span class="meta">@TLS</span></span><br><span class="line">    <span class="keyword">static</span> Throwable currentException;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// introduce probe into every constructor of java.lang.Throwable</span></span><br><span class="line">    <span class="comment">// class and store "this" in the thread local variable.</span></span><br><span class="line">    <span class="meta">@OnMethod</span>(</span><br><span class="line">            clazz = <span class="string">"java.lang.Throwable"</span>,</span><br><span class="line">            method = <span class="string">"&lt;init&gt;"</span></span><br><span class="line">    )</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">onthrow</span><span class="params">(@Self Throwable self)</span> </span>&#123;</span><br><span class="line">        currentException = self;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@OnMethod</span>(</span><br><span class="line">            clazz = <span class="string">"java.lang.Throwable"</span>,</span><br><span class="line">            method = <span class="string">"&lt;init&gt;"</span></span><br><span class="line">    )</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">onthrow1</span><span class="params">(@Self Throwable self, String s)</span> </span>&#123;</span><br><span class="line">        currentException = self;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@OnMethod</span>(</span><br><span class="line">            clazz = <span class="string">"java.lang.Throwable"</span>,</span><br><span class="line">            method = <span class="string">"&lt;init&gt;"</span></span><br><span class="line">    )</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">onthrow1</span><span class="params">(@Self Throwable self, String s, Throwable cause)</span> </span>&#123;</span><br><span class="line">        currentException = self;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@OnMethod</span>(</span><br><span class="line">            clazz = <span class="string">"java.lang.Throwable"</span>,</span><br><span class="line">            method = <span class="string">"&lt;init&gt;"</span></span><br><span class="line">    )</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">onthrow2</span><span class="params">(@Self Throwable self, Throwable cause)</span> </span>&#123;</span><br><span class="line">        currentException = self;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// when any constructor of java.lang.Throwable returns</span></span><br><span class="line">    <span class="comment">// print the currentException's stack trace.</span></span><br><span class="line">    <span class="meta">@OnMethod</span>(</span><br><span class="line">            clazz = <span class="string">"java.lang.Throwable"</span>,</span><br><span class="line">            method = <span class="string">"&lt;init&gt;"</span>,</span><br><span class="line">            location = <span class="meta">@Location</span>(Kind.RETURN)</span><br><span class="line">    )</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">onthrowreturn</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (currentException != <span class="keyword">null</span>) &#123;</span><br><span class="line">            BTraceUtils.Threads.jstack(currentException);</span><br><span class="line">            println(<span class="string">"====================="</span>);</span><br><span class="line">            currentException = <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç›‘æ§ç»“æœ<br><img src="http://p6nkwri76.bkt.clouddn.com/15330259155713.jpg" alt=""></p><blockquote><p>è™½ç„¶æˆ‘ä»¬åœ¨ç¨‹åºä¸­æŠŠå¼‚å¸¸åé—­äº†ï¼Œä½†æ˜¯é€šè¿‡btraceçš„å¼‚å¸¸ç›‘æ§è„šæœ¬æˆ‘ä»¬ä»èƒ½è¾“å‡ºå¼‚å¸¸æ ˆä¿¡æ¯ï¼Œè¿™æ— ç–‘å¾ˆå¥½åœ°å¸®åŠ©æˆ‘ä»¬è§£å†³çº¿ä¸Šé—®é¢˜ï¼ˆbtraceçš„å¼‚å¸¸ç›‘æ§è„šæœ¬å‚è€ƒ usersguide.html ä¸­çš„ btrace/samples/OnThrow.javaæ–‡ä»¶ï¼‰</p></blockquote><h5 id="æ‹¦æˆªè¡Œå·"><a href="#æ‹¦æˆªè¡Œå·" class="headerlink" title="æ‹¦æˆªè¡Œå·"></a>æ‹¦æˆªè¡Œå·</h5><pre><code>æ‹¦æˆªçº¿ä¸Šä»£ç æŒ‡å®šè¡Œæ˜¯å¦è¢«æ‰§è¡Œåˆ°</code></pre>]]></content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;æ‹¦æˆªæ–¹æ³•&quot;&gt;&lt;a href=&quot;#æ‹¦æˆªæ–¹æ³•&quot; class=&quot;headerlink&quot; title=&quot;æ‹¦æˆªæ–¹æ³•&quot;&gt;&lt;/a&gt;æ‹¦æˆªæ–¹æ³•&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;h5 id=&quot;æ™®é€šæ–¹æ³•&quot;&gt;&lt;a href=&quot;#æ™®é€šæ–¹æ³•&quot; class=&quot;headerlink&quot; title=&quot;æ™®é€šæ–¹æ³•&quot;&gt;&lt;/a&gt;æ™®é€šæ–¹æ³•&lt;/h5&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@OnMethod&lt;/span&gt;( clazz = &lt;span class=&quot;string&quot;&gt;&quot;&quot;&lt;/span&gt;, method = &lt;span class=&quot;string&quot;&gt;&quot;&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ä¸Šä¸€ç¯‡æ–‡ç« æˆ‘ä»¬å·²ç»ä»‹ç»ï¼Œä¸æ¸…æ¥šçš„å°ä¼™ä¼´ï¼Œå¯è‡ªè¡Œå‰å¾€æŸ¥çœ‹ &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;h5 id=&quot;æ„é€ å‡½æ•°&quot;&gt;&lt;a href=&quot;#æ„é€ å‡½æ•°&quot; class=&quot;headerlink&quot; title=&quot;æ„é€ å‡½æ•°&quot;&gt;&lt;/a&gt;æ„é€ å‡½æ•°&lt;/h5&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@OnMethod&lt;/span&gt;( clazz = &lt;span class=&quot;string&quot;&gt;&quot;&quot;&lt;/span&gt;, method = &lt;span class=&quot;string&quot;&gt;&quot;&amp;lt;init&amp;gt;&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="Java" scheme="http://www.gulj.cn/categories/Java/"/>
    
    
      <category term="btrace" scheme="http://www.gulj.cn/tags/btrace/"/>
    
  </entry>
  
  <entry>
    <title>Java çº¿ä¸Šé—®é¢˜æ’æŸ¥ç¥å™¨ BTrace å…¥é—¨</title>
    <link href="http://www.gulj.cn/2018/07/30/Java-%E7%BA%BF%E4%B8%8A%E9%97%AE%E9%A2%98%E6%8E%92%E6%9F%A5%E7%A5%9E%E5%99%A8-BTrace-%E5%85%A5%E9%97%A8/"/>
    <id>http://www.gulj.cn/2018/07/30/Java-çº¿ä¸Šé—®é¢˜æ’æŸ¥ç¥å™¨-BTrace-å…¥é—¨/</id>
    <published>2018-07-30T03:27:13.000Z</published>
    <updated>2019-02-14T07:07:12.861Z</updated>
    
    <content type="html"><![CDATA[<h4 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h4><p>BTraceæ˜¯Javaå¹³å°çš„å®‰å…¨ï¼ŒåŠ¨æ€è·Ÿè¸ªå·¥å…·ã€‚</p><p>BTraceå¯ç”¨äºåŠ¨æ€è·Ÿè¸ªæ­£åœ¨è¿è¡Œçš„Javaç¨‹åºï¼ˆç±»ä¼¼äºOpenSolarisåº”ç”¨ç¨‹åºå’Œæ“ä½œç³»ç»Ÿçš„DTraceï¼‰ã€‚ BTraceåŠ¨æ€æ£€æµ‹ç›®æ ‡åº”ç”¨ç¨‹åºçš„ç±»ä»¥æ³¨å…¥è·Ÿè¸ªä»£ç ï¼ˆâ€œå­—èŠ‚ç è·Ÿè¸ªâ€ï¼‰</p><p>BTraceæ˜¯æ£€æŸ¥å’Œè§£å†³çº¿ä¸Šçš„é—®é¢˜çš„åˆ©å™¨ï¼ŒBTrace å¯ä»¥é€šè¿‡ç¼–å†™è„šæœ¬çš„æ–¹å¼ï¼Œåœ¨æœåŠ¡ä¸ç”¨é‡å¯çš„æƒ…å†µä¸‹ï¼Œè·å–ç¨‹åºæ‰§è¡Œè¿‡ç¨‹ä¸­ç›¸å…³ä¿¡æ¯ã€‚</p><a id="more"></a><h4 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h4><h5 id="ä¸‹è½½åœ°å€ï¼šBtrace-1-3-11"><a href="#ä¸‹è½½åœ°å€ï¼šBtrace-1-3-11" class="headerlink" title="ä¸‹è½½åœ°å€ï¼šBtrace-1.3.11"></a>ä¸‹è½½åœ°å€ï¼š<a href="https://github.com/btraceio/btrace/releases" target="_blank" rel="noopener">Btrace-1.3.11</a></h5><p>  ä¸‹è½½å®Œæˆï¼Œè¿›è¡Œè§£å‹ï¼Œè‡ªè¡Œæ”¾å…¥è¯»è€…è‡ªå·±çš„å®‰è£…ç›®å½•</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è§£å‹</span></span><br><span class="line">$ tar -zxvf btrace-bin-1.3.11.tgz.tar.gz</span><br></pre></td></tr></table></figure><h5 id="é…ç½®ç¯å¢ƒå˜é‡"><a href="#é…ç½®ç¯å¢ƒå˜é‡" class="headerlink" title="é…ç½®ç¯å¢ƒå˜é‡"></a>é…ç½®ç¯å¢ƒå˜é‡</h5><ul><li><p>MaxOsç”¨æˆ·</p><p>ç¼–è¾‘ ~/.bash_profile æ–‡ä»¶æ·»åŠ </p></li></ul>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># btrace(BTRACE_HOMEçš„è·¯å¾„è®°å¾—æ›¿æ¢æˆè‡ªå·±çš„btraceçš„ç›®å½•)</span></span><br><span class="line"><span class="built_in">export</span> BTRACE_HOME=/Users/gulj/Applications/developsoftware/btrace  </span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:<span class="variable">$BTRACE_HOME</span>/bin</span><br></pre></td></tr></table></figure><p>  è®©.bash_profileç”Ÿæ•ˆ</p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">source</span> ~./bash_profile</span><br></pre></td></tr></table></figure><ul><li><p>Windowç”¨æˆ·</p><p>ç¼–è¾‘ï¼šå³é”®â€”&gt;æˆ‘çš„ç”µè„‘â€”&gt;æˆ‘çš„ç”µè„‘â€”&gt;å±æ€§â€”&gt;é«˜çº§ç³»ç»Ÿè®¾ç½®â€”&gt;ç¯å¢ƒå˜é‡â€”&gt;ç³»ç»Ÿå˜é‡</p><p>åœ¨ç³»ç»Ÿå˜é‡ä¸­æ–°å»ºç¯å¢ƒå˜é‡ BTRACE_HOME </p></li></ul>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BTRACE_HOME=/Users/gulj/Applications/developsoftware/btrace</span><br></pre></td></tr></table></figure><p>  åœ¨ç³»ç»Ÿå˜é‡ä¸­æ‰¾åˆ°pathï¼Œåœ¨åé¢æ·»åŠ </p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">%BTRACE_HOME%\bin</span><br></pre></td></tr></table></figure><h5 id="éªŒè¯å®‰è£…æ˜¯å¦æ­£ç¡®"><a href="#éªŒè¯å®‰è£…æ˜¯å¦æ­£ç¡®" class="headerlink" title="éªŒè¯å®‰è£…æ˜¯å¦æ­£ç¡®"></a>éªŒè¯å®‰è£…æ˜¯å¦æ­£ç¡®</h5>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ btrace --version</span><br><span class="line"></span><br><span class="line">BTrace v.1.3.11 (20180406)</span><br></pre></td></tr></table></figure><h4 id="Btraceè¿è¡Œè„šæœ¬æ–¹å¼"><a href="#Btraceè¿è¡Œè„šæœ¬æ–¹å¼" class="headerlink" title="Btraceè¿è¡Œè„šæœ¬æ–¹å¼"></a>Btraceè¿è¡Œè„šæœ¬æ–¹å¼</h4><ul><li>åœ¨JVisualä¸­æ·»åŠ Btraceæ’ä»¶ï¼Œæ·»åŠ classpath</li><li>ä½¿ç”¨å‘½ä»¤è¡Œ btrace [-I include-path] [-p port] [-cp classpath] pid btrace-script [args]</li></ul><h4 id="Btrace-æ³¨è§£"><a href="#Btrace-æ³¨è§£" class="headerlink" title="Btrace æ³¨è§£"></a>Btrace æ³¨è§£</h4><p>åœ¨æˆ‘ä»¬è§£å‹åçš„/Users/gulj/Applications/developsoftware/btrace/docsç›®å½•ä¸‹ï¼Œæœ‰ä¸ªusersguide.htmlæ–‡ä»¶ï¼Œé‡Œé¢è¯¦ç»†ä»‹ç»äº†å„ç§æ³¨è§£çš„ä½œç”¨ä»¥åŠä½¿ç”¨æ–¹æ³•</p><ul><li><strong>Method Annotations</strong><ul><li>@com.sun.btrace.annotations.OnMethod</li><li>@com.sun.btrace.annotations.OnTimer</li><li>@com.sun.btrace.annotations.OnError</li><li>@com.sun.btrace.annotations.OnExit</li><li>@com.sun.btrace.annotations.OnEvent</li><li>@com.sun.btrace.annotations.OnLowMemory</li><li>@com.sun.btrace.annotations.OnProbe</li></ul></li><li><strong>Argument Annotations</strong><ul><li>@com.sun.btrace.annotations.Self</li><li>@com.sun.btrace.annotations.Return</li><li>@com.sun.btrace.annotations.CalledInstance</li><li>@com.sun.btrace.annotations.CalledMethod</li></ul></li><li><strong>Field Annotations</strong><ul><li>@com.sun.btrace.annotations.Export</li><li>@com.sun.btrace.annotations.Property</li><li>@com.sun.btrace.annotations.TLS</li></ul></li><li><strong>Class Annotations</strong><ul><li>@com.sun.btrace.annotations.DTrace</li><li>@com.sun.btrace.annotations.DTraceRef</li><li>@com.sun.btrace.annotations.BTrace</li></ul></li></ul><h4 id="ä½¿ç”¨ç¤ºä¾‹"><a href="#ä½¿ç”¨ç¤ºä¾‹" class="headerlink" title="ä½¿ç”¨ç¤ºä¾‹"></a>ä½¿ç”¨ç¤ºä¾‹</h4><h5 id="æ–°å»ºä¸€ä¸ªspringbootçš„webå·¥ç¨‹å¼•å…¥btraceçš„mavenç›¸å…³ä¾èµ–"><a href="#æ–°å»ºä¸€ä¸ªspringbootçš„webå·¥ç¨‹å¼•å…¥btraceçš„mavenç›¸å…³ä¾èµ–" class="headerlink" title="æ–°å»ºä¸€ä¸ªspringbootçš„webå·¥ç¨‹å¼•å…¥btraceçš„mavenç›¸å…³ä¾èµ–"></a>æ–°å»ºä¸€ä¸ªspringbootçš„webå·¥ç¨‹å¼•å…¥btraceçš„mavenç›¸å…³ä¾èµ–</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- btrace start --&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;com.sun.btrace&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;btrace-boot&lt;/artifactId&gt;</span><br><span class="line">    &lt;scope&gt;system&lt;/scope&gt;</span><br><span class="line">    &lt;version&gt;1.3.11&lt;/version&gt;</span><br><span class="line">    &lt;type&gt;jar&lt;/type&gt;</span><br><span class="line">    &lt;systemPath&gt;/Users/gulj/Applications/developsoftware/btrace/build/btrace-boot.jar&lt;/systemPath&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line"></span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;com.sun.btrace&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;btrace-client&lt;/artifactId&gt;</span><br><span class="line">    &lt;scope&gt;system&lt;/scope&gt;</span><br><span class="line">    &lt;version&gt;1.3.11&lt;/version&gt;</span><br><span class="line">    &lt;type&gt;jar&lt;/type&gt;</span><br><span class="line">    &lt;systemPath&gt;/Users/gulj/Applications/developsoftware/btrace/build/btrace-client.jar&lt;/systemPath&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line"></span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;com.sun.btrace&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;btrace-agent&lt;/artifactId&gt;</span><br><span class="line">    &lt;scope&gt;system&lt;/scope&gt;</span><br><span class="line">    &lt;version&gt;1.3.11&lt;/version&gt;</span><br><span class="line">    &lt;type&gt;jar&lt;/type&gt;</span><br><span class="line">    &lt;systemPath&gt;/Users/gulj/Applications/developsoftware/btrace/build/btrace-agent.jar&lt;/systemPath&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line">&lt;!-- btrace end --&gt;</span><br></pre></td></tr></table></figure><h5 id="ç¼–å†™è¦è¿½è¸ªè°ƒè¯•çš„ä»£ç "><a href="#ç¼–å†™è¦è¿½è¸ªè°ƒè¯•çš„ä»£ç " class="headerlink" title="ç¼–å†™è¦è¿½è¸ªè°ƒè¯•çš„ä»£ç "></a>ç¼–å†™è¦è¿½è¸ªè°ƒè¯•çš„ä»£ç </h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserController</span> </span>&#123;</span><br><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">"/hello"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">helloBtrace</span><span class="params">(@RequestParam(<span class="string">"name"</span>)</span> String name) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"helloï¼Œ"</span> + name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="ç¼–å†™è¿½è¸ªä»£ç "><a href="#ç¼–å†™è¿½è¸ªä»£ç " class="headerlink" title="ç¼–å†™è¿½è¸ªä»£ç "></a>ç¼–å†™è¿½è¸ªä»£ç </h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@BTrace</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BtracePrintArgSimple</span> </span>&#123;</span><br><span class="line">    <span class="meta">@OnMethod</span>(</span><br><span class="line">            clazz = <span class="string">"com.gulj.monitor.controller.UserController"</span>,</span><br><span class="line">            method = <span class="string">"helloBtrace"</span>,</span><br><span class="line">            location = <span class="meta">@Location</span>(Kind.ENTRY)</span><br><span class="line">    )</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">andyRead</span><span class="params">(@ProbeClassName String pcn, @ProbeMethodName String pmn, AnyType[] args)</span> </span>&#123;</span><br><span class="line">        BTraceUtils.printArray(args);</span><br><span class="line">        BTraceUtils.println(<span class="string">"className="</span> + pcn + <span class="string">","</span> + <span class="string">"methodName"</span> + pmn);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="è¿è¡Œ"><a href="#è¿è¡Œ" class="headerlink" title="è¿è¡Œ"></a>è¿è¡Œ</h5><p>å…ˆæŠŠæˆ‘ä»¬çš„springbootå·¥ç¨‹å¯åŠ¨ï¼Œé€šè¿‡ <strong>jps -l</strong> å–å¾—å·¥ç¨‹çš„pid ï¼Œç„¶ååœ¨æ‰§è¡Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 49165 å°±æ˜¯ç¬”è€…å·¥ç¨‹çš„pid</span></span><br><span class="line">btrace 49165 BtracePrintArgSimple.java</span><br></pre></td></tr></table></figure><p>è¿™æ ·æˆ‘ä»¬çš„è¿½è¸ªä»£ç å°±å¤„äºä¸€ç›´ç›‘æ§çŠ¶æ€ï¼Œæ­¤æ—¶ï¼Œæˆ‘ä»¬é€šè¿‡curlã€postmanç­‰æ–¹å¼ï¼Œè¯·æ±‚æˆ‘ä»¬å†™å¥½çš„æ¥å£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl http:<span class="comment">//localhost:8080/hello?name="btrace"</span></span><br></pre></td></tr></table></figure><p>é‚£ä¹ˆæˆ‘ä»¬çš„btraceç›‘æ§å°±ä¼šè¾“å‡ºæˆ‘ä»¬ç›‘æ§çš„ç»“æœ</p><p><img src="http://p6nkwri76.bkt.clouddn.com/15329300815070.jpg" alt=""></p><blockquote><p>è¿½è¸ªçš„ä»£ç ï¼ˆBtracePrintArgSimpleï¼‰å¯ä»¥å•ç‹¬å­˜æ”¾ï¼Œæ–°å»ºä¸€ä¸ªå·¥ç¨‹ï¼Œä¸å¿…å’Œæˆ‘ä»¬çš„ä¸šåŠ¡å·¥ç¨‹æ”¾åœ¨ä¸€èµ·</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;ä»‹ç»&quot;&gt;&lt;a href=&quot;#ä»‹ç»&quot; class=&quot;headerlink&quot; title=&quot;ä»‹ç»&quot;&gt;&lt;/a&gt;ä»‹ç»&lt;/h4&gt;&lt;p&gt;BTraceæ˜¯Javaå¹³å°çš„å®‰å…¨ï¼ŒåŠ¨æ€è·Ÿè¸ªå·¥å…·ã€‚&lt;/p&gt;
&lt;p&gt;BTraceå¯ç”¨äºåŠ¨æ€è·Ÿè¸ªæ­£åœ¨è¿è¡Œçš„Javaç¨‹åºï¼ˆç±»ä¼¼äºOpenSolarisåº”ç”¨ç¨‹åºå’Œæ“ä½œç³»ç»Ÿçš„DTraceï¼‰ã€‚ BTraceåŠ¨æ€æ£€æµ‹ç›®æ ‡åº”ç”¨ç¨‹åºçš„ç±»ä»¥æ³¨å…¥è·Ÿè¸ªä»£ç ï¼ˆâ€œå­—èŠ‚ç è·Ÿè¸ªâ€ï¼‰&lt;/p&gt;
&lt;p&gt;BTraceæ˜¯æ£€æŸ¥å’Œè§£å†³çº¿ä¸Šçš„é—®é¢˜çš„åˆ©å™¨ï¼ŒBTrace å¯ä»¥é€šè¿‡ç¼–å†™è„šæœ¬çš„æ–¹å¼ï¼Œåœ¨æœåŠ¡ä¸ç”¨é‡å¯çš„æƒ…å†µä¸‹ï¼Œè·å–ç¨‹åºæ‰§è¡Œè¿‡ç¨‹ä¸­ç›¸å…³ä¿¡æ¯ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="Java" scheme="http://www.gulj.cn/categories/Java/"/>
    
    
      <category term="btrace" scheme="http://www.gulj.cn/tags/btrace/"/>
    
  </entry>
  
  <entry>
    <title>Springé›†æˆActiveMQ</title>
    <link href="http://www.gulj.cn/2018/06/20/Spring%E9%9B%86%E6%88%90ActiveMQ/"/>
    <id>http://www.gulj.cn/2018/06/20/Springé›†æˆActiveMQ/</id>
    <published>2018-06-20T10:29:51.000Z</published>
    <updated>2019-02-14T07:07:12.863Z</updated>
    
    <content type="html"><![CDATA[<h4 id="æ ¸å¿ƒç±»ä»‹ç»"><a href="#æ ¸å¿ƒç±»ä»‹ç»" class="headerlink" title="æ ¸å¿ƒç±»ä»‹ç»"></a>æ ¸å¿ƒç±»ä»‹ç»</h4><ul><li>ConnectionFactory ç”¨äºç®¡ç†è¿æ¥çš„è¿æ¥å·¥å‚<ul><li>ä¸€ä¸ªSpringä¸ºæˆ‘ä»¬æä¾›çš„è¿æ¥æ± </li><li>Spring ä¸­æä¾›äº† SingleConnectionFactory å’Œ CachingConnectionFactory</li></ul></li><li>JmsTemplate  ç”¨äºå‘é€å’Œæ¥æ”¶æ¶ˆæ¯çš„æ¨¡æ¿ç±»</li><li>MessageListener æ¶ˆæ¯ç›‘å¬å™¨</li></ul><a id="more"></a><h4 id="åœ¨pom-xmlä¸­æ·»åŠ ActiveMQä¾èµ–"><a href="#åœ¨pom-xmlä¸­æ·»åŠ ActiveMQä¾èµ–" class="headerlink" title="åœ¨pom.xmlä¸­æ·»åŠ ActiveMQä¾èµ–"></a>åœ¨pom.xmlä¸­æ·»åŠ ActiveMQä¾èµ–</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">spring.version</span>&gt;</span>4.2.5.RELEASE<span class="tag">&lt;/<span class="name">spring.version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-jms<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.16.20<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.activemq<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>activemq-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.7.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">exclusions</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">exclusion</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">exclusion</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">exclusions</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="é˜Ÿåˆ—æ¨¡å¼æ¼”ç¤º"><a href="#é˜Ÿåˆ—æ¨¡å¼æ¼”ç¤º" class="headerlink" title="é˜Ÿåˆ—æ¨¡å¼æ¼”ç¤º"></a>é˜Ÿåˆ—æ¨¡å¼æ¼”ç¤º</h4><h5 id="ç”Ÿäº§è€…å‘é€æ¶ˆæ¯"><a href="#ç”Ÿäº§è€…å‘é€æ¶ˆæ¯" class="headerlink" title="ç”Ÿäº§è€…å‘é€æ¶ˆæ¯"></a>ç”Ÿäº§è€…å‘é€æ¶ˆæ¯</h5><p>ç”Ÿäº§è€…å‘é€æ¶ˆæ¯æ¥å£ <strong>ProducerService.java</strong> </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">ProducerService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å‘é€æ¶ˆæ¯</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> message</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">sendMessage</span><span class="params">(String message)</span></span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç”Ÿäº§è€…å‘é€æ¶ˆæ¯æ¥å£å®ç°ç±»  <strong>ProducerServiceImpl.java</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ProducerServiceImpl</span> <span class="keyword">implements</span> <span class="title">ProducerService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> JmsTemplate jmsTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Resource</span>(name = <span class="string">"queueDestination"</span>)</span><br><span class="line">    <span class="keyword">private</span> Destination destination;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sendMessage</span><span class="params">(<span class="keyword">final</span> String message)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// ä½¿ç”¨jmsTemplateå‘é€æ¶ˆæ¯</span></span><br><span class="line">        jmsTemplate.send(destination, <span class="keyword">new</span> MessageCreator() &#123;</span><br><span class="line">            <span class="comment">// åˆ›å»ºä¸€ä¸ªæ¶ˆæ¯</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> Message <span class="title">createMessage</span><span class="params">(Session session)</span> <span class="keyword">throws</span> JMSException </span>&#123;</span><br><span class="line">                TextMessage textMessage = session.createTextMessage(message);</span><br><span class="line">                <span class="keyword">return</span> textMessage;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        System.out.println(<span class="string">"å‘é€æ¶ˆæ¯ï¼š"</span> + message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç”Ÿäº§è€…å…¬å…±é…ç½®æ–‡ä»¶ <strong>common.xml</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">"http://www.springframework.org/schema/context"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="tag"><span class="string">       http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- å¯ç”¨æ³¨è§£ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:annotation-config</span>/&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- active mq ä¸ºæˆ‘ä»¬æä¾›çš„ ConnectionFactory --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"targetConnectionFactory"</span> <span class="attr">class</span>=<span class="string">"org.apache.activemq.ActiveMQConnectionFactory"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"brokerURL"</span> <span class="attr">value</span>=<span class="string">"tcp://localhost:61616"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- spring jms ä¸ºæˆ‘ä»¬æä¾›çš„è¿æ¥æ± --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"connectionFactory"</span> <span class="attr">class</span>=<span class="string">"org.springframework.jms.connection.SingleConnectionFactory"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"targetConnectionFactory"</span> <span class="attr">ref</span>=<span class="string">"targetConnectionFactory"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- ä¸€ä¸ªé˜Ÿåˆ—ç›®çš„åœ°ï¼Œç‚¹å¯¹ç‚¹çš„--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"queueDestination"</span> <span class="attr">class</span>=<span class="string">"org.apache.activemq.command.ActiveMQQueue"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">value</span>=<span class="string">"queue-spring"</span>&gt;</span><span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ç”Ÿäº§è€…é…ç½®æ–‡ä»¶ <strong>producer.xml</strong> å¯¼å…¥å…¬å…± <strong>common.xml</strong> æ–‡ä»¶</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- å¼•å…¥å…¬å…±é…ç½®--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">import</span> <span class="attr">resource</span>=<span class="string">"common.xml"</span>/&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- é…ç½®JmsTemplateï¼Œç”¨äºå‘é€æ¶ˆæ¯--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"jmsTemplate"</span> <span class="attr">class</span>=<span class="string">"org.springframework.jms.core.JmsTemplate"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"connectionFactory"</span> <span class="attr">ref</span>=<span class="string">"connectionFactory"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- é…ç½®è‡ªå·±å®šä¹‰çš„bean--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">"com.gulj.spring.jms.producer.ProducerServiceImpl"</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ç”Ÿäº§è€…å¯åŠ¨ç±» <strong>AppProducer.java</strong> è¿è¡Œmainæ–¹æ³•ï¼Œå¯åŠ¨ç”Ÿäº§è€…å‘é€æ¶ˆæ¯</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AppProducer</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        ClassPathXmlApplicationContext context = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">"producer.xml"</span>);</span><br><span class="line">        ProducerService producerService = context.getBean(ProducerService.class);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">80</span>; i++) &#123;</span><br><span class="line">            producerService.sendMessage(<span class="string">"test spring jms"</span> + i);</span><br><span class="line">        &#125;</span><br><span class="line">        context.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>ç”Ÿäº§è€…å‘é€æ¶ˆæ¯è¿è¡Œæ•ˆæœå›¾</p></blockquote><p><img src="http://p6nkwri76.bkt.clouddn.com/15294921036770.jpg" alt=""></p><h5 id="æ¶ˆè´¹è€…æ¶ˆè´¹æ¶ˆæ¯"><a href="#æ¶ˆè´¹è€…æ¶ˆè´¹æ¶ˆæ¯" class="headerlink" title="æ¶ˆè´¹è€…æ¶ˆè´¹æ¶ˆæ¯"></a>æ¶ˆè´¹è€…æ¶ˆè´¹æ¶ˆæ¯</h5><p>æ¶ˆè´¹è€…ç›‘å¬æ¶ˆæ¯è¿›è¡Œæ¶ˆè´¹ <strong>ConsumerMessageListener.java</strong><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ConsumerMessageListener</span> <span class="keyword">implements</span> <span class="title">MessageListener</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onMessage</span><span class="params">(Message message)</span> </span>&#123;</span><br><span class="line">        TextMessage textMessage = (TextMessage) message;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">"æ¥æ”¶åˆ°çš„æ¶ˆæ¯ï¼š"</span> + textMessage.getText());</span><br><span class="line">        &#125; <span class="keyword">catch</span> (JMSException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>æ¶ˆè´¹è€…é…ç½®æ–‡ä»¶ <strong>consumer.xml</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- å¼•å…¥å…¬å…±é…ç½® --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">import</span> <span class="attr">resource</span>=<span class="string">"common.xml"</span>/&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- é…ç½®è‡ªå®šä¹‰çš„æ¶ˆæ¯ç›‘å¬å™¨--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"consumerMessageListener"</span> <span class="attr">class</span>=<span class="string">"com.gulj.spring.jms.consumer.ConsumerMessageListener"</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- é…ç½®æ¶ˆæ¯ç›‘å¬å®¹å™¨ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"jmsContainer"</span> <span class="attr">class</span>=<span class="string">"org.springframework.jms.listener.DefaultMessageListenerContainer"</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- è¿æ¥å·¥å‚ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"connectionFactory"</span> <span class="attr">ref</span>=<span class="string">"connectionFactory"</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- é˜Ÿåˆ—åç§° --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"destination"</span> <span class="attr">ref</span>=<span class="string">"queueDestination"</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--æ¶ˆæ¯ç›‘å¬å™¨--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"messageListener"</span> <span class="attr">ref</span>=<span class="string">"consumerMessageListener"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ¶ˆè´¹è€…å¯åŠ¨ç±»  <strong>AppConsumer.java</strong> ç›´æ¥è¿è¡Œmainæ–¹æ³•ï¼Œç›‘å¬æ¶ˆæ¯è¿›è¡Œæ¶ˆè´¹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AppConsumer</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        ApplicationContext context = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">"consumer.xml"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>æ¶ˆè´¹è€…æ¶ˆè´¹æ¶ˆæ¯è¿è¡Œæ•ˆæœå›¾</p></blockquote><p><img src="http://p6nkwri76.bkt.clouddn.com/15294923916910.jpg" alt=""></p>]]></content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;æ ¸å¿ƒç±»ä»‹ç»&quot;&gt;&lt;a href=&quot;#æ ¸å¿ƒç±»ä»‹ç»&quot; class=&quot;headerlink&quot; title=&quot;æ ¸å¿ƒç±»ä»‹ç»&quot;&gt;&lt;/a&gt;æ ¸å¿ƒç±»ä»‹ç»&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;ConnectionFactory ç”¨äºç®¡ç†è¿æ¥çš„è¿æ¥å·¥å‚&lt;ul&gt;
&lt;li&gt;ä¸€ä¸ªSpringä¸ºæˆ‘ä»¬æä¾›çš„è¿æ¥æ± &lt;/li&gt;
&lt;li&gt;Spring ä¸­æä¾›äº† SingleConnectionFactory å’Œ CachingConnectionFactory&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;JmsTemplate  ç”¨äºå‘é€å’Œæ¥æ”¶æ¶ˆæ¯çš„æ¨¡æ¿ç±»&lt;/li&gt;
&lt;li&gt;MessageListener æ¶ˆæ¯ç›‘å¬å™¨&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="Java" scheme="http://www.gulj.cn/categories/Java/"/>
    
    
      <category term="activemq" scheme="http://www.gulj.cn/tags/activemq/"/>
    
  </entry>
  
  <entry>
    <title>ActiveMQå…¥é—¨æ•™ç¨‹</title>
    <link href="http://www.gulj.cn/2018/06/12/ActiveMQ%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/"/>
    <id>http://www.gulj.cn/2018/06/12/ActiveMQå…¥é—¨æ•™ç¨‹/</id>
    <published>2018-06-12T07:10:18.000Z</published>
    <updated>2019-02-14T07:07:12.858Z</updated>
    
    <content type="html"><![CDATA[<h4 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h4><h5 id="ActiveMQ"><a href="#ActiveMQ" class="headerlink" title="ActiveMQ"></a>ActiveMQ</h5><p>ActiveMQ æ˜¯Apacheå‡ºçš„ï¼Œæœ€æµè¡Œçš„ï¼ŒåŠŸèƒ½å¼ºå¤§çš„å³æ—¶é€šè®¯å’Œé›†æˆæ¨¡å¼çš„å¼€æºæœåŠ¡å™¨ã€‚ActiveMQ æ˜¯ä¸€ä¸ªå®Œå…¨æ”¯æŒJMS1.1å’ŒJ2EE 1.4è§„èŒƒçš„ JMS Providerå®ç°ã€‚æä¾›å®¢æˆ·ç«¯æ”¯æŒè·¨è¯­è¨€å’Œåè®®ï¼Œå¸¦æœ‰æ˜“äºåœ¨å……åˆ†æ”¯æŒJMS 1.1å’Œ1.4ä½¿ç”¨J2EEä¼ä¸šé›†æˆæ¨¡å¼å’Œè®¸å¤šå…ˆè¿›çš„åŠŸèƒ½ã€‚</p><h5 id="ä»€ä¹ˆæ˜¯JMSï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯JMSï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯JMSï¼Ÿ"></a>ä»€ä¹ˆæ˜¯JMSï¼Ÿ</h5><p>Javaæ¶ˆæ¯æœåŠ¡(Java Message Service) å³JMSï¼Œæ˜¯ä¸€ä¸ªjavaå¹³å°ä¸­å…³äºé¢å‘æ¶ˆæ¯ä¸­é—´ä»¶çš„APIï¼Œç”¨äºåœ¨ä¸¤ä¸ªåº”ç”¨ç¨‹åºä¹‹é—´ï¼Œæˆ–åˆ†å¸ƒå¼ç³»ç»Ÿä¸­å‘é€æ¶ˆæ¯ï¼Œè¿›è¡Œå¼‚æ­¥é€šä¿¡ã€‚</p><h5 id="ä»€ä¹ˆæ˜¯AMQPï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯AMQPï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯AMQPï¼Ÿ"></a>ä»€ä¹ˆæ˜¯AMQPï¼Ÿ</h5><p>AMQP(advanced message queuing protocol) æ˜¯ä¸€ä¸ªæä¾›ç»Ÿä¸€æ¶ˆæ¯æœåŠ¡çš„åº”ç”¨å±‚æ ‡å‡†å±‚åè®®ï¼ŒåŸºäºæ­¤åè®®çš„å®¢æˆ·ç«¯ä¸æ¶ˆæ¯ä¸­é—´ä»¶å¯ä¼ é€’æ€§ï¼Œå¹¶ä¸å—å®¢æˆ·ç«¯/ä¸­é—´ä»¶ä¸åŒäº§å“ï¼Œä¸åŒå¼€å‘è¯­è¨€ç­‰æ¡ä»¶çš„é™åˆ¶ã€‚</p><a id="more"></a><h5 id="JMS-å’Œ-AMQP-å¯¹æ¯”"><a href="#JMS-å’Œ-AMQP-å¯¹æ¯”" class="headerlink" title="JMS å’Œ AMQP å¯¹æ¯”"></a>JMS å’Œ AMQP å¯¹æ¯”</h5><p><img src="http://p6nkwri76.bkt.clouddn.com/15287919658014.jpg" alt=""></p><h5 id="ActiveMQã€RabbitMQ-å’Œ-Kafka-ç®€å•å¯¹æ¯”"><a href="#ActiveMQã€RabbitMQ-å’Œ-Kafka-ç®€å•å¯¹æ¯”" class="headerlink" title="ActiveMQã€RabbitMQ å’Œ Kafka ç®€å•å¯¹æ¯”"></a>ActiveMQã€RabbitMQ å’Œ Kafka ç®€å•å¯¹æ¯”</h5><p><img src="http://p6nkwri76.bkt.clouddn.com/15287922045430.jpg" alt=""></p><h4 id="JMSè§„èŒƒ"><a href="#JMSè§„èŒƒ" class="headerlink" title="JMSè§„èŒƒ"></a>JMSè§„èŒƒ</h4><h5 id="JMSç›¸å…³æ¦‚å¿µ"><a href="#JMSç›¸å…³æ¦‚å¿µ" class="headerlink" title="JMSç›¸å…³æ¦‚å¿µ"></a>JMSç›¸å…³æ¦‚å¿µ</h5><ul><li>æ¶ˆè´¹è€…/è®¢é˜…è€… ï¼š æ¥æ”¶å¹¶å¤„ç†æ¶ˆæ¯çš„å®¢æˆ·ç«¯</li><li>æ¶ˆæ¯ ï¼š åº”ç”¨ç¨‹åºä¹‹é—´ä¼ é€’çš„æ•°æ®å†…å®¹</li><li>æ¶ˆæ¯æ¨¡å¼ ï¼š åœ¨å®¢æˆ·ç«¯ä¹‹é—´ä¼ é€’æ¶ˆæ¯çš„æ–¹å¼ï¼ŒJMSä¸­å®šä¹‰äº†ä¸»é¢˜å’Œé˜Ÿåˆ—ä¸¤ç§æ¨¡å¼</li></ul><h5 id="JMSæ¶ˆæ¯æ¨¡å¼â€”é˜Ÿåˆ—æ¨¡å‹"><a href="#JMSæ¶ˆæ¯æ¨¡å¼â€”é˜Ÿåˆ—æ¨¡å‹" class="headerlink" title="JMSæ¶ˆæ¯æ¨¡å¼â€”é˜Ÿåˆ—æ¨¡å‹"></a>JMSæ¶ˆæ¯æ¨¡å¼â€”é˜Ÿåˆ—æ¨¡å‹</h5><ul><li>å®¢æˆ·ç«¯åŒ…æ‹¬ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…</li><li>é˜Ÿåˆ—ä¸­çš„æ¶ˆæ¯åªèƒ½è¢«ä¸€ä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹</li><li>æ¶ˆè´¹è€…å¯ä»¥éšæ—¶æ¶ˆè´¹é˜Ÿåˆ—ä¸­çš„æ¶ˆæ¯</li></ul><blockquote><p>é˜Ÿåˆ—æ¨¡å‹ç¤ºæ„å›¾</p></blockquote><p><img src="http://p6nkwri76.bkt.clouddn.com/15287932053125.jpg" alt=""></p><h5 id="JMSæ¶ˆæ¯æ¨¡å¼â€”ä¸»é¢˜æ¨¡å‹"><a href="#JMSæ¶ˆæ¯æ¨¡å¼â€”ä¸»é¢˜æ¨¡å‹" class="headerlink" title="JMSæ¶ˆæ¯æ¨¡å¼â€”ä¸»é¢˜æ¨¡å‹"></a>JMSæ¶ˆæ¯æ¨¡å¼â€”ä¸»é¢˜æ¨¡å‹</h5><ul><li>å®¢æˆ·ç«¯åŒ…æ‹¬ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…</li><li>ä¸»é¢˜ä¸­çš„æ¶ˆæ¯è¢«æ‰€æœ‰æ¶ˆè´¹è€…æ¶ˆè´¹</li><li>æ¶ˆè´¹è€…å¿…é¡»å…ˆè®¢é˜…ï¼Œæ‰èƒ½æ¶ˆè´¹å‘é€åˆ°ä¸»é¢˜ä¸­çš„æ¶ˆæ¯</li></ul><blockquote><p>ä¸»é¢˜æ¨¡å‹ç¤ºæ„å›¾</p></blockquote><p><img src="http://p6nkwri76.bkt.clouddn.com/15287934870520.jpg" alt=""></p><h5 id="JMSç¼–ç æ¥å£"><a href="#JMSç¼–ç æ¥å£" class="headerlink" title="JMSç¼–ç æ¥å£"></a>JMSç¼–ç æ¥å£</h5><ul><li><strong>ConnectionFactory</strong> ç”¨äºåˆ›å»ºè¿æ¥åˆ°æ¶ˆæ¯ä¸­é—´ä»¶çš„è¿æ¥å·¥å‚</li><li><strong>Connection</strong> ä»£è¡¨äº†åº”ç”¨ç¨‹åºå’Œæ¶ˆæ¯æœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡é“¾è·¯</li><li><strong>Destination</strong> æŒ‡æ¶ˆæ¯å‘å¸ƒå’Œæ¥æ”¶çš„åœ°ç‚¹ï¼ŒåŒ…æ‹¬é˜Ÿåˆ—æˆ–ä¸»é¢˜</li><li><strong>Session</strong> è¡¨ç¤ºä¸€ä¸ªå•çº¿ç¨‹çš„ä¸Šä¸‹æ–‡ï¼Œç”¨äºå‘é€å’Œæ¥æ”¶æ¶ˆæ¯</li><li><strong>MessageConsumer</strong> ç”±ä¼šè¯åˆ›å»ºï¼Œç”¨äºæ¥æ”¶å‘é€åˆ°ç›®æ ‡çš„æ¶ˆæ¯</li><li><strong>MessageProducer</strong> ç”±ä¼šè¯åˆ›å»ºï¼Œç”¨äºå‘é€æ¶ˆæ¯åˆ°ç›®æ ‡</li><li><strong>Message</strong> æ˜¯åœ¨æ¶ˆè´¹è€…å’Œç”Ÿäº§è€…ä¹‹é—´ä¼ é€çš„å¯¹è±¡ï¼Œæ¶ˆæ¯å¤´ï¼Œä¸€ç»„æ¶ˆæ¯å±æ€§ï¼Œä¸€ä¸ªæ¶ˆæ¯ä½“</li></ul><h5 id="JMSç¼–ç æ¥å£ä¹‹é—´çš„å…³ç³»"><a href="#JMSç¼–ç æ¥å£ä¹‹é—´çš„å…³ç³»" class="headerlink" title="JMSç¼–ç æ¥å£ä¹‹é—´çš„å…³ç³»"></a>JMSç¼–ç æ¥å£ä¹‹é—´çš„å…³ç³»</h5><p><img src="http://p6nkwri76.bkt.clouddn.com/15287940346330.jpg" alt=""></p><h4 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h4><ul><li>æŸ¥è¯¢Dockeré•œåƒ</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker search activemq</span><br></pre></td></tr></table></figure><ul><li>ä¸‹è½½Dockeré•œåƒ</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker pull webcenter/activemq</span><br></pre></td></tr></table></figure><ul><li>åˆ›å»º&amp;è¿è¡ŒActiveMQå®¹å™¨</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker run -d --name myactivemq -p 61616:61616 -p 8161:8161 webcenter/activemq</span><br></pre></td></tr></table></figure><ul><li>æŸ¥çœ‹WEBç®¡ç†é¡µé¢</li></ul><blockquote><p>æµè§ˆå™¨è¾“å…¥<a href="http://127.0.0.1:8161/" target="_blank" rel="noopener">http://127.0.0.1:8161/</a>  ç‚¹å‡»<strong>Manage ActiveMQ broker</strong>ä½¿ç”¨é»˜è®¤è´¦å·/å¯†ç ï¼šadmin/adminè¿›å…¥æŸ¥çœ‹</p></blockquote><p><img src="http://p6nkwri76.bkt.clouddn.com/15287925784817.jpg" alt=""></p><h4 id="é˜Ÿåˆ—æ¨¡å¼æ¶ˆæ¯å’Œä¸»é¢˜æ¨¡å¼æ¶ˆæ¯ä»£ç æ¼”ç¤º"><a href="#é˜Ÿåˆ—æ¨¡å¼æ¶ˆæ¯å’Œä¸»é¢˜æ¨¡å¼æ¶ˆæ¯ä»£ç æ¼”ç¤º" class="headerlink" title="é˜Ÿåˆ—æ¨¡å¼æ¶ˆæ¯å’Œä¸»é¢˜æ¨¡å¼æ¶ˆæ¯ä»£ç æ¼”ç¤º"></a>é˜Ÿåˆ—æ¨¡å¼æ¶ˆæ¯å’Œä¸»é¢˜æ¨¡å¼æ¶ˆæ¯ä»£ç æ¼”ç¤º</h4><h5 id="é˜Ÿåˆ—æ¨¡å¼æ¶ˆæ¯æ¼”ç¤º"><a href="#é˜Ÿåˆ—æ¨¡å¼æ¶ˆæ¯æ¼”ç¤º" class="headerlink" title="é˜Ÿåˆ—æ¨¡å¼æ¶ˆæ¯æ¼”ç¤º"></a>é˜Ÿåˆ—æ¨¡å¼æ¶ˆæ¯æ¼”ç¤º</h5><p><strong> ç”Ÿäº§è€… AppProducer.java </strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AppProducer</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// MQæœåŠ¡å™¨åœ°å€</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String BROKER_URL = <span class="string">"tcp://127.0.0.1:61616"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é˜Ÿåˆ—åç§°</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String QUEUE_NAME = <span class="string">"queue-test"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> JMSException </span>&#123;</span><br><span class="line">        <span class="comment">// 1.åˆ›å»ºè¿æ¥å·¥å‚</span></span><br><span class="line">        ConnectionFactory factory = <span class="keyword">new</span> ActiveMQConnectionFactory(BROKER_URL);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2.åˆ›å»ºè¿æ¥</span></span><br><span class="line">        Connection connection = factory.createConnection();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3.å¯åŠ¨è¿æ¥</span></span><br><span class="line">        connection.start();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4.åˆ›å»ºä¼šè¯</span></span><br><span class="line">        Session session = connection.createSession(<span class="keyword">false</span>, Session.AUTO_ACKNOWLEDGE);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 5.åˆ›å»ºä¸€ä¸ªç›®æ ‡</span></span><br><span class="line">        Destination destination = session.createQueue(QUEUE_NAME);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 6.åˆ›å»ºä¸€ä¸ªç”Ÿäº§è€…</span></span><br><span class="line">        MessageProducer producer = session.createProducer(destination);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¾ªç¯å‘é€æ¶ˆæ¯</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">            <span class="comment">// åˆ›å»ºæ¶ˆæ¯</span></span><br><span class="line">            TextMessage textMessage = session.createTextMessage(<span class="string">"ã€test-activemq-producerã€‘"</span> + i);</span><br><span class="line">            <span class="comment">// å‘å¸ƒæ¶ˆæ¯</span></span><br><span class="line">            producer.send(textMessage);</span><br><span class="line"></span><br><span class="line">            System.out.println(<span class="string">"æ¶ˆæ¯å‘é€æˆåŠŸï¼š"</span> + textMessage);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å…³é—­è¿æ¥</span></span><br><span class="line">        connection.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>æ¶ˆè´¹è€… AppConsumer.java</strong> (ç”±äºæ¶ˆè´¹è€…çš„åˆ›å»ºæµç¨‹å’Œç”Ÿäº§è€…éå¸¸ç±»ä¼¼ï¼Œç‰¹æ„ç”¨ ActiveMqHelper ç±»è¿›è¡Œç®€å•å°è£…ä¸€ä¸‹)</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AppConsumer</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> JMSException </span>&#123;</span><br><span class="line">        <span class="comment">// åˆ›å»ºè¿æ¥</span></span><br><span class="line">        Connection connection = ActiveMqHelper.createConnection();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åˆ›å»ºä¼šè¯</span></span><br><span class="line">        Session session = ActiveMqHelper.createSession(connection);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åˆ›å»ºä¸€ä¸ªç›®æ ‡</span></span><br><span class="line">        Destination destination = ActiveMqHelper.createQueue(session);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åˆ›å»ºä¸€ä¸ªæ¶ˆè´¹è€…</span></span><br><span class="line">        MessageConsumer consumer = session.createConsumer(destination);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ¶ˆè´¹è€…ç›‘å¬è¦æ¶ˆè´¹çš„ä¿¡æ¯</span></span><br><span class="line">        consumer.setMessageListener(message -&gt; &#123;</span><br><span class="line">            <span class="comment">// æ¥æ”¶åˆ°çš„æ¶ˆæ¯å†…å®¹c</span></span><br><span class="line">            TextMessage textMessage = (TextMessage) message;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                System.out.println(<span class="string">"ã€æ¶ˆè´¹è€…æ¥æ”¶åˆ°çš„æ¶ˆæ¯ã€‘"</span> + textMessage.getText());</span><br><span class="line">            &#125; <span class="keyword">catch</span> (JMSException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å…³é—­è¿æ¥,å› ä¸ºç›‘å¬æ˜¯å¼‚æ­¥æ“ä½œï¼Œ</span></span><br><span class="line">        <span class="comment">// å¦‚æœäº‹å…ˆå…³é—­è¿æ¥ï¼Œç›‘å¬æ“ä½œè¿˜æœªå¤„ç†å®Œæˆï¼Œåˆ™ä¼šæ”¶ä¸åˆ°æ¶ˆæ¯ï¼Œ</span></span><br><span class="line">        <span class="comment">// æ­£å¸¸å¤„ç†é€»è¾‘æ˜¯åœ¨ç›‘å¬äº‹ä»¶å¤„ç†å®Œæˆåï¼Œå†é‡Šæ”¾è¿æ¥</span></span><br><span class="line">        <span class="comment">// connection.close();</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>MQå¸®åŠ©ç±» ActiveMqHelper.java</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ActiveMqHelper</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// MQæœåŠ¡å™¨åœ°å€</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String BROKER_URL = <span class="string">"tcp://127.0.0.1:61616"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é˜Ÿåˆ—åç§°</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String QUEUE_NAME = <span class="string">"queue-test"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä¸»é¢˜åç§°</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String TOPIC_NAME = <span class="string">"topic-test"</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆ›å»ºè¿æ¥</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> JMSException</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Connection <span class="title">createConnection</span><span class="params">()</span> <span class="keyword">throws</span> JMSException </span>&#123;</span><br><span class="line">        <span class="comment">// 1.åˆ›å»ºè¿æ¥å·¥å‚</span></span><br><span class="line">        ConnectionFactory factory = <span class="keyword">new</span> ActiveMQConnectionFactory(BROKER_URL);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2.åˆ›å»ºè¿æ¥</span></span><br><span class="line">        Connection connection = factory.createConnection();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3.å¯åŠ¨è¿æ¥</span></span><br><span class="line">        connection.start();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> connection;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆ›å»ºä¼šè¯</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> connection</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> JMSException</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Session <span class="title">createSession</span><span class="params">(Connection connection)</span> <span class="keyword">throws</span> JMSException </span>&#123;</span><br><span class="line">        <span class="comment">// 4.åˆ›å»ºä¼šè¯</span></span><br><span class="line">        <span class="keyword">return</span> connection.createSession(<span class="keyword">false</span>, Session.AUTO_ACKNOWLEDGE);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆ›å»ºé˜Ÿåˆ—ç›®æ ‡</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> session</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> JMSException</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Destination <span class="title">createQueue</span><span class="params">(Session session)</span> <span class="keyword">throws</span> JMSException </span>&#123;</span><br><span class="line">        <span class="comment">// 5.åˆ›å»ºä¸€ä¸ªé˜Ÿåˆ—ç›®æ ‡</span></span><br><span class="line">        <span class="keyword">return</span> session.createQueue(QUEUE_NAME);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆ›å»ºä¸»é¢˜ç›®æ ‡</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> session</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> JMSException</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Destination <span class="title">createTopic</span><span class="params">(Session session)</span> <span class="keyword">throws</span> JMSException </span>&#123;</span><br><span class="line">        <span class="comment">// 5.åˆ›å»ºä¸€ä¸ªä¸»é¢˜ç›®æ ‡</span></span><br><span class="line">        <span class="keyword">return</span> session.createTopic(TOPIC_NAME);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><pre><code>ä»£ç æ•ˆæœå›¾å±•ç¤º</code></pre><p><img src="http://p6nkwri76.bkt.clouddn.com/15287957083915.jpg" alt=""></p><h5 id="ä¸»é¢˜æ¨¡å¼æ¶ˆæ¯æ¼”ç¤º"><a href="#ä¸»é¢˜æ¨¡å¼æ¶ˆæ¯æ¼”ç¤º" class="headerlink" title="ä¸»é¢˜æ¨¡å¼æ¶ˆæ¯æ¼”ç¤º"></a>ä¸»é¢˜æ¨¡å¼æ¶ˆæ¯æ¼”ç¤º</h5><p><strong>ç”Ÿäº§è€… AppProducer.java</strong> (ä¸»é¢˜æ¨¡å¼çš„ä»£ç ç¤ºä¾‹å’Œé˜Ÿåˆ—æ¨¡å¼çš„ä»£ç ç¤ºä¾‹åŸºæœ¬ç›¸åŒï¼Œåªæœ‰åœ¨åˆ›å»ºä¸»é¢˜ç›®æ ‡çš„æ—¶å€™ä¸åŒï¼Œè¿˜è¯·è€é“è‡ªè¡Œå®ç°) <strong>æ¶ˆè´¹è€…åŒç†å‚è€ƒé˜Ÿåˆ—æ¨¡å¼ä»£ç å®ç°</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AppProducer</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> JMSException </span>&#123;</span><br><span class="line">        <span class="comment">// ....</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 3.åˆ›å»ºä¸»é¢˜ç›®æ ‡ (ä¸é˜Ÿåˆ—æ¨¡å¼å”¯ä¸€åŒºåˆ«çš„ä»£ç ï¼Œå…¶å®ƒéƒ½ä¸€æ ·)</span></span><br><span class="line">        Destination destination = session.createTopic(TOPIC_NAME);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// ....</span></span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p><strong>ä¸»é¢˜æ¨¡å¼æ³¨æ„ç‚¹</strong>ï¼š<br>1ã€å…ˆå¯åŠ¨AppConsumer.javaç±»ï¼ˆæ¶ˆè´¹è€…å…ˆè¿›è¡Œè®¢é˜…ï¼‰ï¼Œåœ¨å¯åŠ¨ AppProvider.java ç±»ï¼ˆç”Ÿäº§è€…è¿›è¡Œç”Ÿäº§ï¼‰è¿™æ ·æ¶ˆè´¹è€…æ‰èƒ½ç›‘å¬åˆ°ç”Ÿäº§è€…ç”Ÿæˆçš„æ¶ˆæ¯è¿›è¡Œæ¶ˆè´¹ï¼›é˜Ÿåˆ—æ¨¡å¼æ²¡æœ‰æ­¤è¦æ±‚<br>2ã€ç”Ÿäº§è€…ç”Ÿäº§100æ¡æ¶ˆæ¯ï¼Œè‹¥æœ‰å¤šä¸ªæ¶ˆè´¹è€…ï¼Œæ¯ä¸ªæ¶ˆè´¹è€…å‡æ¶ˆè´¹100æ¡æ¶ˆæ¯ï¼›è€Œé˜Ÿåˆ—æ¨¡å¼ï¼Œåˆ™æ˜¯æ¯ä¸ªæ¶ˆè´¹è€…åˆè®¡èµ·æ¥æ¶ˆè´¹è¿™ 100 æ¡æ¶ˆæ¯</p></blockquote><pre><code>ä»£ç æ•ˆæœå›¾å±•ç¤º</code></pre><p><img src="http://p6nkwri76.bkt.clouddn.com/15287962252457.jpg" alt=""></p>]]></content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;ä»‹ç»&quot;&gt;&lt;a href=&quot;#ä»‹ç»&quot; class=&quot;headerlink&quot; title=&quot;ä»‹ç»&quot;&gt;&lt;/a&gt;ä»‹ç»&lt;/h4&gt;&lt;h5 id=&quot;ActiveMQ&quot;&gt;&lt;a href=&quot;#ActiveMQ&quot; class=&quot;headerlink&quot; title=&quot;ActiveMQ&quot;&gt;&lt;/a&gt;ActiveMQ&lt;/h5&gt;&lt;p&gt;ActiveMQ æ˜¯Apacheå‡ºçš„ï¼Œæœ€æµè¡Œçš„ï¼ŒåŠŸèƒ½å¼ºå¤§çš„å³æ—¶é€šè®¯å’Œé›†æˆæ¨¡å¼çš„å¼€æºæœåŠ¡å™¨ã€‚ActiveMQ æ˜¯ä¸€ä¸ªå®Œå…¨æ”¯æŒJMS1.1å’ŒJ2EE 1.4è§„èŒƒçš„ JMS Providerå®ç°ã€‚æä¾›å®¢æˆ·ç«¯æ”¯æŒè·¨è¯­è¨€å’Œåè®®ï¼Œå¸¦æœ‰æ˜“äºåœ¨å……åˆ†æ”¯æŒJMS 1.1å’Œ1.4ä½¿ç”¨J2EEä¼ä¸šé›†æˆæ¨¡å¼å’Œè®¸å¤šå…ˆè¿›çš„åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;h5 id=&quot;ä»€ä¹ˆæ˜¯JMSï¼Ÿ&quot;&gt;&lt;a href=&quot;#ä»€ä¹ˆæ˜¯JMSï¼Ÿ&quot; class=&quot;headerlink&quot; title=&quot;ä»€ä¹ˆæ˜¯JMSï¼Ÿ&quot;&gt;&lt;/a&gt;ä»€ä¹ˆæ˜¯JMSï¼Ÿ&lt;/h5&gt;&lt;p&gt;Javaæ¶ˆæ¯æœåŠ¡(Java Message Service) å³JMSï¼Œæ˜¯ä¸€ä¸ªjavaå¹³å°ä¸­å…³äºé¢å‘æ¶ˆæ¯ä¸­é—´ä»¶çš„APIï¼Œç”¨äºåœ¨ä¸¤ä¸ªåº”ç”¨ç¨‹åºä¹‹é—´ï¼Œæˆ–åˆ†å¸ƒå¼ç³»ç»Ÿä¸­å‘é€æ¶ˆæ¯ï¼Œè¿›è¡Œå¼‚æ­¥é€šä¿¡ã€‚&lt;/p&gt;
&lt;h5 id=&quot;ä»€ä¹ˆæ˜¯AMQPï¼Ÿ&quot;&gt;&lt;a href=&quot;#ä»€ä¹ˆæ˜¯AMQPï¼Ÿ&quot; class=&quot;headerlink&quot; title=&quot;ä»€ä¹ˆæ˜¯AMQPï¼Ÿ&quot;&gt;&lt;/a&gt;ä»€ä¹ˆæ˜¯AMQPï¼Ÿ&lt;/h5&gt;&lt;p&gt;AMQP(advanced message queuing protocol) æ˜¯ä¸€ä¸ªæä¾›ç»Ÿä¸€æ¶ˆæ¯æœåŠ¡çš„åº”ç”¨å±‚æ ‡å‡†å±‚åè®®ï¼ŒåŸºäºæ­¤åè®®çš„å®¢æˆ·ç«¯ä¸æ¶ˆæ¯ä¸­é—´ä»¶å¯ä¼ é€’æ€§ï¼Œå¹¶ä¸å—å®¢æˆ·ç«¯/ä¸­é—´ä»¶ä¸åŒäº§å“ï¼Œä¸åŒå¼€å‘è¯­è¨€ç­‰æ¡ä»¶çš„é™åˆ¶ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="Java" scheme="http://www.gulj.cn/categories/Java/"/>
    
    
      <category term="activemq" scheme="http://www.gulj.cn/tags/activemq/"/>
    
  </entry>
  
  <entry>
    <title>Mac OSXå¹³å°ä½¿ç”¨jenvç®¡ç†å¤šä¸ªJavaç‰ˆæœ¬</title>
    <link href="http://www.gulj.cn/2018/06/08/OSX%E5%B9%B3%E5%8F%B0%E4%BD%BF%E7%94%A8jenv%E7%AE%A1%E7%90%86%E5%A4%9A%E4%B8%AAJava%E7%89%88%E6%9C%AC/"/>
    <id>http://www.gulj.cn/2018/06/08/OSXå¹³å°ä½¿ç”¨jenvç®¡ç†å¤šä¸ªJavaç‰ˆæœ¬/</id>
    <published>2018-06-08T08:45:28.000Z</published>
    <updated>2019-02-14T07:07:12.862Z</updated>
    
    <content type="html"><![CDATA[<h4 id="JDKå®‰è£…"><a href="#JDKå®‰è£…" class="headerlink" title="JDKå®‰è£…"></a>JDKå®‰è£…</h4><ul><li>JDKä¸‹è½½</li></ul><p><a href="http://www.oracle.com/technetwork/java/javase/downloads/java-archive-downloads-javase7-521261.html" target="_blank" rel="noopener">jdk7ä¸‹è½½é“¾æ¥</a></p><p><a href="http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html" target="_blank" rel="noopener">jdk8ä¸‹è½½é“¾æ¥</a></p><blockquote><p>ä¸‹è½½è‡ªå·±éœ€è¦çš„æ‰©å±•åä¸ºdmgçš„Jdkç‰ˆæœ¬ï¼ŒæŒ‰ç…§æç¤ºç›´æ¥ä¸€æ­¥æ­¥å®‰è£…å³å¯</p></blockquote><ul><li>é…ç½®JDKç¯å¢ƒå˜é‡</li></ul><p>æ‰“å¼€ vim ~/.bash_profile æ–‡ä»¶ è¿›è¡Œæ·»åŠ </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> JAVA_8_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_112.jdk/Contents/Home</span><br><span class="line"><span class="built_in">export</span> JAVA_7_HOME=/Library/Java/JavaVirtualMachines/jdk1.7.0_80.jdk/Contents/Home</span><br><span class="line"><span class="comment"># é»˜è®¤æ¿€æ´» jdk8</span></span><br><span class="line"><span class="built_in">export</span> JAVA_HOME=<span class="variable">$JAVA_8_HOME</span></span><br></pre></td></tr></table></figure><a id="more"></a><p>ç¼–è¾‘å®Œæˆï¼Œé‡æ–°åŠ è½½ .bash_profile</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">source</span> ~/.bash_profile</span><br></pre></td></tr></table></figure><h4 id="jEnvå®‰è£…"><a href="#jEnvå®‰è£…" class="headerlink" title="jEnvå®‰è£…"></a>jEnvå®‰è£…</h4><ul><li>å®‰è£…</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ brew install jenv</span><br></pre></td></tr></table></figure><ul><li>é…ç½®</li></ul><p>å®‰è£…äº†zshï¼Œé…ç½®å¦‚ä¸‹<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> <span class="string">'export PATH="$HOME/.jenv/bin:$PATH"'</span> &gt;&gt; ~/.zshrc</span><br><span class="line">$ <span class="built_in">echo</span> <span class="string">'eval "$(jenv init -)"'</span> &gt;&gt; ~/.zshrc</span><br></pre></td></tr></table></figure></p><p>å¦‚æœæ˜¯é»˜è®¤çš„bash</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> <span class="string">'export PATH="$HOME/.jenv/bin:$PATH"'</span> &gt;&gt; ~/.bash_profile</span><br><span class="line">$ <span class="built_in">echo</span> <span class="string">'eval "$(jenv init -)"'</span> &gt;&gt; ~/.bash_profilec</span><br></pre></td></tr></table></figure><h4 id="jEnvé…ç½®JDK"><a href="#jEnvé…ç½®JDK" class="headerlink" title="jEnvé…ç½®JDK"></a>jEnvé…ç½®JDK</h4><p>æŸ¥çœ‹å®‰è£…çš„javaç‰ˆæœ¬ï¼Œå¦‚æœæˆ‘ä»¬ä¸€å¼€å§‹æœªæ·»åŠ jdkï¼Œæ‰§è¡Œjenv versions åº”è¯¥æ˜¯ç©ºçš„ï¼Œ* å·ä½ç½®è¡¨ç¤ºå½“å‰çš„jdkç‰ˆæœ¬</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ jenv versions</span><br><span class="line">  system</span><br><span class="line">  1.7</span><br><span class="line">* 1.7.0.80 (<span class="built_in">set</span> by /Users/gulj/.java-version)</span><br><span class="line">  1.8</span><br><span class="line">  1.8.0.112</span><br><span class="line">  oracle64-1.7.0.80</span><br><span class="line">  oracle64-1.8.0.112</span><br></pre></td></tr></table></figure><p>é‡å¯ä¸‹terminalï¼Œä¸ºjEnvæ·»åŠ javaç‰ˆæœ¬</p><pre><code>æ·»åŠ jdk7</code></pre><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ jenv add /Library/Java/JavaVirtualMachines/jdk1.7.0_80.jdk/Contents/Home</span><br></pre></td></tr></table></figure><pre><code>æ·»åŠ jdk8</code></pre><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ jenv add /Library/Java/JavaVirtualMachines/jdk1.8.0_112.jdk/Contents/Home</span><br></pre></td></tr></table></figure><blockquote><p>æ·»åŠ å®Œjdk7å’Œjdk8ä¹‹åï¼Œå†æ‰§è¡Œ <strong>jenv versions</strong> å‘½ä»¤å°±ä¼šçœ‹åˆ°æˆ‘ä»¬æ·»åŠ çš„jdk</p></blockquote><h4 id="jEnvå¸¸ç”¨å‘½ä»¤"><a href="#jEnvå¸¸ç”¨å‘½ä»¤" class="headerlink" title="jEnvå¸¸ç”¨å‘½ä»¤"></a>jEnvå¸¸ç”¨å‘½ä»¤</h4><ul><li>ç§»é™¤æŒ‡å®šç‰ˆæœ¬jdk</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ jenv remove 1.8.0.111</span><br></pre></td></tr></table></figure><ul><li>é€‰æ‹©ä¸€ä¸ªjdkç‰ˆæœ¬</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ jenv <span class="built_in">local</span> 1.8.0.111</span><br></pre></td></tr></table></figure><ul><li>è®¾ç½®é»˜è®¤çš„jdkç‰ˆæœ¬</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ jenv global 1.8.0.111</span><br></pre></td></tr></table></figure><ul><li>æŸ¥çœ‹å½“å‰ç‰ˆæœ¬jdkçš„è·¯å¾„</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jenv <span class="built_in">which</span> java</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;JDKå®‰è£…&quot;&gt;&lt;a href=&quot;#JDKå®‰è£…&quot; class=&quot;headerlink&quot; title=&quot;JDKå®‰è£…&quot;&gt;&lt;/a&gt;JDKå®‰è£…&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;JDKä¸‹è½½&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;http://www.oracle.com/technetwork/java/javase/downloads/java-archive-downloads-javase7-521261.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;jdk7ä¸‹è½½é“¾æ¥&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;jdk8ä¸‹è½½é“¾æ¥&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸‹è½½è‡ªå·±éœ€è¦çš„æ‰©å±•åä¸ºdmgçš„Jdkç‰ˆæœ¬ï¼ŒæŒ‰ç…§æç¤ºç›´æ¥ä¸€æ­¥æ­¥å®‰è£…å³å¯&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;é…ç½®JDKç¯å¢ƒå˜é‡&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ‰“å¼€ vim ~/.bash_profile æ–‡ä»¶ è¿›è¡Œæ·»åŠ &lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;export&lt;/span&gt; JAVA_8_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_112.jdk/Contents/Home&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;export&lt;/span&gt; JAVA_7_HOME=/Library/Java/JavaVirtualMachines/jdk1.7.0_80.jdk/Contents/Home&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# é»˜è®¤æ¿€æ´» jdk8&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;export&lt;/span&gt; JAVA_HOME=&lt;span class=&quot;variable&quot;&gt;$JAVA_8_HOME&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="Java" scheme="http://www.gulj.cn/categories/Java/"/>
    
    
      <category term="mac" scheme="http://www.gulj.cn/tags/mac/"/>
    
  </entry>
  
  <entry>
    <title>Mac OSXå¹³å°å¼€å‘å·¥å…·å’Œå¸¸ç”¨è½¯ä»¶æ¨è</title>
    <link href="http://www.gulj.cn/2018/06/07/OSX%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7%E5%92%8C%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E6%8E%A8%E8%8D%90/"/>
    <id>http://www.gulj.cn/2018/06/07/OSXå¹³å°å¼€å‘å·¥å…·å’Œå¸¸ç”¨è½¯ä»¶æ¨è/</id>
    <published>2018-06-07T01:30:46.000Z</published>
    <updated>2019-02-14T07:07:12.863Z</updated>
    
    <content type="html"><![CDATA[<h4 id="å¼€å‘å·¥å…·"><a href="#å¼€å‘å·¥å…·" class="headerlink" title="å¼€å‘å·¥å…·"></a>å¼€å‘å·¥å…·</h4><blockquote><h5 id="Beyond-Compare-4"><a href="#Beyond-Compare-4" class="headerlink" title="Beyond Compare 4"></a><a href="">Beyond Compare 4</a></h5></blockquote><p><img src="http://p6nkwri76.bkt.clouddn.com/15283665142155.jpg" alt=""></p><p>Beyond Compare æ˜¯ä¸€æ¬¾å¼ºå¤§ä¸“ä¸šçš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹å¯¹æ¯”å·¥å…·ã€‚ä½¿ç”¨å®ƒå¯ä»¥å¾ˆæ–¹ä¾¿åœ°æ¯”è¾ƒå‡ºä¸¤ä¸ªæ–‡ä»¶æˆ–æ–‡ä»¶å¤¹çš„å·®å¼‚ï¼Œç›¸å·®çš„æ¯ä¸€ä¸ªå­—èŠ‚ç”¨é¢œè‰²åŠ ä»¥æ ‡è¯†ï¼Œè®©æ‚¨æŸ¥çœ‹æ–¹ä¾¿ï¼Œæ”¯æŒä¼—å¤šç§æ ¼å¼çš„å¯¹æ¯”ã€‚åªéœ€ä½¿ç”¨ç®€å•æ“ä½œæ–¹å¼æ–¹å¯å¼€å¯å¿«æ·çœäº‹çš„æ–‡ä»¶å¯¹æ¯”ä½“éªŒï¼Œæ‰¾å‡ºæ‚¨æ‰€éœ€å·®å¼‚ã€åˆå¹¶å˜åŒ–ï¼Œç„¶ååŒæ­¥æ–‡ä»¶ï¼Œå¹¶ç”ŸæˆæŠ¥å‘Šä¸€æ°”å‘µæˆã€‚</p><pre><code>å› ç‰ˆæœ¬é—®é¢˜ï¼Œä¸å†æä¾›ä¸‹è½½ï¼Œè¿˜è¯·å¤§å®¶æ”¯æŒæ­£ç‰ˆï¼</code></pre><a id="more"></a><blockquote><h5 id="IntelliJ-IDEA"><a href="#IntelliJ-IDEA" class="headerlink" title="IntelliJ IDEA"></a><a href="https://www.jetbrains.com/idea/download/#section=mac" target="_blank" rel="noopener"><strong>IntelliJ IDEA</strong></a></h5></blockquote><p><img src="http://p6nkwri76.bkt.clouddn.com/15283664787908.jpg" alt=""></p><p>IntelliJ IDEA ä¸»è¦ç”¨äºæ”¯æŒ Javaã€Scalaã€Groovy ç­‰è¯­è¨€çš„å¼€å‘å·¥å…·ï¼ŒåŒæ—¶å…·å¤‡æ”¯æŒç›®å‰ä¸»æµçš„æŠ€æœ¯å’Œæ¡†æ¶ï¼Œæ“…é•¿äºä¼ä¸šåº”ç”¨ã€ç§»åŠ¨åº”ç”¨å’Œ Web åº”ç”¨çš„å¼€å‘</p><ul><li><a href="https://www.jetbrains.com/idea/download/#section=mac" target="_blank" rel="noopener">IntelliJ IDEA ä¸‹è½½</a></li></ul><blockquote><h5 id="Navicat-Premium-12"><a href="#Navicat-Premium-12" class="headerlink" title="Navicat Premium 12"></a><a href=""><strong>Navicat Premium 12</strong></a></h5></blockquote><p><img src="http://p6nkwri76.bkt.clouddn.com/15283665560503.jpg" alt=""></p><p>Navicat Premiumæ˜¯ä¸€å¥—æ•°æ®åº“ç®¡ç†å·¥å…·ï¼Œç»“åˆäº†å…¶å®ƒNavicatæˆå‘˜çš„åŠŸèƒ½ï¼Œæ”¯æŒå•ä¸€ç¨‹åºåŒæ™‚è¿æ¥åˆ°MySQLã€MariaDBã€SQL Serverã€SQLiteã€Oracleå’ŒPostgreSQLæ•°æ®åº“ã€‚Navicat Premiumå¯æ»¡è¶³ç°ä»Šæ•°æ®åº“ç®¡ç†ç³»ç»Ÿçš„ä½¿ç”¨åŠŸèƒ½ï¼ŒåŒ…æ‹¬å­˜å‚¨è¿‡ç¨‹ã€äº‹ä»¶ã€è§¦å‘å™¨ã€å‡½æ•°ã€è§†å›¾ç­‰ã€‚</p><ul><li><a href="https://pan.baidu.com/s/1Yg_URJVMrwXpWg0Zjz0U7A" target="_blank" rel="noopener">Navicat Premium 12.0.26 Macä¸­æ–‡ç ´è§£ç‰ˆä¸‹è½½</a>  å¯†ç : x643</li></ul><blockquote><h5 id="SwitchHosts"><a href="#SwitchHosts" class="headerlink" title="SwitchHosts"></a><a href="https://oldj.github.io/SwitchHosts/" target="_blank" rel="noopener"><strong>SwitchHosts</strong></a></h5></blockquote><p><img src="http://p6nkwri76.bkt.clouddn.com/15283666788213.jpg" alt=""></p><p>ç”¨äºå¿«é€Ÿåˆ‡æ¢ hosts æ–‡ä»¶çš„å°ç¨‹åºï¼ŒåŸºäº Electron å¼€å‘ï¼ŒåŒæ—¶ä½¿ç”¨äº† Reactã€Ant Design ä»¥åŠ CodeMirror ç­‰æ¡†æ¶/åº“ã€‚</p><ul><li><a href="https://oldj.github.io/SwitchHosts/" target="_blank" rel="noopener">SwitchHostsä¸‹è½½</a></li></ul><blockquote><h5 id="Charles"><a href="#Charles" class="headerlink" title="Charles"></a><a href=""><strong>Charles</strong></a></h5></blockquote><p><img src="http://p6nkwri76.bkt.clouddn.com/15283852138077.jpg" alt=""></p><p>Charlesæ˜¯ä¸€æ¬¾ç”¨äºHTTPä¿¡æ¯æŠ“åŒ…å·¥å…·ï¼Œå¯ä»¥å¿«é€Ÿæœ‰æ•ˆçš„è·å¾—HTTPä¿¡æ¯ï¼Œéå¸¸åˆ©äºå¼€å‘è€…çš„ç½‘é¡µå¼€å‘å’Œè°ƒè¯•ä¿®æ”¹ç­‰ï¼Charles æœ‰ç€å¯è§†åŒ–çš„æ“ä½œç•Œé¢ï¼Œéå¸¸åˆ©ç”¨ç¼–è¾‘è€…çš„ä½¿ç”¨å’Œè°ƒè¯•ï¼</p><p><a href="https://pan.baidu.com/s/13wK-LESpOnlkDHnDeKzT8g" target="_blank" rel="noopener">Charles 4.2.5 Macç ´è§£ç‰ˆä¸‹è½½</a>   å¯†ç : mpdd</p><blockquote><h5 id="iTerm2"><a href="#iTerm2" class="headerlink" title="iTerm2"></a><a href="https://www.iterm2.com/downloads.html" target="_blank" rel="noopener"><strong>iTerm2</strong></a></h5></blockquote><p><img src="http://p6nkwri76.bkt.clouddn.com/15283668785778.jpg" alt=""></p><p>iTerm2æ˜¯Macä¸‹æœ€å¥½çš„ç»ˆç«¯å·¥å…·</p><ul><li><a href="https://www.iterm2.com/downloads.html" target="_blank" rel="noopener">iTerm2ä¸‹è½½</a></li></ul><blockquote><h5 id="typora"><a href="#typora" class="headerlink" title="typora"></a><a href="https://www.typora.io/" target="_blank" rel="noopener"><strong>typora</strong></a></h5></blockquote><p><img src="http://p6nkwri76.bkt.clouddn.com/15283510068673.jpg" alt="typoraä¸‹è½½"></p><p>ä¸€æ¬¾æ— å¯æŒ‘å‰”çš„ Markdown ç¼–è¾‘å™¨</p><ul><li><a href="https://www.typora.io/" target="_blank" rel="noopener">typoraä¸‹è½½</a></li></ul><blockquote><h5 id="Redis-Desktop-Manager"><a href="#Redis-Desktop-Manager" class="headerlink" title="Redis Desktop Manager"></a><a href=""><strong>Redis Desktop Manager</strong></a></h5></blockquote><p><img src="http://p6nkwri76.bkt.clouddn.com/15283517957054.jpg" alt=""></p><p>ä¸€æ¬¾åŸºäºQt5çš„è·¨å¹³å°Redisæ¡Œé¢ç®¡ç†è½¯ä»¶</p><ul><li><a href="https://github.com/uglide/RedisDesktopManager/releases" target="_blank" rel="noopener">Redis Desktop Managerä¸‹è½½</a></li></ul><blockquote><h5 id="VirtualBox"><a href="#VirtualBox" class="headerlink" title="VirtualBox"></a><a href="https://www.virtualbox.org/wiki/Downloads" target="_blank" rel="noopener"><strong>VirtualBox</strong></a></h5></blockquote><p><img src="http://p6nkwri76.bkt.clouddn.com/15283521669374.jpg" alt=""></p><p>VirtualBoxå·ç§°æ˜¯æœ€å¼ºçš„å…è´¹è™šæ‹Ÿæœºè½¯ä»¶ï¼Œå®ƒä¸ä»…å…·æœ‰ä¸°å¯Œçš„ç‰¹è‰²ï¼Œè€Œä¸”æ€§èƒ½ä¹Ÿå¾ˆä¼˜å¼‚ï¼</p><ul><li><a href="https://www.virtualbox.org/wiki/Downloads" target="_blank" rel="noopener">VirtualBox ä¸‹è½½</a></li></ul><blockquote><h5 id="Postman"><a href="#Postman" class="headerlink" title="Postman"></a><a href="https://www.getpostman.com" target="_blank" rel="noopener"><strong>Postman</strong></a></h5></blockquote><p><img src="http://p6nkwri76.bkt.clouddn.com/15283526329071.jpg" alt=""></p><p>Postmanæ˜¯googleå¼€å‘çš„ä¸€æ¬¾åŠŸèƒ½å¼ºå¤§çš„ç½‘é¡µè°ƒè¯•ä¸å‘é€ç½‘é¡µHTTPè¯·æ±‚ï¼Œå¹¶èƒ½è¿è¡Œæµ‹è¯•ç”¨ä¾‹çš„çš„Chromeæ’ä»¶</p><ul><li><a href="https://www.getpostman.com/apps" target="_blank" rel="noopener">Postman ä¸‹è½½</a></li></ul><blockquote><h5 id="Visual-Studio-Code"><a href="#Visual-Studio-Code" class="headerlink" title="Visual Studio Code"></a><a href="https://code.visualstudio.com/" target="_blank" rel="noopener"><strong>Visual Studio Code</strong></a></h5></blockquote><p><img src="http://p6nkwri76.bkt.clouddn.com/15283533842261.jpg" alt=""></p><p>Visual Studio Codeï¼ˆç®€ç§°VS Codeï¼‰æ˜¯ä¸€ä¸ªç”±å¾®è½¯å¼€å‘çš„ï¼ŒåŒæ—¶æ”¯æŒWindowsã€Linuxå’ŒmacOSæ“ä½œç³»ç»Ÿä¸”å¼€æ”¾æºä»£ç çš„æ–‡æœ¬ç¼–è¾‘å™¨ã€‚[4]å®ƒæ”¯æŒè°ƒè¯•ï¼Œå¹¶å†…ç½®äº†Git ç‰ˆæœ¬æ§åˆ¶åŠŸèƒ½ï¼ŒåŒæ—¶ä¹Ÿå…·æœ‰å¼€å‘ç¯å¢ƒåŠŸèƒ½ï¼Œä¾‹å¦‚ä»£ç è¡¥å…¨ï¼ˆç±»ä¼¼äº IntelliSenseï¼‰ã€ä»£ç ç‰‡æ®µã€ä»£ç é‡æ„ç­‰ã€‚è¯¥ç¼–è¾‘å™¨æ”¯æŒç”¨æˆ·è‡ªå®šä¹‰é…ç½®ï¼Œä¾‹å¦‚æ”¹å˜ä¸»é¢˜é¢œè‰²ã€é”®ç›˜å¿«æ·æ–¹å¼ã€ç¼–è¾‘å™¨å±æ€§å’Œå…¶ä»–å‚æ•°ï¼Œè¿˜æ”¯æŒæ‰©å±•ç¨‹åºå¹¶åœ¨ç¼–è¾‘å™¨ä¸­å†…ç½®äº†æ‰©å±•ç¨‹åºç®¡ç†çš„åŠŸèƒ½</p><ul><li><a href="https://code.visualstudio.com/" target="_blank" rel="noopener">Visual Studio Code ä¸‹è½½</a></li></ul><blockquote><h5 id="Go2Shell"><a href="#Go2Shell" class="headerlink" title="Go2Shell"></a><a href="http://zipzapmac.com/go2shell" target="_blank" rel="noopener"><strong>Go2Shell</strong></a></h5></blockquote><p><img src="http://p6nkwri76.bkt.clouddn.com/15283669617974.jpg" alt=""></p><p>Go2Shell å¯ä»¥åœ¨ Finder ä¸­æ‰“å¼€å½“å‰ç›®å½•çš„ç»ˆç«¯çª—å£ï¼Œæ˜¯ä¸€ä¸ªå¯¹å¼€å‘è€…æ¥è¯´éå¸¸æœ‰ç”¨çš„App</p><ul><li><a href="http://zipzapmac.com/go2shell" target="_blank" rel="noopener">Go2Shell ä¸‹è½½</a></li></ul><blockquote><h5 id="Axure-RP"><a href="#Axure-RP" class="headerlink" title="Axure RP"></a><a href=""><strong>Axure RP</strong></a></h5></blockquote><p><img src="http://p6nkwri76.bkt.clouddn.com/15283649835518.jpg" alt=""></p><p>Axure RPæ˜¯ç¾å›½Axure Software Solutionå…¬å¸æ——èˆ°äº§å“ï¼Œæ˜¯ä¸€ä¸ªä¸“ä¸šçš„å¿«é€ŸåŸå‹è®¾è®¡å·¥å…·ï¼Œè®©è´Ÿè´£å®šä¹‰éœ€æ±‚å’Œè§„æ ¼ã€è®¾è®¡åŠŸèƒ½å’Œç•Œé¢çš„ä¸“å®¶èƒ½å¤Ÿå¿«é€Ÿåˆ›å»ºåº”ç”¨è½¯ä»¶æˆ–Webç½‘ç«™çš„çº¿æ¡†å›¾ã€æµç¨‹å›¾ã€åŸå‹å’Œè§„æ ¼è¯´æ˜æ–‡æ¡£ã€‚ä½œä¸ºä¸“ä¸šçš„åŸå‹è®¾è®¡å·¥å…·ï¼Œå®ƒèƒ½å¿«é€Ÿã€é«˜æ•ˆçš„åˆ›å»ºåŸå‹ï¼ŒåŒæ—¶æ”¯æŒå¤šäººåä½œè®¾è®¡å’Œç‰ˆæœ¬æ§åˆ¶ç®¡ç†ã€‚</p><ul><li><a href="https://pan.baidu.com/s/1TgoSd1gv5oaBmNDlxn7GpQ" target="_blank" rel="noopener">Axure RP 8.1.0.3372 Macç ´è§£ç‰ˆä¸‹è½½</a>  å¯†ç : ast9</li></ul><h4 id="å¸¸ç”¨è½¯ä»¶"><a href="#å¸¸ç”¨è½¯ä»¶" class="headerlink" title="å¸¸ç”¨è½¯ä»¶"></a>å¸¸ç”¨è½¯ä»¶</h4><blockquote><h5 id="PDF-Expert"><a href="#PDF-Expert" class="headerlink" title="PDF Expert"></a><a href=""><strong>PDF Expert</strong></a></h5></blockquote><p><img src="http://p6nkwri76.bkt.clouddn.com/15283663140153.jpg" alt=""></p><p>å¿«é€Ÿã€è½»å·§ã€æ˜“ç”¨çš„PDFç¼–è¾‘å™¨ï¼Œè½»æ¾åœ¨MACä¸Šå®ŒæˆPDFç¼–è¾‘ã€é˜…è¯»ã€æ‰¹æ³¨ã€ç¼–è¾‘æ–‡æœ¬ã€æ·»åŠ ç…§ç‰‡ã€å¡«å†™è¡¨å•ã€ç­¾ç½²åˆåŒã€åˆå¹¶PDFæ–‡æ¡£ä»¥åŠåŠ å¯†ä¿æŠ¤ï¼Œåªéœ€è½»è½»ç‚¹å‡»å‡ ä¸‹å³å¯ï¼Œå‰æ‰€æœªæœ‰çš„ä½“éªŒ</p><pre><code>å› ç‰ˆæœ¬é—®é¢˜ï¼Œä¸å†æä¾›ä¸‹è½½ï¼Œè¿˜è¯·å¤§å®¶æ”¯æŒæ­£ç‰ˆï¼</code></pre><blockquote><h5 id="Alfred-3"><a href="#Alfred-3" class="headerlink" title="Alfred 3"></a><a href=""><strong>Alfred 3</strong></a></h5></blockquote><p><img src="http://p6nkwri76.bkt.clouddn.com/15283630704984.jpg" alt=""></p><p>Alfredå¯ä»¥å¸®åŠ©ä½ å¿«é€Ÿã€æ–¹ä¾¿çš„æ‰“å¼€ä»»æ„åº”ç”¨ç¨‹åºï¼Œé…åˆå¿«æ·é”®ä½ å¯ä»¥å¤§å¤§æé«˜å·¥ä½œæ•ˆç‡ã€‚</p><ul><li><a href="https://pan.baidu.com/s/1CNRCeXBkkoQo2YM0M54yvg" target="_blank" rel="noopener">Alfred 3.6.1 Macç ´è§£ç‰ˆä¸‹è½½</a> å¯†ç : kq9t</li></ul><blockquote><h5 id="BetterZip"><a href="#BetterZip" class="headerlink" title="BetterZip"></a><a href=""><strong>BetterZip</strong></a></h5></blockquote><p><img src="http://p6nkwri76.bkt.clouddn.com/15283636990531.jpg" alt=""></p><p>BetterZipæ˜¯ä¸€æ¬¾åŠŸèƒ½å¼ºå¤§çš„å‹ç¼©è½¯ä»¶ï¼Œä¸å¿…è§£å‹å°±èƒ½å¿«é€Ÿåœ°æ£€æŸ¥å‹ç¼©æ–‡æ¡£ã€‚å®ƒèƒ½æ‰§è¡Œæ–‡ä»¶ä¹‹é—´çš„åˆå¹¶å¹¶æä¾›å¯†ç ã€‚ä½¿ç”¨å®ƒï¼Œç”¨æˆ·å¯ä»¥æ›´å¿«æ·çš„å‘å‹ç¼©æ–‡ä»¶ä¸­æ·»åŠ å’Œåˆ é™¤æ–‡ä»¶ã€‚ å®ƒæ”¯æŒåŒ…æ‹¬zipã€gzã€bzã€bz2ã€tarã€tgzã€tbzã€rarã€7-zipã€cpioã€ arjã€lhaã€lhzã€cabã€isoã€chmã€rpmã€debã€nsisã€sitã€ddã€hqxå’Œbinç­‰å¤šç§æ ¼å¼çš„æ–‡ä»¶ã€‚</p><ul><li><a href="https://pan.baidu.com/s/1G-U64a1X4-i7ytVkpqbOfQ" target="_blank" rel="noopener">BetterZip 4.1.3 Macä¸­æ–‡ç ´è§£ç‰ˆä¸‹è½½</a> å¯†ç : kndb</li></ul><blockquote><h5 id="Snagit"><a href="#Snagit" class="headerlink" title="Snagit"></a><a href=""><strong>Snagit</strong></a></h5></blockquote><p><img src="http://p6nkwri76.bkt.clouddn.com/15283663479522.jpg" alt=""></p><p>Snagitå¯ä»¥ä½¿ç”¨æ­¤å·¥å…·è½»æ¾æŠ“å–å›¾åƒã€æ–‡æœ¬å’Œå½±éŸ³ç­‰å¤šç§å†…å®¹å½¢å¼ï¼Œå†…ç½®å¼ºå¤§ç¼–è¾‘å™¨ï¼Œæ•æ‰ã€ç¼–è¾‘ä¸€æ­¥åˆ°ä½ã€‚</p><ul><li><a href="https://pan.baidu.com/s/1MOrfJjxCiuKSOf5n8IX6Ug" target="_blank" rel="noopener">Snagit 4.1.9 Macç ´è§£ç‰ˆä¸‹è½½</a>  å¯†ç : dga7</li></ul><blockquote><h5 id="Office"><a href="#Office" class="headerlink" title="Office"></a><a href=""><strong>Office</strong></a></h5></blockquote><p><img src="http://p6nkwri76.bkt.clouddn.com/15283662261261.jpg" alt=""></p><p>Office 2016æ˜¯ä¸€æ¬¾é›†æˆè‡ªåŠ¨åŒ–åŠå…¬è½¯ä»¶ï¼ŒOffice 2016ç”±å„ç§åŠŸèƒ½ç»„ä»¶æ„æˆï¼ŒåŒ…æ‹¬Word 2016ã€Excel 2016ã€PowerPoint 2016ã€Access 2016ã€Outlook 2016å’ŒPublisher 2016ç­‰</p><p><a href="https://pan.baidu.com/s/1WN8wuONp7Qd3C_I0F9hO3w" target="_blank" rel="noopener">Office 2016 16.13.1 Macä¸­æ–‡ç ´è§£ç‰ˆä¸‹è½½</a>  å¯†ç : 2qwt</p><p><a href="https://pan.baidu.com/s/13jKpDdtZObT-MLZUMkAkSw" target="_blank" rel="noopener">Office 2016 ç ´è§£è¡¥ä¸ä¸‹è½½</a>  å¯†ç : 8y59</p>]]></content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;å¼€å‘å·¥å…·&quot;&gt;&lt;a href=&quot;#å¼€å‘å·¥å…·&quot; class=&quot;headerlink&quot; title=&quot;å¼€å‘å·¥å…·&quot;&gt;&lt;/a&gt;å¼€å‘å·¥å…·&lt;/h4&gt;&lt;blockquote&gt;
&lt;h5 id=&quot;Beyond-Compare-4&quot;&gt;&lt;a href=&quot;#Beyond-Compare-4&quot; class=&quot;headerlink&quot; title=&quot;Beyond Compare 4&quot;&gt;&lt;/a&gt;&lt;a href=&quot;&quot;&gt;Beyond Compare 4&lt;/a&gt;&lt;/h5&gt;&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;http://p6nkwri76.bkt.clouddn.com/15283665142155.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;Beyond Compare æ˜¯ä¸€æ¬¾å¼ºå¤§ä¸“ä¸šçš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹å¯¹æ¯”å·¥å…·ã€‚ä½¿ç”¨å®ƒå¯ä»¥å¾ˆæ–¹ä¾¿åœ°æ¯”è¾ƒå‡ºä¸¤ä¸ªæ–‡ä»¶æˆ–æ–‡ä»¶å¤¹çš„å·®å¼‚ï¼Œç›¸å·®çš„æ¯ä¸€ä¸ªå­—èŠ‚ç”¨é¢œè‰²åŠ ä»¥æ ‡è¯†ï¼Œè®©æ‚¨æŸ¥çœ‹æ–¹ä¾¿ï¼Œæ”¯æŒä¼—å¤šç§æ ¼å¼çš„å¯¹æ¯”ã€‚åªéœ€ä½¿ç”¨ç®€å•æ“ä½œæ–¹å¼æ–¹å¯å¼€å¯å¿«æ·çœäº‹çš„æ–‡ä»¶å¯¹æ¯”ä½“éªŒï¼Œæ‰¾å‡ºæ‚¨æ‰€éœ€å·®å¼‚ã€åˆå¹¶å˜åŒ–ï¼Œç„¶ååŒæ­¥æ–‡ä»¶ï¼Œå¹¶ç”ŸæˆæŠ¥å‘Šä¸€æ°”å‘µæˆã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;å› ç‰ˆæœ¬é—®é¢˜ï¼Œä¸å†æä¾›ä¸‹è½½ï¼Œè¿˜è¯·å¤§å®¶æ”¯æŒæ­£ç‰ˆï¼
&lt;/code&gt;&lt;/pre&gt;
    
    </summary>
    
      <category term="å·¥å…·" scheme="http://www.gulj.cn/categories/%E5%B7%A5%E5%85%B7/"/>
    
    
      <category term="mac" scheme="http://www.gulj.cn/tags/mac/"/>
    
  </entry>
  
  <entry>
    <title>IntelliJ IDEA ä½¿ç”¨æŠ€å·§</title>
    <link href="http://www.gulj.cn/2018/05/23/idea-%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/"/>
    <id>http://www.gulj.cn/2018/05/23/idea-ä½¿ç”¨æŠ€å·§/</id>
    <published>2018-05-23T09:37:25.000Z</published>
    <updated>2019-02-14T07:07:12.865Z</updated>
    
    <content type="html"><![CDATA[<blockquote><h4 id="æ— å¤„ä¸åœ¨çš„è·³è½¬"><a href="#æ— å¤„ä¸åœ¨çš„è·³è½¬" class="headerlink" title="æ— å¤„ä¸åœ¨çš„è·³è½¬"></a>æ— å¤„ä¸åœ¨çš„è·³è½¬</h4></blockquote><ul><li><h5 id="é¡¹ç›®ä¹‹é—´çš„è·³è½¬"><a href="#é¡¹ç›®ä¹‹é—´çš„è·³è½¬" class="headerlink" title="é¡¹ç›®ä¹‹é—´çš„è·³è½¬"></a>é¡¹ç›®ä¹‹é—´çš„è·³è½¬</h5><ul><li><h6 id="ä¸‹ä¸€ä¸ªå·¥ç¨‹çª—å£-ï¼ˆWindow-gt-Next-Project-Windowï¼‰"><a href="#ä¸‹ä¸€ä¸ªå·¥ç¨‹çª—å£-ï¼ˆWindow-gt-Next-Project-Windowï¼‰" class="headerlink" title="ä¸‹ä¸€ä¸ªå·¥ç¨‹çª—å£ ï¼ˆWindow -&gt; Next Project Windowï¼‰"></a>ä¸‹ä¸€ä¸ªå·¥ç¨‹çª—å£ ï¼ˆWindow -&gt; Next Project Windowï¼‰</h6><pre><code>alt + command + ]</code></pre></li><li><h6 id="ä¸Šä¸€ä¸ªå·¥ç¨‹çª—å£-ï¼ˆWindow-gt-Previous-Project-Windowï¼‰"><a href="#ä¸Šä¸€ä¸ªå·¥ç¨‹çª—å£-ï¼ˆWindow-gt-Previous-Project-Windowï¼‰" class="headerlink" title="ä¸Šä¸€ä¸ªå·¥ç¨‹çª—å£ ï¼ˆWindow -&gt; Previous Project Windowï¼‰"></a>ä¸Šä¸€ä¸ªå·¥ç¨‹çª—å£ ï¼ˆWindow -&gt; Previous Project Windowï¼‰</h6><pre><code>alt + command + [</code></pre><a id="more"></a></li></ul></li><li><h5 id="æ–‡ä»¶ä¹‹é—´çš„è·³è½¬"><a href="#æ–‡ä»¶ä¹‹é—´çš„è·³è½¬" class="headerlink" title="æ–‡ä»¶ä¹‹é—´çš„è·³è½¬"></a>æ–‡ä»¶ä¹‹é—´çš„è·³è½¬</h5><ul><li><h6 id="æŸ¥çœ‹å½“å‰æ‰“å¼€çš„æ–‡ä»¶"><a href="#æŸ¥çœ‹å½“å‰æ‰“å¼€çš„æ–‡ä»¶" class="headerlink" title="æŸ¥çœ‹å½“å‰æ‰“å¼€çš„æ–‡ä»¶"></a>æŸ¥çœ‹å½“å‰æ‰“å¼€çš„æ–‡ä»¶</h6><pre><code>command + e</code></pre></li><li><h6 id="åªæŸ¥çœ‹å½“å‰æ‰“å¼€å¹¶ä¸”ä¿®æ”¹çš„æ–‡ä»¶"><a href="#åªæŸ¥çœ‹å½“å‰æ‰“å¼€å¹¶ä¸”ä¿®æ”¹çš„æ–‡ä»¶" class="headerlink" title="åªæŸ¥çœ‹å½“å‰æ‰“å¼€å¹¶ä¸”ä¿®æ”¹çš„æ–‡ä»¶"></a>åªæŸ¥çœ‹å½“å‰æ‰“å¼€å¹¶ä¸”ä¿®æ”¹çš„æ–‡ä»¶</h6><pre><code>shift + command + e</code></pre></li></ul></li><li><h5 id="æµè§ˆä¿®æ”¹ä½ç½®è·³è½¬"><a href="#æµè§ˆä¿®æ”¹ä½ç½®è·³è½¬" class="headerlink" title="æµè§ˆä¿®æ”¹ä½ç½®è·³è½¬"></a>æµè§ˆä¿®æ”¹ä½ç½®è·³è½¬</h5><ul><li><h6 id="æœ€åä¸€æ¬¡ä¿®æ”¹çš„ä½ç½®-ï¼ˆNavigate-gt-Last-Edit-Locationï¼‰"><a href="#æœ€åä¸€æ¬¡ä¿®æ”¹çš„ä½ç½®-ï¼ˆNavigate-gt-Last-Edit-Locationï¼‰" class="headerlink" title="æœ€åä¸€æ¬¡ä¿®æ”¹çš„ä½ç½® ï¼ˆNavigate -&gt; Last Edit Locationï¼‰"></a>æœ€åä¸€æ¬¡ä¿®æ”¹çš„ä½ç½® ï¼ˆNavigate -&gt; Last Edit Locationï¼‰</h6><pre><code>shift + command + delete</code></pre></li></ul></li><li><h5 id="æµè§ˆä½ç½®è·³è½¬"><a href="#æµè§ˆä½ç½®è·³è½¬" class="headerlink" title="æµè§ˆä½ç½®è·³è½¬"></a>æµè§ˆä½ç½®è·³è½¬</h5><ul><li><h6 id="åä¸€ä¸ªæµè§ˆçš„ä½ç½®-ï¼ˆNavigate-gt-Backï¼‰"><a href="#åä¸€ä¸ªæµè§ˆçš„ä½ç½®-ï¼ˆNavigate-gt-Backï¼‰" class="headerlink" title="åä¸€ä¸ªæµè§ˆçš„ä½ç½® ï¼ˆNavigate -&gt; Backï¼‰"></a>åä¸€ä¸ªæµè§ˆçš„ä½ç½® ï¼ˆNavigate -&gt; Backï¼‰</h6><pre><code>alt + command + &lt;â€”</code></pre></li><li><h6 id="å‰ä¸€ä¸ªæµè§ˆçš„ä½ç½®-ï¼ˆNavigate-gt-Forwardï¼‰"><a href="#å‰ä¸€ä¸ªæµè§ˆçš„ä½ç½®-ï¼ˆNavigate-gt-Forwardï¼‰" class="headerlink" title="å‰ä¸€ä¸ªæµè§ˆçš„ä½ç½® ï¼ˆNavigate -&gt; Forwardï¼‰"></a>å‰ä¸€ä¸ªæµè§ˆçš„ä½ç½® ï¼ˆNavigate -&gt; Forwardï¼‰</h6><pre><code>alt + command + â€”&gt;</code></pre></li></ul></li><li><h5 id="æ”¶è—ç±»æˆ–æŸä¸€ä¸ªæ–¹æ³•"><a href="#æ”¶è—ç±»æˆ–æŸä¸€ä¸ªæ–¹æ³•" class="headerlink" title="æ”¶è—ç±»æˆ–æŸä¸€ä¸ªæ–¹æ³•"></a>æ”¶è—ç±»æˆ–æŸä¸€ä¸ªæ–¹æ³•</h5><p>ä½¿ç”¨ command + 2 è°ƒå‡º favorite çª—å£<br><img src="http://p6nkwri76.bkt.clouddn.com/15272128141350.jpg" alt=""><br>ä½¿ç”¨å¿«æ·é”® <strong>alt + shirt + f</strong> å¯ä»¥å°†ç±»æ·»åŠ åˆ°è‡ªå®šçš„favoriteä¸­ï¼Œæ·»åŠ æ–¹æ³•ï¼šé¦–å…ˆè¦é€‰ä¸­æ–¹æ³•åï¼Œç„¶åå†æŒ‰ä½å¿«æ·é”®( <strong>shift + command + f</strong> )è¿›è¡Œæ·»åŠ <br><img src="http://p6nkwri76.bkt.clouddn.com/15272131524517.jpg" alt=""></p></li><li><h5 id="å­—ç¬¦è·³è½¬æ’ä»¶emacsIdeaç½®è·³è½¬"><a href="#å­—ç¬¦è·³è½¬æ’ä»¶emacsIdeaç½®è·³è½¬" class="headerlink" title="å­—ç¬¦è·³è½¬æ’ä»¶emacsIdeaç½®è·³è½¬"></a>å­—ç¬¦è·³è½¬æ’ä»¶emacsIdeaç½®è·³è½¬</h5></li></ul><p><strong>ä½œç”¨ï¼š</strong> å¿«é€Ÿè·³è½¬åˆ°ä»¥æŸä¸€ä¸ªå­—ç¬¦å¼€å¤´çš„ä½ç½®</p><p>å®‰è£…æ’ä»¶ <strong>eamcsIdea</strong> çš„æ–¹æ³•å¯ä»¥æŸ¥çœ‹æˆ‘ä¸Šä¸€ç¯‡åšæ–‡ <a href="http://gulj.cn/2018/05/22/intellij-idea-%E5%BF%85%E5%A4%87%E6%8F%92%E4%BB%B6/#more" target="_blank" rel="noopener">Intellij Idea å¿…å¤‡æ’ä»¶ </a></p><p>æ’ä»¶å®‰è£…å®Œæˆï¼Œåœ¨keymapä¸­æ‰¾åˆ° AceJumpWord å³é”®é€‰æ‹© Add Keyboard ShorCut æ·»åŠ  <strong>crtl + k</strong> å¿«æ·é”®<br><img src="http://p6nkwri76.bkt.clouddn.com/15272152818371.jpg" alt=""></p><p>æ•ˆæœæ¼”ç¤º<br><strong>éœ€æ±‚</strong>ï¼šè·³è½¬åˆ°ä»¥ a å­—æ¯å¼€å¤´ address ä½ç½®ï¼›ï¼ˆåœ¨æ•ˆæœå›¾T1ç±»ä¸­æœ‰ä¸‰ä¸ªåœ°æ–¹æ˜¯ä»¥å­—æ¯aå¼€å¤´ï¼Œâ€œæˆå‘˜å˜é‡ addressï¼Œæˆå‘˜å˜é‡ ageï¼Œå±€éƒ¨å˜é‡ a â€ï¼‰ï¼›<br><strong>æ“ä½œï¼š</strong>é¦–å…ˆæˆ‘ä»¬å…ˆæŒ‰ <strong>ctrl + k</strong>ï¼ˆå°±æ˜¯æˆ‘ä»¬ä¹‹å‰å®šä¹‰æ’ä»¶eamcsIdeaçš„å¿«æ·é”®ï¼‰ ç„¶åæŒ‰å­—æ¯ <strong>a</strong>ï¼ˆæƒ³ä»¥ä»€ä¹ˆå­—æ¯å¼€å¤´å°±æŒ‰ä»€ä¹ˆå­—æ¯ï¼Œè¿™é‡Œåªæ¼”ç¤ºä»¥aå­—æ¯å¼€å¤´ï¼‰ è¿™æ ·åœ¨T1ç±»ä¸­å°±ä¼šä»¥å­—æ¯æ ‡è¯†é€‰ä¸­æ‰€æœ‰ä»¥aå¼€å¤´çš„å­—ç¬¦ï¼Œæˆ‘ä»¬è¦è·³è½¬åˆ°å“ªé‡Œå°±æŒ‰é€‰ä¸­æ ‡è¯†çš„å­—ç¬¦å³å¯ ï¼Œç°åœ¨æˆ‘ä»¬è¦è·³è½¬åˆ° <strong>address</strong> ä½ç½®ï¼Œé€‰ä¸­çš„å­—ç¬¦æ˜¯ <strong>d</strong> åœ¨é”®ç›˜ä¸ŠæŒ‰å­—ç¬¦ <strong>d</strong> å³å¯</p><p><img src="http://p6nkwri76.bkt.clouddn.com/2018-05-25_10-41-33.gif" alt="2018-05-25_10-41-33"></p><blockquote><h4 id="ç²¾å‡†æœç´¢"><a href="#ç²¾å‡†æœç´¢" class="headerlink" title="ç²¾å‡†æœç´¢"></a>ç²¾å‡†æœç´¢</h4></blockquote><ul><li><h5 id="ç±»"><a href="#ç±»" class="headerlink" title="ç±»"></a>ç±»</h5><pre><code>command + n</code></pre></li><li><h5 id="æ–‡ä»¶"><a href="#æ–‡ä»¶" class="headerlink" title="æ–‡ä»¶"></a>æ–‡ä»¶</h5><pre><code>shift + command + n</code></pre></li><li><h5 id="æ–¹æ³•æˆ–å±æ€§"><a href="#æ–¹æ³•æˆ–å±æ€§" class="headerlink" title="æ–¹æ³•æˆ–å±æ€§"></a>æ–¹æ³•æˆ–å±æ€§</h5><pre><code>alt + shift + command + n</code></pre></li><li><h5 id="å­—ç¬¦ä¸²"><a href="#å­—ç¬¦ä¸²" class="headerlink" title="å­—ç¬¦ä¸²"></a>å­—ç¬¦ä¸²</h5><pre><code>ctrl + shift + f </code></pre></li></ul><blockquote><h4 id="ä»£ç å°åŠ©æ‰‹"><a href="#ä»£ç å°åŠ©æ‰‹" class="headerlink" title="ä»£ç å°åŠ©æ‰‹"></a>ä»£ç å°åŠ©æ‰‹</h4></blockquote><ul><li><h5 id="åˆ—æ“ä½œ"><a href="#åˆ—æ“ä½œ" class="headerlink" title="åˆ—æ“ä½œ"></a>åˆ—æ“ä½œ</h5></li></ul><p>é€‰ä¸­ä¸€ä¸ªå†’å·ï¼ˆ <strong>ï¼š</strong>ï¼‰å­—ç¬¦ï¼ŒæŒ‰ <strong>ctrl + command + g</strong> åˆ™ä¼šé€‰ä¸­æ‰€æœ‰å†’å·ï¼ŒæŒ‰é”®ç›˜å·¦å³æ–¹å‘é”®è¿›è¡Œå…‰æ ‡å·¦å³æ–¹å‘ç§»åŠ¨, æŒ‰ <strong>command + w</strong> å¯é€‰ä¸­ä¸€å®šåŒºåŸŸçš„å­—ç¬¦<br><img src="http://p6nkwri76.bkt.clouddn.com/2018-05-25_08-37-55.gif" alt="2018-05-25_08-37-55"></p><ul><li><h5 id="Live-Template"><a href="#Live-Template" class="headerlink" title="Live Template"></a>Live Template</h5></li></ul><p>ä½œç”¨ï¼šå®šä¹‰è¯¸å¤šä»£ç æ¨¡æ¿ï¼Œåˆ©ç”¨å¿«æ·é”®å¿«é€Ÿç”Ÿæˆè‡ªå®šä¹‰ä»£ç æ¨¡æ¿</p><p>æ¼”ç¤ºï¼š<br><img src="http://p6nkwri76.bkt.clouddn.com/2018-05-25_13-07-44.gif" alt="2018-05-25_13-07-44"></p><p>ç¬”è€…å¸¸ç”¨è‡ªå®šä¹‰çš„ä»£ç æ¨¡æ¿å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// int å¸¸é‡</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> $VAR1$ = $VAR2$;</span><br><span class="line"></span><br><span class="line"><span class="comment">// String å¸¸é‡ </span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> $VAR1$ = $VAR2$;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¸¦æœ‰æ³¨é‡Šçš„ private int å¿«æ·é”® ï¼ˆpicï¼‰</span></span><br><span class="line">************************************</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * $VAR1$</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> $VAR2$;</span><br><span class="line"></span><br><span class="line">$END$</span><br><span class="line">************************************</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¸¦æœ‰æ³¨é‡Šçš„ private String å¿«æ·é”® ï¼ˆpscï¼‰</span></span><br><span class="line">************************************</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * $VAR1$</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">private</span> String $VAR2$;</span><br><span class="line"></span><br><span class="line">$END$</span><br><span class="line">************************************</span><br></pre></td></tr></table></figure><ul><li><h5 id="Postfix"><a href="#Postfix" class="headerlink" title="Postfix"></a>Postfix</h5></li></ul><p>ä»‹ç» forï¼Œnnï¼Œsoutï¼Œreturn çš„ç”¨æ³•</p><p><img src="http://p6nkwri76.bkt.clouddn.com/2018-05-25_13-43-36.gif" alt="2018-05-25_13-43-36"></p><ul><li><h5 id="ç¥å¥‡çš„-alter-enter"><a href="#ç¥å¥‡çš„-alter-enter" class="headerlink" title="ç¥å¥‡çš„ alter + enter"></a>ç¥å¥‡çš„ alter + enter</h5></li></ul><p>ä½¿ç”¨ alter + enter å¿«æ·é”®èƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬ï¼šå®ç°æ¥å£ã€å¯¼åŒ…ã€åˆ›å»ºå‡½æ•°ã€çº æ­£å•è¯æ‹¼å†™ã€ç”Ÿæˆå‡½æ•°è¿”å›å˜é‡ã€å­—ç¬¦ä¸²formatç­‰ç­‰</p><p>æ¼”ç¤ºï¼š</p><p><img src="http://p6nkwri76.bkt.clouddn.com/2018-05-25_14-42-30.gif" alt="2018-05-25_14-42-30"></p><blockquote><h4 id="ç¼–å†™é«˜è´¨é‡çš„ä»£ç "><a href="#ç¼–å†™é«˜è´¨é‡çš„ä»£ç " class="headerlink" title="ç¼–å†™é«˜è´¨é‡çš„ä»£ç "></a>ç¼–å†™é«˜è´¨é‡çš„ä»£ç </h4></blockquote><ul><li><h5 id="é‡æ„ï¼ˆé‡æ„å˜é‡ï¼Œé‡æ„æ–¹æ³•ï¼‰"><a href="#é‡æ„ï¼ˆé‡æ„å˜é‡ï¼Œé‡æ„æ–¹æ³•ï¼‰" class="headerlink" title="é‡æ„ï¼ˆé‡æ„å˜é‡ï¼Œé‡æ„æ–¹æ³•ï¼‰"></a>é‡æ„ï¼ˆé‡æ„å˜é‡ï¼Œé‡æ„æ–¹æ³•ï¼‰</h5><p> å…‰æ ‡æ”¾åˆ°å˜é‡ä½ç½® æŒ‰ <strong>shift + f6</strong> ä¼šå‡ºç°çº¢æ¡†é€‰ä¸­å˜é‡ï¼Œè¿›è¡Œå˜é‡é‡æ„ï¼›ä¸ºæ–¹æ³•æ·»åŠ å‚æ•°ï¼Œä½¿ç”¨ <strong>alter + enter</strong> æç¤ºè¿›è¡Œæ–¹æ³•é‡æ„</p></li></ul><p>æ¼”ç¤ºï¼š<br><img src="http://p6nkwri76.bkt.clouddn.com/2018-05-25_15-26-56.gif" alt="2018-05-25_15-26-56"></p><ul><li><h5 id="æŠ½å–"><a href="#æŠ½å–" class="headerlink" title="æŠ½å–"></a>æŠ½å–</h5><ul><li><h6 id="æŠ½å–å˜é‡"><a href="#æŠ½å–å˜é‡" class="headerlink" title="æŠ½å–å˜é‡"></a>æŠ½å–å˜é‡</h6><pre><code>alt + command + v</code></pre></li><li><h6 id="æŠ½å–é™æ€å˜é‡"><a href="#æŠ½å–é™æ€å˜é‡" class="headerlink" title="æŠ½å–é™æ€å˜é‡"></a>æŠ½å–é™æ€å˜é‡</h6><pre><code>alt + command + c</code></pre></li><li><h6 id="æŠ½å–æˆå‘˜å˜é‡"><a href="#æŠ½å–æˆå‘˜å˜é‡" class="headerlink" title="æŠ½å–æˆå‘˜å˜é‡"></a>æŠ½å–æˆå‘˜å˜é‡</h6><pre><code>alt + command + f</code></pre></li></ul></li></ul><p><img src="http://p6nkwri76.bkt.clouddn.com/2018-05-25_15-42-02.gif" alt="2018-05-25_15-42-02"></p><ul><li><h6 id="æŠ½å–æ–¹æ³•å‚æ•°"><a href="#æŠ½å–æ–¹æ³•å‚æ•°" class="headerlink" title="æŠ½å–æ–¹æ³•å‚æ•°"></a>æŠ½å–æ–¹æ³•å‚æ•°</h6><pre><code>alt + command + p</code></pre></li></ul><p><img src="http://p6nkwri76.bkt.clouddn.com/2018-05-25_15-54-22.gif" alt="2018-05-25_15-54-22"></p><ul><li><h6 id="æŠ½å–æ–¹æ³•"><a href="#æŠ½å–æ–¹æ³•" class="headerlink" title="æŠ½å–æ–¹æ³•"></a>æŠ½å–æ–¹æ³•</h6><pre><code>alt + command + m</code></pre></li></ul><p><img src="http://p6nkwri76.bkt.clouddn.com/2018-05-25_16-06-25.gif" alt="2018-05-25_16-06-25"></p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;h4 id=&quot;æ— å¤„ä¸åœ¨çš„è·³è½¬&quot;&gt;&lt;a href=&quot;#æ— å¤„ä¸åœ¨çš„è·³è½¬&quot; class=&quot;headerlink&quot; title=&quot;æ— å¤„ä¸åœ¨çš„è·³è½¬&quot;&gt;&lt;/a&gt;æ— å¤„ä¸åœ¨çš„è·³è½¬&lt;/h4&gt;&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;h5 id=&quot;é¡¹ç›®ä¹‹é—´çš„è·³è½¬&quot;&gt;&lt;a href=&quot;#é¡¹ç›®ä¹‹é—´çš„è·³è½¬&quot; class=&quot;headerlink&quot; title=&quot;é¡¹ç›®ä¹‹é—´çš„è·³è½¬&quot;&gt;&lt;/a&gt;é¡¹ç›®ä¹‹é—´çš„è·³è½¬&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;&lt;h6 id=&quot;ä¸‹ä¸€ä¸ªå·¥ç¨‹çª—å£-ï¼ˆWindow-gt-Next-Project-Windowï¼‰&quot;&gt;&lt;a href=&quot;#ä¸‹ä¸€ä¸ªå·¥ç¨‹çª—å£-ï¼ˆWindow-gt-Next-Project-Windowï¼‰&quot; class=&quot;headerlink&quot; title=&quot;ä¸‹ä¸€ä¸ªå·¥ç¨‹çª—å£ ï¼ˆWindow -&amp;gt; Next Project Windowï¼‰&quot;&gt;&lt;/a&gt;ä¸‹ä¸€ä¸ªå·¥ç¨‹çª—å£ ï¼ˆWindow -&amp;gt; Next Project Windowï¼‰&lt;/h6&gt;&lt;pre&gt;&lt;code&gt;alt + command + ]
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;&lt;h6 id=&quot;ä¸Šä¸€ä¸ªå·¥ç¨‹çª—å£-ï¼ˆWindow-gt-Previous-Project-Windowï¼‰&quot;&gt;&lt;a href=&quot;#ä¸Šä¸€ä¸ªå·¥ç¨‹çª—å£-ï¼ˆWindow-gt-Previous-Project-Windowï¼‰&quot; class=&quot;headerlink&quot; title=&quot;ä¸Šä¸€ä¸ªå·¥ç¨‹çª—å£ ï¼ˆWindow -&amp;gt; Previous Project Windowï¼‰&quot;&gt;&lt;/a&gt;ä¸Šä¸€ä¸ªå·¥ç¨‹çª—å£ ï¼ˆWindow -&amp;gt; Previous Project Windowï¼‰&lt;/h6&gt;&lt;pre&gt;&lt;code&gt;alt + command + [
&lt;/code&gt;&lt;/pre&gt;
    
    </summary>
    
      <category term="Java" scheme="http://www.gulj.cn/categories/Java/"/>
    
    
      <category term="idea" scheme="http://www.gulj.cn/tags/idea/"/>
    
  </entry>
  
  <entry>
    <title>IntelliJ IDEA å¿…å¤‡æ’ä»¶</title>
    <link href="http://www.gulj.cn/2018/05/22/intellij-idea-%E5%BF%85%E5%A4%87%E6%8F%92%E4%BB%B6/"/>
    <id>http://www.gulj.cn/2018/05/22/intellij-idea-å¿…å¤‡æ’ä»¶/</id>
    <published>2018-05-22T08:49:44.000Z</published>
    <updated>2019-02-14T07:07:12.866Z</updated>
    
    <content type="html"><![CDATA[<h4 id="æ’ä»¶å®‰è£…æ–¹å¼"><a href="#æ’ä»¶å®‰è£…æ–¹å¼" class="headerlink" title="æ’ä»¶å®‰è£…æ–¹å¼"></a>æ’ä»¶å®‰è£…æ–¹å¼</h4><ul><li><h5 id="ä¸‹è½½æ’ä»¶åˆ°æœ¬åœ°ï¼Œä»æœ¬åœ°å®‰è£…"><a href="#ä¸‹è½½æ’ä»¶åˆ°æœ¬åœ°ï¼Œä»æœ¬åœ°å®‰è£…" class="headerlink" title="ä¸‹è½½æ’ä»¶åˆ°æœ¬åœ°ï¼Œä»æœ¬åœ°å®‰è£…"></a>ä¸‹è½½æ’ä»¶åˆ°æœ¬åœ°ï¼Œä»æœ¬åœ°å®‰è£…</h5><p>æ‰“å¼€ idea -&gt; settings -&gt; plugins -&gt; Install plugin from disk -&gt; é€‰ä¸­æœ¬åœ°ä¸‹è½½å¥½çš„æ’ä»¶jaråŒ… -&gt; é‡å¯</p><p><img src="http://p6nkwri76.bkt.clouddn.com/2018-05-23_16-52-44.gif"></p></li></ul><a id="more"></a><ul><li><h5 id="ç›´æ¥åœ¨çº¿å®‰è£…"><a href="#ç›´æ¥åœ¨çº¿å®‰è£…" class="headerlink" title="ç›´æ¥åœ¨çº¿å®‰è£…"></a>ç›´æ¥åœ¨çº¿å®‰è£…</h5><p>æ‰“å¼€ idea -&gt; settings -&gt; plugins -&gt; è¾“å…¥æ’ä»¶åç§° -&gt; å®‰è£… -&gt; é‡å¯idea</p><p><img src="http://p6nkwri76.bkt.clouddn.com/2018-05-23_11-40-18.gif"></p></li></ul><h4 id="æ’ä»¶åˆ—è¡¨"><a href="#æ’ä»¶åˆ—è¡¨" class="headerlink" title="æ’ä»¶åˆ—è¡¨"></a>æ’ä»¶åˆ—è¡¨</h4><ul><li><h5 id="lombok"><a href="#lombok" class="headerlink" title="lombok"></a>lombok</h5><p>åœ°å€ï¼š<a href="https://plugins.jetbrains.com/plugin/6317-lombok-plugin" target="_blank" rel="noopener">https://plugins.jetbrains.com/plugin/6317-lombok-plugin</a></p><p>ä½œç”¨ï¼š</p><p>â€‹    å…å»IDEå»ç”Ÿæˆå…¶å±æ€§çš„æ„é€ å™¨ã€getterã€setterã€equalsã€hashcodeã€toStringç­‰æ–¹æ³•</p><p>æˆªå›¾ï¼š</p><p><img src="http://p6nkwri76.bkt.clouddn.com/2018-05-22_17-42-54-1.gif"></p></li></ul><ul><li><h5 id="ignore"><a href="#ignore" class="headerlink" title=".ignore"></a>.ignore</h5><p><strong>åœ°å€</strong>ï¼š<a href="https://plugins.jetbrains.com/plugin/7495--ignore" target="_blank" rel="noopener">https://plugins.jetbrains.com/plugin/7495--ignore</a></p><p><strong>ä½œç”¨</strong>ï¼š</p><p>â€‹    ç”Ÿæˆå„ç§ignoreæ–‡ä»¶ï¼Œä¸€é”®åˆ›å»ºgit ignoreæ–‡ä»¶æ¨¡æ¿ï¼Œé€šè¿‡ç¼–è¾‘å™¨ç›´æ¥å°†æ–‡ä»¶åŠ å…¥åˆ°ignoreæ–‡ä»¶ä¸­ï¼Œå…å»æ‰‹åŠ¨æ·»åŠ æ“ä½œ</p><p><strong>æˆªå›¾</strong>ï¼š</p><p> <img src="http://p6nkwri76.bkt.clouddn.com/2018-05-22_18-33-19.gif"></p></li><li><h5 id="FindBugs-IDEA"><a href="#FindBugs-IDEA" class="headerlink" title="FindBugs-IDEA"></a>FindBugs-IDEA</h5><p><strong>åœ°å€</strong>ï¼š<a href="https://plugins.jetbrains.com/plugin/3847-findbugs-idea" target="_blank" rel="noopener">https://plugins.jetbrains.com/plugin/3847-findbugs-idea</a></p><p><strong>ä½œç”¨</strong>ï¼š</p><p>â€‹    æ£€æµ‹ä»£ç ä¸­å¯èƒ½éšè—çš„bugä»¥åŠä¸è§„èŒƒä½ç½®</p><p><strong>æˆªå›¾</strong>ï¼š</p><p><img src="http://p6nkwri76.bkt.clouddn.com/2018-05-23_09-12-33.gif"></p></li></ul><ul><li><h5 id="GsonFormat"><a href="#GsonFormat" class="headerlink" title="GsonFormat"></a>GsonFormat</h5><p>åœ°å€ï¼š<a href="https://plugins.jetbrains.com/plugin/7654-gsonformat" target="_blank" rel="noopener">https://plugins.jetbrains.com/plugin/7654-gsonformat</a></p><p>ä½œç”¨ï¼š</p><p>â€‹    æ ¹æ®jsonæ–‡æœ¬ï¼Œç”Ÿæˆå¯¹åº”çš„javaç±»</p><p>æˆªå›¾ï¼š</p><p><img src="http://p6nkwri76.bkt.clouddn.com/2018-05-23_09-30-33.gif"></p></li></ul><ul><li><h5 id="VisualVM-Launcher"><a href="#VisualVM-Launcher" class="headerlink" title="VisualVM Launcher"></a>VisualVM Launcher</h5><p>åœ°å€ï¼š<a href="https://plugins.jetbrains.com/plugin/7115-visualvm-launcher" target="_blank" rel="noopener">https://plugins.jetbrains.com/plugin/7115-visualvm-launcher</a></p><p>ä½œç”¨ï¼š</p><p>æŸ¥çœ‹javaç¨‹åºjvmçš„ä½¿ç”¨æƒ…å†µï¼Œä¾‹å¦‚å†…å­˜åˆ†æï¼Œcpuåˆ†æï¼Œå¯¹è±¡å ç”¨å†…å­˜å¤§å°ï¼Œæ–¹ä¾¿jvmè°ƒä¼˜</p></li></ul><p>  æˆªå›¾ï¼š</p><p> <img src="http://p6nkwri76.bkt.clouddn.com/2018-05-23_11-07-01.gif"></p><blockquote><p>ä½¿ç”¨ VisualVM Launcher ä¸åƒå…¶å®ƒæ’ä»¶ä¸€æ ·ï¼Œç›´æ¥å®‰è£…æ’ä»¶å°±å¯ä»¥ä½¿ç”¨ï¼Œå®ƒè¦é…åˆ  <a href="https://visualvm.github.io/download.html" target="_blank" rel="noopener">VisualVM</a> å®¢æˆ·ç«¯ä¸€èµ·ä½¿ç”¨<br>   é¦–æ¬¡ç”¨ Intellij IDEA æ‰§è¡ŒVisualVMçš„æ—¶å€™ï¼Œéœ€è¦é…ç½® VisualVM executable ç¬”è€…çš„è·¯å¾„æ˜¯ï¼š <strong>/Applications/VisualVM.app/Contents/Resources/visualvm/bin/visualvm</strong></p></blockquote><p> <img src="http://p6nkwri76.bkt.clouddn.com/15270456447904.jpg" alt=""></p><ul><li><h5 id="GenerateAllSetter"><a href="#GenerateAllSetter" class="headerlink" title="GenerateAllSetter"></a>GenerateAllSetter</h5><p>åœ°å€ï¼š<a href="https://plugins.jetbrains.com/plugin/9360-generateallsetter" target="_blank" rel="noopener">https://plugins.jetbrains.com/plugin/9360-generateallsetter</a></p><p>ä½œç”¨ï¼š</p><p>â€‹    ä¸€é”®ç”Ÿæˆå¯¹è±¡çš„æ‰€æœ‰setæ–¹æ³•</p><p>æˆªå›¾ï¼š</p><p><img src="http://p6nkwri76.bkt.clouddn.com/2018-05-23_09-41-10.gif"></p></li></ul><ul><li><h5 id="Free-Mybatis-Plugin"><a href="#Free-Mybatis-Plugin" class="headerlink" title="Free Mybatis Plugin"></a>Free Mybatis Plugin</h5><p>åœ°å€ï¼š<a href="https://plugins.jetbrains.com/plugin/8321-free-mybatis-plugin" target="_blank" rel="noopener">https://plugins.jetbrains.com/plugin/8321-free-mybatis-plugin</a></p><p>ä½œç”¨ï¼š</p><p> æ ¹æ®å®šä¹‰mapperæ¥å£æ–¹æ³•ï¼Œç”Ÿæˆå¯¹åº”çš„mapper.xmlæ–‡ä»¶ä¸­çš„æ–¹æ³•ï¼Œå¿«é€Ÿåœ¨mapper.javaæ–‡ä»¶å’Œmapper.xmlæ–‡ä»¶ä¹‹é—´æ¥å›åˆ‡æ¢</p><p>æˆªå›¾ï¼š</p><p><img src="http://p6nkwri76.bkt.clouddn.com/2018-05-23_10-09-14.gif"></p></li></ul><ul><li><h5 id="Background-Image-Plus"><a href="#Background-Image-Plus" class="headerlink" title="Background Image Plus"></a>Background Image Plus</h5><p>åœ°å€ï¼š<a href="https://plugins.jetbrains.com/plugin/8502-background-image-plus" target="_blank" rel="noopener">https://plugins.jetbrains.com/plugin/8502-background-image-plus</a></p><p>ä½œç”¨ï¼š</p><p>â€‹    ä¸ºideaç¼–è¾‘å™¨è®¾ç½®å›¾ç‰‡èƒŒæ™¯</p><p>æˆªå›¾ï¼š  </p><p><img src="http://p6nkwri76.bkt.clouddn.com/2018-05-23_09-54-17.gif"></p></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;æ’ä»¶å®‰è£…æ–¹å¼&quot;&gt;&lt;a href=&quot;#æ’ä»¶å®‰è£…æ–¹å¼&quot; class=&quot;headerlink&quot; title=&quot;æ’ä»¶å®‰è£…æ–¹å¼&quot;&gt;&lt;/a&gt;æ’ä»¶å®‰è£…æ–¹å¼&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;h5 id=&quot;ä¸‹è½½æ’ä»¶åˆ°æœ¬åœ°ï¼Œä»æœ¬åœ°å®‰è£…&quot;&gt;&lt;a href=&quot;#ä¸‹è½½æ’ä»¶åˆ°æœ¬åœ°ï¼Œä»æœ¬åœ°å®‰è£…&quot; class=&quot;headerlink&quot; title=&quot;ä¸‹è½½æ’ä»¶åˆ°æœ¬åœ°ï¼Œä»æœ¬åœ°å®‰è£…&quot;&gt;&lt;/a&gt;ä¸‹è½½æ’ä»¶åˆ°æœ¬åœ°ï¼Œä»æœ¬åœ°å®‰è£…&lt;/h5&gt;&lt;p&gt;æ‰“å¼€ idea -&amp;gt; settings -&amp;gt; plugins -&amp;gt; Install plugin from disk -&amp;gt; é€‰ä¸­æœ¬åœ°ä¸‹è½½å¥½çš„æ’ä»¶jaråŒ… -&amp;gt; é‡å¯&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://p6nkwri76.bkt.clouddn.com/2018-05-23_16-52-44.gif&quot;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="Java" scheme="http://www.gulj.cn/categories/Java/"/>
    
    
      <category term="idea" scheme="http://www.gulj.cn/tags/idea/"/>
    
  </entry>
  
  <entry>
    <title>Webpack å­¦ä¹ ç¤ºä¾‹</title>
    <link href="http://www.gulj.cn/2018/04/09/webpack-%E6%95%99%E7%A8%8B/"/>
    <id>http://www.gulj.cn/2018/04/09/webpack-æ•™ç¨‹/</id>
    <published>2018-04-09T08:13:54.000Z</published>
    <updated>2019-02-14T07:07:13.521Z</updated>
    
    <content type="html"><![CDATA[<h4 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h4><p><a href="https://doc.webpack-china.org/concepts" target="_blank" rel="noopener">Webpack</a> æ˜¯ä¸€ä¸ªç°ä»£ JavaScript åº”ç”¨ç¨‹åºçš„é™æ€æ¨¡å—æ‰“åŒ…å™¨(module bundler)ã€‚å½“ Webpack å¤„ç†åº”ç”¨ç¨‹åºæ—¶ï¼Œå®ƒä¼šé€’å½’åœ°æ„å»ºä¸€ä¸ªä¾èµ–å…³ç³»å›¾(dependency graph)ï¼Œå…¶ä¸­åŒ…å«åº”ç”¨ç¨‹åºéœ€è¦çš„æ¯ä¸ªæ¨¡å—ï¼Œç„¶åå°†æ‰€æœ‰è¿™äº›æ¨¡å—æ‰“åŒ…æˆä¸€ä¸ªæˆ–å¤šä¸ª bundle </p><p>æœ¬ç« èŠ‚ä¸»è¦ä»‹ç»Webpackçš„æ ¸å¿ƒæ¦‚å¿µçš„Demoä½¿ç”¨ç¤ºä¾‹ï¼Œå»ºè®®è¯»è€…æŸ¥çœ‹ä¹‹å‰è¯·é˜…è¯»Webpackçš„<a href="https://webpack.js.org/concepts/" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a>ä¹Ÿå¯ä»¥æŸ¥çœ‹<a href="https://doc.webpack-china.org/concepts" target="_blank" rel="noopener">ä¸­æ–‡</a>åœ°å€æ–‡æ¡£</p><p><strong>Webpackç‰ˆæœ¬</strong>ï¼š 3.9.0</p><p><strong>ä»£ç GitHubåœ°å€</strong>ï¼š <a href="https://github.com/gulijian/webpack-learning-example" target="_blank" rel="noopener">https://github.com/gulijian/webpack-learning-example</a></p><a id="more"></a><h4 id="How-to-use"><a href="#How-to-use" class="headerlink" title="How to use"></a>How to use</h4><p>Install webpack</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm i -g webpack</span><br></pre></td></tr></table></figure><p>Clone the repo.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">clone</span> https://github.com/gulijian/webpack-learning-example.git</span><br></pre></td></tr></table></figure><p>Install the dependencies</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¿›å…¥æ¯ä¸ªç« èŠ‚æ ¹ç›®å½•ï¼Œæ‰§è¡Œ npm install </span></span><br><span class="line">$ npm install</span><br></pre></td></tr></table></figure><p>Open the each chapter  index.html</p><h4 id="Index"><a href="#Index" class="headerlink" title="Index"></a>Index</h4><p><a href="https://github.com/gulijian/webpack-learning-example/blob/master/README.md#chapter4-1-source" target="_blank" rel="noopener">Style-loader</a></p><p><a href="https://github.com/gulijian/webpack-learning-example/blob/master/README.md#chapter4-2-source" target="_blank" rel="noopener">Style-loader/url</a></p><p><a href="https://github.com/gulijian/webpack-learning-example/blob/master/README.md#chapter4-3-source" target="_blank" rel="noopener">Css-loader And Css-Module</a></p><p><a href="https://github.com/gulijian/webpack-learning-example/blob/master/README.md#chapter5-1-source" target="_blank" rel="noopener">Js Tree-shaking</a></p><p><a href="https://github.com/gulijian/webpack-learning-example/blob/master/README.md#chapter6-1-source" target="_blank" rel="noopener">Url-loader</a></p><p><a href="https://github.com/gulijian/webpack-learning-example/blob/master/README.md#chapter7-1-source" target="_blank" rel="noopener">ProvidePlugin</a></p><p><a href="https://github.com/gulijian/webpack-learning-example/blob/master/README.md#chapter8-1-source" target="_blank" rel="noopener">Clean-webpack-plugin</a></p><h3 id="chapter4-1-source"><a href="#chapter4-1-source" class="headerlink" title="chapter4-1 (source)"></a>chapter4-1 (<a href="https://github.com/gulijian/webpack-learning-example/tree/master/chapter4-1" target="_blank" rel="noopener">source</a>)</h3><p>style-loader use</p><blockquote><p>å¤„ç†cssï¼Œä»¥ style æ ‡ç­¾å½¢å¼å¼•å…¥css</p></blockquote><h5 id="app-js"><a href="#app-js" class="headerlink" title="app.js"></a>app.js</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'./css/app.css'</span></span><br></pre></td></tr></table></figure><h5 id="app-css"><a href="#app-css" class="headerlink" title="app.css"></a>app.css</h5><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">html</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#00bcd4b5</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="index-html"><a href="#index-html" class="headerlink" title="index.html"></a>index.html</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./dist/app.bundle.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="webpack-config-js"><a href="#webpack-config-js" class="headerlink" title="webpack.config.js"></a>webpack.config.js</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    entry: &#123;</span><br><span class="line">        <span class="string">'app'</span>: <span class="string">'./src/app.js'</span></span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    output: &#123;</span><br><span class="line">        path: path.resolve(__dirname,<span class="string">'./dist/'</span>),</span><br><span class="line">        filename: <span class="string">'[name].bundle.js'</span></span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="built_in">module</span>: &#123;</span><br><span class="line">        rules: [</span><br><span class="line">            &#123;</span><br><span class="line">                test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">                use: [</span><br><span class="line">                    &#123;</span><br><span class="line">                        loader: <span class="string">'style-loader'</span></span><br><span class="line">                    &#125;,</span><br><span class="line">                    &#123;</span><br><span class="line">                        loader: <span class="string">'css-loader'</span></span><br><span class="line">                    &#125;</span><br><span class="line">                ]</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="chapter4-2-source"><a href="#chapter4-2-source" class="headerlink" title="chapter4-2 (source)"></a>chapter4-2 (<a href="https://github.com/gulijian/webpack-learning-example/tree/master/chapter4-2" target="_blank" rel="noopener">source</a>)</h3><p>style-loader/url use</p><blockquote><p>å¤„ç†cssï¼Œä»¥<link>æ ‡ç­¾å½¢å¼å¼•å…¥css</p></blockquote><h5 id="app-js-1"><a href="#app-js-1" class="headerlink" title="app.js"></a>app.js</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'./css/app.css'</span></span><br></pre></td></tr></table></figure><h5 id="app-css-1"><a href="#app-css-1" class="headerlink" title="app.css"></a>app.css</h5><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">html</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#00bcd4b5</span>;   </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#styleLoaderUrl</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">color</span>: white;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="index-html-1"><a href="#index-html-1" class="headerlink" title="index.html"></a>index.html</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"styleLoaderUrl"</span>&gt;</span> hello style-loader/url<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./dist/app.bundle.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="webpak-config-js"><a href="#webpak-config-js" class="headerlink" title="webpak.config.js"></a>webpak.config.js</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    entry: &#123;</span><br><span class="line">        <span class="string">'app'</span>: <span class="string">'./src/app.js'</span></span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    output: &#123;</span><br><span class="line">        path: path.resolve(__dirname,<span class="string">'./dist/'</span>),</span><br><span class="line">        publicPath: <span class="string">'./dist/'</span>,</span><br><span class="line">        filename: <span class="string">'[name].bundle.js'</span></span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="built_in">module</span>: &#123;</span><br><span class="line">        rules: [</span><br><span class="line">            &#123;</span><br><span class="line">                test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">                use: [</span><br><span class="line">                    &#123;</span><br><span class="line">                        loader: <span class="string">'style-loader/url'</span></span><br><span class="line">                    &#125;,</span><br><span class="line">                    &#123;</span><br><span class="line">                        loader: <span class="string">'file-loader'</span></span><br><span class="line">                    &#125;</span><br><span class="line">                ]</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="chapter4-3-source"><a href="#chapter4-3-source" class="headerlink" title="chapter4-3 (source)"></a>chapter4-3 (<a href="https://github.com/gulijian/webpack-learning-example/tree/master/chapter4-3" target="_blank" rel="noopener">source</a>)</h3><p>css-loader and css-module use</p><blockquote><p>å¤„ç†cssï¼Œæ”¯æŒ css-module å½¢å¼</p></blockquote><h5 id="app-js-2"><a href="#app-js-2" class="headerlink" title="app.js"></a>app.js</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> app1 <span class="keyword">from</span> <span class="string">'./css/app1.css'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> app2 <span class="keyword">from</span>  <span class="string">'./css/app2.css'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> app = <span class="built_in">document</span>.getElementById(<span class="string">'app'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨æ ·å¼</span></span><br><span class="line">app.innerHTML = <span class="string">'&lt;div class = "'</span>+app1.box+<span class="string">'"&gt;&lt;/div&gt;'</span></span><br></pre></td></tr></table></figure><h5 id="app1-css"><a href="#app1-css" class="headerlink" title="app1.css"></a>app1.css</h5><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">    <span class="attribute">composes</span>: borderBox from <span class="string">'./app2.css'</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#76d4e0ab</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="app2-css"><a href="#app2-css" class="headerlink" title="app2.css"></a>app2.css</h5><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.borderBox</span> &#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">4px</span> solid <span class="number">#e87ff5</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="index-html-2"><a href="#index-html-2" class="headerlink" title="index.html"></a>index.html</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./dist/app.bundle.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="webpack-config-js-1"><a href="#webpack-config-js-1" class="headerlink" title="webpack.config.js"></a>webpack.config.js</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    entry: &#123;</span><br><span class="line">        <span class="string">'app'</span>: <span class="string">'./src/app.js'</span></span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    output: &#123;</span><br><span class="line">        path: path.resolve(__dirname,<span class="string">'./dist/'</span>),</span><br><span class="line">        filename: <span class="string">'[name].bundle.js'</span></span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="built_in">module</span>: &#123;</span><br><span class="line">        rules: [</span><br><span class="line">            &#123;</span><br><span class="line">                test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">                use: [</span><br><span class="line">                    &#123;</span><br><span class="line">                        loader: <span class="string">'style-loader'</span></span><br><span class="line">                    &#125;,</span><br><span class="line">                    &#123;</span><br><span class="line">                        loader: <span class="string">'css-loader'</span>,</span><br><span class="line">                        options: &#123;</span><br><span class="line">                            minimize: <span class="literal">true</span>,  <span class="comment">// å¯ç”¨å‹ç¼©</span></span><br><span class="line">                            modules: <span class="literal">true</span>    <span class="comment">// å¯ç”¨ css module</span></span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                ]</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="chapter5-1-source"><a href="#chapter5-1-source" class="headerlink" title="chapter5-1 (source)"></a>chapter5-1 (<a href="https://github.com/gulijian/webpack-learning-example/tree/master/chapter5-1" target="_blank" rel="noopener">source</a>)</h3><p>UglifyJsPlugin  use</p><blockquote><p>ä½¿ç”¨ <strong>UglifyJsPlugin</strong> æ’ä»¶ï¼› ä¸æ‰“åŒ…æ²¡æœ‰ä½¿ç”¨çš„ js</p></blockquote><h5 id="util-js"><a href="#util-js" class="headerlink" title="util.js"></a>util.js</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">a</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'this is a'</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">b</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'this is b'</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">c</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'this is c'</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="app-js-3"><a href="#app-js-3" class="headerlink" title="app.js"></a>app.js</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; a &#125; <span class="keyword">from</span> <span class="string">'./common/util.js'</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(a())</span><br></pre></td></tr></table></figure><h5 id="index-html-3"><a href="#index-html-3" class="headerlink" title="index.html"></a>index.html</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./dist/app.bundle.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="webpack-config-js-2"><a href="#webpack-config-js-2" class="headerlink" title="webpack.config.js"></a>webpack.config.js</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>)</span><br><span class="line"><span class="keyword">var</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    entry: &#123;</span><br><span class="line">        <span class="string">'app'</span>: <span class="string">'./src/app.js'</span>,</span><br><span class="line">        </span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    output: &#123;</span><br><span class="line">        path: path.resolve(__dirname,<span class="string">'./dist/'</span>),</span><br><span class="line">        filename: <span class="string">'[name].bundle.js'</span></span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    plugins: [</span><br><span class="line">        <span class="keyword">new</span> webpack.optimize.UglifyJsPlugin()</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>app.js ä¸­åªä½¿ç”¨äº† util.js ä¸­çš„ a å‡½æ•° æ‰“åŒ…çš„æ—¶å€™åªä¼šæ‰“åŒ… a å‡½æ•°ï¼›å› ä¸º b å’Œ  c å‡½æ•°æ²¡æœ‰ä½¿ç”¨åˆ°ï¼Œåˆ™ä¸ä¼šè¢«æ‰“åŒ…</p></blockquote><h3 id="chapter6-1-source"><a href="#chapter6-1-source" class="headerlink" title="chapter6-1 (source)"></a>chapter6-1 (<a href="https://github.com/gulijian/webpack-learning-example/tree/master/chapter6-1" target="_blank" rel="noopener">source</a>)</h3><p>url-loader use</p><blockquote><p>å›¾ç‰‡æ–‡ä»¶å¤„ç†</p></blockquote><h5 id="app-js-4"><a href="#app-js-4" class="headerlink" title="app.js"></a>app.js</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> img1 = <span class="built_in">document</span>.getElementById(<span class="string">'img1'</span>)</span><br><span class="line"><span class="keyword">var</span> img2 = <span class="built_in">document</span>.getElementById(<span class="string">'img2'</span>)</span><br><span class="line"></span><br><span class="line">img1.src = <span class="built_in">require</span>(<span class="string">'./assets/img1.jpg'</span>)</span><br><span class="line">img2.src = <span class="built_in">require</span>(<span class="string">'./assets/img2.png'</span>)</span><br></pre></td></tr></table></figure><h5 id="index-html-4"><a href="#index-html-4" class="headerlink" title="index.html"></a>index.html</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">     <span class="comment">&lt;!-- size &lt; 30kb --&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">"img1"</span>/&gt;</span></span><br><span class="line">     <span class="comment">&lt;!-- size &gt; 30kb --&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">"img2"</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./dist/app.bundle.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="webpack-config-js-3"><a href="#webpack-config-js-3" class="headerlink" title="webpack.config.js"></a>webpack.config.js</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line"></span><br><span class="line">    entry: &#123;</span><br><span class="line">        <span class="string">'app'</span>: <span class="string">'./src/app.js'</span>,</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    output: &#123;</span><br><span class="line">        path: path.resolve(__dirname,<span class="string">'./dist/'</span>),</span><br><span class="line">        filename: <span class="string">'[name].bundle.js'</span></span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="built_in">module</span>: &#123;</span><br><span class="line">        rules: [</span><br><span class="line">            &#123;</span><br><span class="line">                test: <span class="regexp">/\.(png|jpg|jpeg|gif)$/</span>,</span><br><span class="line">                use: [</span><br><span class="line">                    &#123;</span><br><span class="line">                        loader:<span class="string">'url-loader'</span>,</span><br><span class="line">                        options: &#123;</span><br><span class="line">                            limit: <span class="number">30000</span></span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                ]</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>å›¾ç‰‡ å°äº 30kb ä¼šå˜æˆbase64ç¼–ç ï¼Œå¤§äº 30kb ä¼šç”Ÿæˆå›¾ç‰‡åœ°å€</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">"img1"</span> <span class="attr">src</span>=<span class="string">"6443347e97d394b23b05746b2fe41cd1.jpg"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">"img2"</span> <span class="attr">src</span>=<span class="string">"data:image/png;base64,iVBORw0KGgoAXBIWXMAAC4jAAAuIwF4pT92AAAKTWlD"</span>/&gt;</span></span><br></pre></td></tr></table></figure><h3 id="chapter7-1-source"><a href="#chapter7-1-source" class="headerlink" title="chapter7-1 (source)"></a>chapter7-1 (<a href="https://github.com/gulijian/webpack-learning-example/tree/master/chapter7-1" target="_blank" rel="noopener">source</a>)</h3><p>ProvidePlugin use</p><blockquote><p>å¤„ç†ç¬¬ä¸‰æ–¹ JS åº“ï¼Œæ–¹å¼ä¸€ï¼šï¼ˆ jquery ä½œä¸ºnpmçš„ä¸€ä¸ªmoduleï¼‰</p></blockquote><h5 id="app-js-5"><a href="#app-js-5" class="headerlink" title="app.js"></a>app.js</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'#app'</span>).append(<span class="string">'hello jquery'</span>)</span><br></pre></td></tr></table></figure><h5 id="index-html-5"><a href="#index-html-5" class="headerlink" title="index.html"></a>index.html</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./dist/app.bundle.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="webpack-config-js-4"><a href="#webpack-config-js-4" class="headerlink" title="webpack.config.js"></a>webpack.config.js</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>)</span><br><span class="line"><span class="keyword">var</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    entry: &#123;</span><br><span class="line">        <span class="string">'app'</span>: <span class="string">'./src/app.js'</span>,</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    output: &#123;</span><br><span class="line">        path: path.resolve(__dirname,<span class="string">'./dist/'</span>),</span><br><span class="line">        filename: <span class="string">'[name].bundle.js'</span></span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    plugins: [</span><br><span class="line">        <span class="keyword">new</span> webpack.ProvidePlugin(&#123;</span><br><span class="line">            $: <span class="string">'jquery'</span></span><br><span class="line">        &#125;)</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="chapter7-2-source"><a href="#chapter7-2-source" class="headerlink" title="chapter7-2 (source)"></a>chapter7-2 (<a href="https://github.com/gulijian/webpack-learning-example/tree/master/chapter7-2" target="_blank" rel="noopener">source</a>)</h3><blockquote><p>å¤„ç†ç¬¬ä¸‰æ–¹ JS åº“ï¼Œæ–¹å¼äºŒï¼šï¼ˆå¼•å…¥æœ¬åœ°çš„ jquery åº“ï¼‰</p></blockquote><h5 id="app-js-6"><a href="#app-js-6" class="headerlink" title="app.js"></a>app.js</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'#app'</span>).append(<span class="string">'hello jquery'</span>)</span><br></pre></td></tr></table></figure><h5 id="index-html-6"><a href="#index-html-6" class="headerlink" title="index.html"></a>index.html</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./dist/app.bundle.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="webpack-config-js-5"><a href="#webpack-config-js-5" class="headerlink" title="webpack.config.js"></a>webpack.config.js</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>)</span><br><span class="line"><span class="keyword">var</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    entry: &#123;</span><br><span class="line">        <span class="string">'app'</span>: <span class="string">'./src/app.js'</span>,</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    output: &#123;</span><br><span class="line">        path: path.resolve(__dirname,<span class="string">'./dist/'</span>),</span><br><span class="line">        filename: <span class="string">'[name].bundle.js'</span></span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ³¨æ„ jquery$ çš„åå­— è¦å’Œ ProvidePlugin æ’ä»¶ä¸­é…ç½®çš„åç§°ï¼ˆjqueryï¼‰ä¿æŒä¸€è‡´</span></span><br><span class="line">    resolve: &#123;</span><br><span class="line">        alias: &#123;</span><br><span class="line">            jquery$: path.resolve(__dirname,<span class="string">'src/libs/jquery.min.js'</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    plugins: [</span><br><span class="line">        <span class="keyword">new</span> webpack.ProvidePlugin(&#123;</span><br><span class="line">            $: <span class="string">'jquery'</span></span><br><span class="line">        &#125;)</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>å¦‚æœ jquery åœ¨CDNä¸Šï¼Œç›´æ¥å¼•å…¥å³å¯</p></blockquote><h3 id="chapter8-1-source"><a href="#chapter8-1-source" class="headerlink" title="chapter8-1 (source)"></a>chapter8-1 (<a href="https://github.com/gulijian/webpack-learning-example/tree/master/chapter8-1" target="_blank" rel="noopener">source</a>)</h3><p>clean-webpack-plugin use</p><blockquote><p>æ¯æ¬¡æ‰“åŒ…æ¸…é™¤åŸå…ˆçš„æ‰“åŒ…ç›®å½•</p></blockquote><h5 id="app-js-7"><a href="#app-js-7" class="headerlink" title="app.js"></a>app.js</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> app = <span class="built_in">document</span>.getElementById(<span class="string">'app'</span>)</span><br><span class="line"></span><br><span class="line">app.innerHTML = <span class="string">'&lt;h1&gt;ä½¿ç”¨ clean-webpack-plugin æ’ä»¶ï¼Œå¯ä»¥æ¯æ¬¡æ‰“åŒ…æ¸…é™¤åŸå…ˆçš„æ‰“åŒ…ç›®å½•&lt;/h1&gt;'</span></span><br></pre></td></tr></table></figure><h5 id="index-html-7"><a href="#index-html-7" class="headerlink" title="index.html"></a>index.html</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./dist/app.bundle.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="webpack-config-js-6"><a href="#webpack-config-js-6" class="headerlink" title="webpack.config.js"></a>webpack.config.js</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>)</span><br><span class="line"><span class="keyword">var</span> CleanWebpackPlugin = <span class="built_in">require</span>(<span class="string">'clean-webpack-plugin'</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    entry: &#123;</span><br><span class="line">        <span class="string">'app'</span>: <span class="string">'./src/app.js'</span>,</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    output: &#123;</span><br><span class="line">        path: path.resolve(__dirname,<span class="string">'./dist/'</span>),</span><br><span class="line">        filename: <span class="string">'[name].bundle.js'</span></span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    plugins: [</span><br><span class="line">       <span class="keyword">new</span> CleanWebpackPlugin([</span><br><span class="line">           <span class="string">'dist'</span></span><br><span class="line">       ])</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;ä»‹ç»&quot;&gt;&lt;a href=&quot;#ä»‹ç»&quot; class=&quot;headerlink&quot; title=&quot;ä»‹ç»&quot;&gt;&lt;/a&gt;ä»‹ç»&lt;/h4&gt;&lt;p&gt;&lt;a href=&quot;https://doc.webpack-china.org/concepts&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Webpack&lt;/a&gt; æ˜¯ä¸€ä¸ªç°ä»£ JavaScript åº”ç”¨ç¨‹åºçš„é™æ€æ¨¡å—æ‰“åŒ…å™¨(module bundler)ã€‚å½“ Webpack å¤„ç†åº”ç”¨ç¨‹åºæ—¶ï¼Œå®ƒä¼šé€’å½’åœ°æ„å»ºä¸€ä¸ªä¾èµ–å…³ç³»å›¾(dependency graph)ï¼Œå…¶ä¸­åŒ…å«åº”ç”¨ç¨‹åºéœ€è¦çš„æ¯ä¸ªæ¨¡å—ï¼Œç„¶åå°†æ‰€æœ‰è¿™äº›æ¨¡å—æ‰“åŒ…æˆä¸€ä¸ªæˆ–å¤šä¸ª bundle &lt;/p&gt;
&lt;p&gt;æœ¬ç« èŠ‚ä¸»è¦ä»‹ç»Webpackçš„æ ¸å¿ƒæ¦‚å¿µçš„Demoä½¿ç”¨ç¤ºä¾‹ï¼Œå»ºè®®è¯»è€…æŸ¥çœ‹ä¹‹å‰è¯·é˜…è¯»Webpackçš„&lt;a href=&quot;https://webpack.js.org/concepts/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;å®˜æ–¹æ–‡æ¡£&lt;/a&gt;ä¹Ÿå¯ä»¥æŸ¥çœ‹&lt;a href=&quot;https://doc.webpack-china.org/concepts&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;ä¸­æ–‡&lt;/a&gt;åœ°å€æ–‡æ¡£&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Webpackç‰ˆæœ¬&lt;/strong&gt;ï¼š 3.9.0&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä»£ç GitHubåœ°å€&lt;/strong&gt;ï¼š &lt;a href=&quot;https://github.com/gulijian/webpack-learning-example&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://github.com/gulijian/webpack-learning-example&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="Java" scheme="http://www.gulj.cn/categories/Java/"/>
    
    
      <category term="webpack" scheme="http://www.gulj.cn/tags/webpack/"/>
    
  </entry>
  
  <entry>
    <title>ã€Dockeræ•™ç¨‹ã€‘Docker Linuxç½‘ç»œå‘½åç©ºé—´</title>
    <link href="http://www.gulj.cn/2018/03/31/docker-linux%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4/"/>
    <id>http://www.gulj.cn/2018/03/31/docker-linuxå‘½åç©ºé—´/</id>
    <published>2018-03-31T02:44:25.000Z</published>
    <updated>2019-02-14T07:07:12.863Z</updated>
    
    <content type="html"><![CDATA[<h4 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h4><p>åˆ°ç°åœ¨æˆ‘ä»¬å·²ç»äº†è§£åˆ°Dockerçš„é•œåƒã€å®¹å™¨ç­‰æ¦‚å¿µï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸€å°å®¿ä¸»æœºä¸Šè¿è¡Œä¸€ä¸ªæˆ–è€…å¤šä¸ªå®¹å™¨ï¼Œä¹Ÿå¯ä»¥å°†ä¸åŒçš„å®¹å™¨è¿è¡Œåœ¨ä¸åŒçš„å®¿ä¸»æœºä¸Šï¼Œé‚£ä¹ˆè¿™äº›å®¹å™¨æ˜¯æ€æ ·è¿›è¡Œäº’ç›¸é€šä¿¡å‘¢ï¼Ÿæœ¬æ–‡å°†ä»‹ç»Linuxç½‘ç»œå‘½åç©ºé—´æ¦‚å¿µï¼Œæ¥å¸®åŠ©è¯»è€…æ›´å¥½åœ°äº†è§£åˆ°Dockerå®¹å™¨ä¹‹é—´çš„é€šä¿¡ã€‚</p><h4 id="å®¹å™¨ä¹‹é—´çš„é€šä¿¡-åŒä¸€å°å®¿ä¸»æœºä¸Š"><a href="#å®¹å™¨ä¹‹é—´çš„é€šä¿¡-åŒä¸€å°å®¿ä¸»æœºä¸Š" class="headerlink" title="å®¹å™¨ä¹‹é—´çš„é€šä¿¡(åŒä¸€å°å®¿ä¸»æœºä¸Š)"></a>å®¹å™¨ä¹‹é—´çš„é€šä¿¡(åŒä¸€å°å®¿ä¸»æœºä¸Š)</h4><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œåœ¨åŒä¸€å°å®¿ä¸»æœºä¸Šçš„å¤šä¸ªå®¹å™¨æ˜¯å¯ä»¥äº’ç›¸è®¿é—®çš„ï¼Œå®¹å™¨çš„ç½‘ç»œå‘½åç©ºé—´å’Œå®¿ä¸»æœºçš„ç½‘ç»œå‘½åç©ºé—´æ˜¯ç›¸äº’ç‹¬ç«‹éš”ç¦»çš„</p><p>æŸ¥çœ‹å®¿ä¸»æœºçš„ç½‘ç»œå‘½åç©ºé—´</p><a id="more"></a><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">$ ip a</span><br><span class="line">1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN qlen 1</span><br><span class="line">    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00</span><br><span class="line">    inet 127.0.0.1/8 scope host lo</span><br><span class="line">       valid_lft forever preferred_lft forever</span><br><span class="line">    inet6 ::1/128 scope host</span><br><span class="line">       valid_lft forever preferred_lft forever</span><br><span class="line">2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP qlen 1000</span><br><span class="line">    link/ether 52:54:00:ad:3b:43 brd ff:ff:ff:ff:ff:ff</span><br><span class="line">    inet 10.0.2.15/24 brd 10.0.2.255 scope global dynamic eth0</span><br><span class="line">       valid_lft 85639sec preferred_lft 85639sec</span><br><span class="line">    inet6 fe80::5054:ff:fead:3b43/64 scope link</span><br><span class="line">       valid_lft forever preferred_lft forever</span><br><span class="line">3: eth1: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP qlen 1000</span><br><span class="line">    link/ether 08:00:27:7e:86:8c brd ff:ff:ff:ff:ff:ff</span><br><span class="line">    inet 192.168.215.20/24 brd 192.168.215.255 scope global eth1</span><br><span class="line">       valid_lft forever preferred_lft forever</span><br><span class="line">    inet6 fe80::a00:27ff:fe7e:868c/64 scope link</span><br><span class="line">       valid_lft forever preferred_lft forever</span><br><span class="line">4: docker0: &lt;NO-CARRIER,BROADCAST,MULTICAST,UP&gt; mtu 1500 qdisc noqueue state DOWN</span><br><span class="line">    link/ether 02:42:79:71:de:73 brd ff:ff:ff:ff:ff:ff</span><br><span class="line">    inet 172.17.0.1/16 brd 172.17.255.255 scope global docker0</span><br><span class="line">       valid_lft forever preferred_lft forever</span><br></pre></td></tr></table></figure><p>æ–°å»ºä¸¤ä¸ªå®¹å™¨æ”¾å…¥åå°è¿è¡Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ docker run -d --name demo1 busybox /bin/sh -c <span class="string">"while true;do sleep 3600;done"</span></span><br><span class="line"></span><br><span class="line">$ docker run -d --name demo2 busybox /bin/sh -c <span class="string">"while true;do sleep 3600;done"</span></span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹ä¸¤ä¸ªå®¹å™¨çš„ç½‘ç»œå‘½åç©ºé—´</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">$ docker <span class="built_in">exec</span> demo1 ip a</span><br><span class="line">1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue qlen 1</span><br><span class="line">    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00</span><br><span class="line">    inet 127.0.0.1/8 scope host lo</span><br><span class="line">       valid_lft forever preferred_lft forever</span><br><span class="line">5: eth0@if6: &lt;BROADCAST,MULTICAST,UP,LOWER_UP,M-DOWN&gt; mtu 1500 qdisc noqueue</span><br><span class="line">    link/ether 02:42:ac:11:00:02 brd ff:ff:ff:ff:ff:ff</span><br><span class="line">    inet 172.17.0.2/16 brd 172.17.255.255 scope global eth0</span><br><span class="line">       valid_lft forever preferred_lft forever</span><br><span class="line">       </span><br><span class="line">$ docker <span class="built_in">exec</span> demo2 ip a</span><br><span class="line">1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue qlen 1</span><br><span class="line">    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00</span><br><span class="line">    inet 127.0.0.1/8 scope host lo</span><br><span class="line">       valid_lft forever preferred_lft forever</span><br><span class="line">7: eth0@if8: &lt;BROADCAST,MULTICAST,UP,LOWER_UP,M-DOWN&gt; mtu 1500 qdisc noqueue</span><br><span class="line">    link/ether 02:42:ac:11:00:03 brd ff:ff:ff:ff:ff:ff</span><br><span class="line">    inet 172.17.0.3/16 brd 172.17.255.255 scope global eth0</span><br><span class="line">       valid_lft forever preferred_lft forever</span><br></pre></td></tr></table></figure><p>è¿™é‡Œå¯ä»¥çœ‹åˆ°å®¿ä¸»æœºã€demo1å’Œdemo2çš„ç½‘ç»œå‘½åç©ºé—´éƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œæµ‹è¯•å®¹å™¨demo1å’Œå®¹å™¨demo2æ˜¯å¦å¯ä»¥äº’é€š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åœ¨ demo1 å†… ping demo2å®¹å™¨çš„ipåœ°å€</span></span><br><span class="line">$ docker <span class="built_in">exec</span> test1 ping 172.17.0.3</span><br><span class="line">PING 172.17.0.3 (172.17.0.3): 56 data bytes</span><br><span class="line">64 bytes from 172.17.0.3: seq=0 ttl=64 time=0.086 ms</span><br><span class="line">64 bytes from 172.17.0.3: seq=1 ttl=64 time=0.104 ms</span><br><span class="line">64 bytes from 172.17.0.3: seq=2 ttl=64 time=0.081 ms</span><br><span class="line"></span><br><span class="line"><span class="comment"># åœ¨ demo2 å†… ping demo1å®¹å™¨çš„ipåœ°å€</span></span><br><span class="line">$ docker <span class="built_in">exec</span> test2  ping 172.17.0.2</span><br><span class="line">PING 172.17.0.2 (172.17.0.2): 56 data bytes</span><br><span class="line">64 bytes from 172.17.0.2: seq=0 ttl=64 time=0.079 ms</span><br><span class="line">64 bytes from 172.17.0.2: seq=1 ttl=64 time=0.102 ms</span><br><span class="line">64 bytes from 172.17.0.2: seq=2 ttl=64 time=0.101 ms</span><br></pre></td></tr></table></figure><p>ä»ä¸Šé¢çœ‹å‡ºå®¹å™¨demo1å’Œå®¹å™¨demok2å¯ä»¥äº’ç›¸è®¿é—®</p><p>ä¸ºäº†æ›´å¥½åœ°äº†è§£åˆ°åœ¨åŒä¸€å®¿ä¸»æœºä¸Šå®¹å™¨é—´çš„é€šä¿¡ï¼Œä¸‹é¢æˆ‘ä»¬ä»Linuxç½‘ç»œå‘½åç©ºé—´æ¥ä¸ºå¤§å®¶è§£é‡Š</p><p>åœ¨è¿™ä¹‹å‰æˆ‘ä»¬å…ˆæŠŠæˆ‘ä»¬åˆšæ‰è¿è¡Œçš„demo1å’Œdemo2ä¸¤ä¸ªå®¹å™¨åœæ­¢æ‰</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo docker stop demo1 demo2</span><br></pre></td></tr></table></figure><h5 id="Linux-çš„ç½‘ç»œå‘½åç©ºé—´-namespace"><a href="#Linux-çš„ç½‘ç»œå‘½åç©ºé—´-namespace" class="headerlink" title="Linux çš„ç½‘ç»œå‘½åç©ºé—´(namespace)"></a>Linux çš„ç½‘ç»œå‘½åç©ºé—´(namespace)</h5><p>ä¸‹é¢æˆ‘ä»¬å°†åœ¨å®¿ä¸»æœºä¸Šåˆ›å»ºä¸¤ä¸ªç½‘ç»œå‘½åç©ºé—´åˆ†åˆ«ä¸ºtest1å’Œtest2ï¼Œç„¶åå†åˆ›å»ºä¸€å¯¹<br><strong>Veth æ¥å£</strong>ï¼Œåˆ†åˆ«åˆ†é…ç»™test1å’Œtest2ï¼Œè¿™æ ·test1å’Œtest2å°±èƒ½å¤Ÿè¿æ¥èµ·æ¥ï¼Œèƒ½å¤Ÿäº’ç›¸è®¿é—®</p><p><img src="http://p6nkwri76.bkt.clouddn.com/15224774725025.jpg" alt=""></p><h5 id="åˆ›å»ºç½‘ç»œå‘½åç©ºé—´"><a href="#åˆ›å»ºç½‘ç»œå‘½åç©ºé—´" class="headerlink" title="åˆ›å»ºç½‘ç»œå‘½åç©ºé—´"></a>åˆ›å»ºç½‘ç»œå‘½åç©ºé—´</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ sudo ip netns add test1</span><br><span class="line"></span><br><span class="line">$ sudo ip netns add test2</span><br></pre></td></tr></table></figure><h5 id="æŸ¥çœ‹ç½‘ç»œå‘½åç©ºé—´"><a href="#æŸ¥çœ‹ç½‘ç»œå‘½åç©ºé—´" class="headerlink" title="æŸ¥çœ‹ç½‘ç»œå‘½åç©ºé—´"></a>æŸ¥çœ‹ç½‘ç»œå‘½åç©ºé—´</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ sudo ip netns list</span><br><span class="line">test2</span><br><span class="line">test1</span><br></pre></td></tr></table></figure><p>åœ¨dockerå®¹å™¨ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æŸ¥çœ‹å®¹å™¨çš„ç½‘ç»œå‘½åç©ºé—´ï¼ŒåŒç†æˆ‘ä»¬ä¹Ÿå¯ä»¥æŸ¥çœ‹æˆ‘ä»¬åˆ›å»ºçš„ç½‘ç»œå‘½åç©ºé—´è¯¦ç»†ä¿¡æ¯</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ sudo ip netns <span class="built_in">exec</span> test1 ip a</span><br><span class="line">1: lo: &lt;LOOPBACK&gt; mtu 65536 qdisc noop state DOWN qlen 1</span><br><span class="line">    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00</span><br><span class="line">    </span><br><span class="line">$ sudo ip netns <span class="built_in">exec</span> test2 ip a </span><br><span class="line">1: lo: &lt;LOOPBACK&gt; mtu 65536 qdisc noop state DOWN qlen 1</span><br><span class="line">    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00</span><br></pre></td></tr></table></figure><p>ç°åœ¨å¯ä»¥çœ‹åˆ°æˆ‘ä»¬åˆ›å»ºçš„ä¸¤ä¸ªå‘½åç©ºé—´test1å’Œtes2åªæœ‰æœ¬åœ°çš„å›ç¯ç«¯å£ï¼Œä¹Ÿæ²¡æœ‰æœ¬åœ° ip 127.0.0.1 ä¹‹ç±»å¹¶ä¸”çŠ¶æ€æ˜¯DOWNçš„çŠ¶æ€</p><p>æŸ¥çœ‹æœ¬åœ°çš„ ip link</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ sudo ip link </span><br><span class="line">1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT qlen 1</span><br><span class="line">    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00</span><br><span class="line">2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP mode DEFAULT qlen 1000</span><br><span class="line">    link/ether 52:54:00:ad:3b:43 brd ff:ff:ff:ff:ff:ff</span><br><span class="line">3: eth1: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP mode DEFAULT qlen 1000</span><br><span class="line">    link/ether 08:00:27:7e:86:8c brd ff:ff:ff:ff:ff:ff</span><br><span class="line">4: docker0: &lt;NO-CARRIER,BROADCAST,MULTICAST,UP&gt; mtu 1500 qdisc noqueue state DOWN mode DEFAULT</span><br><span class="line">    link/ether 02:42:79:71:de:73 brd ff:ff:ff:ff:ff:ff</span><br></pre></td></tr></table></figure><p>ç°åœ¨æœ¬åœ°åªæœ‰å››ä¸ª <strong>ip link</strong> ä¸‹é¢åœ¨å®¿ä¸»æœºä¸Šæ·»åŠ ä¸€å¯¹ <strong>link</strong> (<strong>vethl-test1 å’Œ veth-test2</strong>)</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo ip link add veth-test1 <span class="built_in">type</span> veth peer name veth-test2</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥æˆ‘ä»¬å†æ¬¡æŸ¥çœ‹æœ¬åœ°çš„ <strong>ip link</strong> </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$ sudo ip link </span><br><span class="line">1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT qlen 1</span><br><span class="line">    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00</span><br><span class="line">2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP mode DEFAULT qlen 1000</span><br><span class="line">    link/ether 52:54:00:ad:3b:43 brd ff:ff:ff:ff:ff:ff</span><br><span class="line">3: eth1: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP mode DEFAULT qlen 1000</span><br><span class="line">    link/ether 08:00:27:7e:86:8c brd ff:ff:ff:ff:ff:ff</span><br><span class="line">4: docker0: &lt;NO-CARRIER,BROADCAST,MULTICAST,UP&gt; mtu 1500 qdisc noqueue state DOWN mode DEFAULT</span><br><span class="line">    link/ether 02:42:79:71:de:73 brd ff:ff:ff:ff:ff:ff</span><br><span class="line">9: veth-test2@veth-test1: &lt;BROADCAST,MULTICAST,M-DOWN&gt; mtu 1500 qdisc noop state DOWN mode DEFAULT qlen 1000</span><br><span class="line">    link/ether 9e:44:34:0b:41:39 brd ff:ff:ff:ff:ff:ff</span><br><span class="line">10: veth-test1@veth-test2: &lt;BROADCAST,MULTICAST,M-DOWN&gt; mtu 1500 qdisc noop state DOWN mode DEFAULT qlen 1000</span><br><span class="line">    link/ether 5a:ed:e6:53:00:fb brd ff:ff:ff:ff:ff:ff</span><br></pre></td></tr></table></figure><p>åºå·ï¼š9.ï¼ˆveth-test2@veth-test1ï¼‰ï¼Œ10.ï¼ˆveth-test1@veth-test2ï¼‰å°±æ˜¯æˆ‘ä»¬åˆšæ·»åŠ çš„ä¸€å¯¹ link</p><p>å°† veth-test1 è¿™ä¸ªæ¥å£æ·»åŠ åˆ°ç½‘ç»œå‘½åç©ºé—´test1ä¸Š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo ip link <span class="built_in">set</span> veth-test1 netns test1</span><br></pre></td></tr></table></figure><p>è¿™æ—¶å€™æˆ‘ä»¬ä¼šå‘ç°æœ¬åœ°çš„ ip link åºå·ï¼š10 æ¶ˆå¤±äº†ï¼Œè€Œæˆ‘ä»¬åˆ›å»ºçš„test1ç½‘ç»œå‘½åç©ºé—´å¤šäº† veth-test1,æˆ‘ä»¬æ¥æŸ¥çœ‹test1çš„ ip link</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ sudo ip netns <span class="built_in">exec</span> test1 ip link </span><br><span class="line">1: lo: &lt;LOOPBACK&gt; mtu 65536 qdisc noop state DOWN mode DEFAULT qlen 1</span><br><span class="line">    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00</span><br><span class="line">10: veth-test1@if9: &lt;BROADCAST,MULTICAST&gt; mtu 1500 qdisc noop state DOWN mode DEFAULT qlen 1000</span><br><span class="line">    link/ether 5a:ed:e6:53:00:fb brd ff:ff:ff:ff:ff:ff link-netnsid 0</span><br></pre></td></tr></table></figure><p>åŒç†å°† veth-test2 è¿™ä¸ªæ¥å£æ·»åŠ åˆ°ç½‘ç»œå‘½åç©ºé—´test2ä¸Š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo ip link <span class="built_in">set</span> veth-test2 netns test2</span><br></pre></td></tr></table></figure><p>ç°åœ¨æˆ‘ä»¬æŠŠåˆ›å»ºçš„veth-test1å’Œveth-test2åˆ†åˆ«æ·»åŠ åˆ°äº†ç½‘ç»œå‘½åç©ºé—´test1å’Œtest2ä¸Š(<strong>æ­¤æ—¶ä»–ä»¬éƒ½æ²¡æœ‰ipåœ°å€ï¼ŒçŠ¶æ€ä¹Ÿæ˜¯DOWNçš„çŠ¶æ€</strong>)</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># test1</span></span><br><span class="line">$ sudo ip netns <span class="built_in">exec</span> test1 ip link </span><br><span class="line">1: lo: &lt;LOOPBACK&gt; mtu 65536 qdisc noop state DOWN mode DEFAULT qlen 1</span><br><span class="line">    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00</span><br><span class="line">10: veth-test1@if9: &lt;BROADCAST,MULTICAST&gt; mtu 1500 qdisc noop state DOWN mode DEFAULT qlen 1000</span><br><span class="line">    link/ether 5a:ed:e6:53:00:fb brd ff:ff:ff:ff:ff:ff link-netnsid 0</span><br><span class="line"></span><br><span class="line"><span class="comment"># test2</span></span><br><span class="line">1: lo: &lt;LOOPBACK&gt; mtu 65536 qdisc noop state DOWN mode DEFAULT qlen 1</span><br><span class="line">    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00</span><br><span class="line">9: veth-test2@if10: &lt;BROADCAST,MULTICAST&gt; mtu 1500 qdisc noop state DOWN mode DEFAULT qlen 1000</span><br><span class="line">    link/ether 9e:44:34:0b:41:39 brd ff:ff:ff:ff:ff:ff link-netnsid 0</span><br></pre></td></tr></table></figure><p>åˆ†åˆ«ä¸ºä¸¤ä¸ªæ¥å£ <strong>veth-test1</strong> å’Œ <strong>veth-test2</strong> åˆ†é…ipåœ°å€,ç„¶åè®©å…¶çŠ¶æ€ç”±<strong>DOWN</strong>å˜ä¸º<strong>UP</strong> (åŒæ—¶ä¹Ÿå¯ä»¥æŠŠå„è‡ªçš„å›ç¯ç«¯å£ lo çŠ¶æ€ä¹Ÿè®¾ç½®ä¸º UPï¼Œä¸ç„¶åˆ°æ—¶å€™pingè‡ªå·±çš„æ—¶å€™pingä¸é€š)</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä¸ºveth-test1å’Œveth-test2åˆ†é…IPåœ°å€</span></span><br><span class="line">$ sudo ip netns <span class="built_in">exec</span> test1 ip addr add 192.168.1.1/24 dev veth-test1</span><br><span class="line">$ sudo ip netns <span class="built_in">exec</span> test2 ip addr add 192.168.1.2/24 dev veth-test2</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®veth-test1å’Œveth-test2çš„çŠ¶æ€ç”±DOWNå˜ä¸ºUP</span></span><br><span class="line">$ sudo ip netns <span class="built_in">exec</span> test1 ip link <span class="built_in">set</span> dev veth-test1 up</span><br><span class="line">$ sudo ip netns <span class="built_in">exec</span> test2 ip link <span class="built_in">set</span> dev veth-test2 up</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®test1å’Œtest2çš„æœ¬åœ°å›ç¯ç«¯å£çŠ¶æ€ç”±DOWNå˜ä¸ºUP</span></span><br><span class="line">$ sudo ip netns <span class="built_in">exec</span> test1 ip link <span class="built_in">set</span> dev lo  up</span><br><span class="line">$ sudo ip netns <span class="built_in">exec</span> test2 ip link <span class="built_in">set</span> dev lo  up</span><br></pre></td></tr></table></figure><p>ç°åœ¨æˆ‘ä»¬å¯ä»¥çœ‹åˆ°æˆ‘ä»¬åˆ›å»ºçš„test1å’Œtest2è¿™ä¸¤ä¸ªç½‘ç»œå‘½åç©ºé—´ä¸Šçš„veth-test1å’Œveth-test2æ¥å£åˆ†é…çš„IPåœ°å€ï¼Œå¹¶ä¸”çŠ¶æ€ä¸ºUP </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"># test1</span><br><span class="line">$ sudo ip netns exec test1 ip  a</span><br><span class="line">1: lo: &lt;LOOPBACK&gt; mtu 65536 qdisc noop state DOWN qlen 1</span><br><span class="line">    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00</span><br><span class="line">10: veth-test1@if9: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP qlen 1000</span><br><span class="line">    link/ether 5a:ed:e6:53:00:fb brd ff:ff:ff:ff:ff:ff link-netnsid 1</span><br><span class="line">    inet 192.168.1.1/24 scope global veth-test1</span><br><span class="line">       valid_lft forever preferred_lft forever</span><br><span class="line">    inet6 fe80::58ed:e6ff:fe53:fb/64 scope link</span><br><span class="line">       valid_lft forever preferred_lft forever</span><br><span class="line">  </span><br><span class="line"># test2     </span><br><span class="line">$ sudo ip netns exec test2  ip  a</span><br><span class="line">1: lo: &lt;LOOPBACK&gt; mtu 65536 qdisc noop state DOWN qlen 1</span><br><span class="line">    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00</span><br><span class="line">9: veth-test2@if10: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP qlen 1000</span><br><span class="line">    link/ether 9e:44:34:0b:41:39 brd ff:ff:ff:ff:ff:ff link-netnsid 0</span><br><span class="line">    inet 192.168.1.2/24 scope global veth-test2</span><br><span class="line">       valid_lft forever preferred_lft forever</span><br><span class="line">    inet6 fe80::9c44:34ff:fe0b:4139/64 scope link</span><br><span class="line">       valid_lft forever preferred_lft forever</span><br></pre></td></tr></table></figure><p>åˆ°æ­¤æˆ‘ä»¬å·²ç»æˆåŠŸåœ°å®Œæˆäº†é€šè¿‡æˆ‘ä»¬è‡ªå·±åˆ›å»ºçš„test1å’Œtest2è¿™ä¸¤ä¸ªç½‘ç»œå‘½åç©ºé—´ï¼Œä»–ä»¬ä¹‹é—´å¯ä»¥é€šè¿‡veth-test1å’Œveth-test2äº’ç›¸è®¿é—®</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># test1 ä¸Š ping test2çš„ip</span></span><br><span class="line">sudo ip netns <span class="built_in">exec</span> test1  ping 192.168.1.2</span><br><span class="line">PING 192.168.1.2 (192.168.1.2) 56(84) bytes of data.</span><br><span class="line">64 bytes from 192.168.1.2: icmp_seq=1 ttl=64 time=0.048 ms</span><br><span class="line">64 bytes from 192.168.1.2: icmp_seq=2 ttl=64 time=0.059 ms</span><br><span class="line">64 bytes from 192.168.1.2: icmp_seq=3 ttl=64 time=0.067 ms</span><br><span class="line"></span><br><span class="line"><span class="comment"># test2 ä¸Š ping test1çš„ip</span></span><br><span class="line">$ sudo ip netns <span class="built_in">exec</span> test2  ping 192.168.1.1</span><br><span class="line">PING 192.168.1.1 (192.168.1.1) 56(84) bytes of data.</span><br><span class="line">64 bytes from 192.168.1.1: icmp_seq=1 ttl=64 time=0.048 ms</span><br><span class="line">64 bytes from 192.168.1.1: icmp_seq=2 ttl=64 time=0.052 ms</span><br><span class="line">64 bytes from 192.168.1.1: icmp_seq=3 ttl=64 time=0.079 ms</span><br></pre></td></tr></table></figure><blockquote><p>åœ¨åŒä¸€å°å®¿ä¸»æœºä¸Šçš„dockerå¤šå®¹å™¨ä»–ä»¬åˆ†åˆ«æœ‰å„è‡ªçš„ç½‘ç»œå‘½åç©ºé—´ï¼Œä»–ä»¬ä¹‹é—´çš„é€šä¿¡åŸç†ï¼Œå’Œæˆ‘ä»¬è‡ªå·±åˆ›å»ºçš„test1å’Œtest2è¿™ä¸¤ä¸ªç½‘ç»œå‘½åç©ºé—´ä»–ä»¬ä¹‹é—´çš„é€šä¿¡åŸç†ç±»ä¼¼</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h4&gt;&lt;p&gt;åˆ°ç°åœ¨æˆ‘ä»¬å·²ç»äº†è§£åˆ°Dockerçš„é•œåƒã€å®¹å™¨ç­‰æ¦‚å¿µï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸€å°å®¿ä¸»æœºä¸Šè¿è¡Œä¸€ä¸ªæˆ–è€…å¤šä¸ªå®¹å™¨ï¼Œä¹Ÿå¯ä»¥å°†ä¸åŒçš„å®¹å™¨è¿è¡Œåœ¨ä¸åŒçš„å®¿ä¸»æœºä¸Šï¼Œé‚£ä¹ˆè¿™äº›å®¹å™¨æ˜¯æ€æ ·è¿›è¡Œäº’ç›¸é€šä¿¡å‘¢ï¼Ÿæœ¬æ–‡å°†ä»‹ç»Linuxç½‘ç»œå‘½åç©ºé—´æ¦‚å¿µï¼Œæ¥å¸®åŠ©è¯»è€…æ›´å¥½åœ°äº†è§£åˆ°Dockerå®¹å™¨ä¹‹é—´çš„é€šä¿¡ã€‚&lt;/p&gt;
&lt;h4 id=&quot;å®¹å™¨ä¹‹é—´çš„é€šä¿¡-åŒä¸€å°å®¿ä¸»æœºä¸Š&quot;&gt;&lt;a href=&quot;#å®¹å™¨ä¹‹é—´çš„é€šä¿¡-åŒä¸€å°å®¿ä¸»æœºä¸Š&quot; class=&quot;headerlink&quot; title=&quot;å®¹å™¨ä¹‹é—´çš„é€šä¿¡(åŒä¸€å°å®¿ä¸»æœºä¸Š)&quot;&gt;&lt;/a&gt;å®¹å™¨ä¹‹é—´çš„é€šä¿¡(åŒä¸€å°å®¿ä¸»æœºä¸Š)&lt;/h4&gt;&lt;p&gt;é»˜è®¤æƒ…å†µä¸‹ï¼Œåœ¨åŒä¸€å°å®¿ä¸»æœºä¸Šçš„å¤šä¸ªå®¹å™¨æ˜¯å¯ä»¥äº’ç›¸è®¿é—®çš„ï¼Œå®¹å™¨çš„ç½‘ç»œå‘½åç©ºé—´å’Œå®¿ä¸»æœºçš„ç½‘ç»œå‘½åç©ºé—´æ˜¯ç›¸äº’ç‹¬ç«‹éš”ç¦»çš„&lt;/p&gt;
&lt;p&gt;æŸ¥çœ‹å®¿ä¸»æœºçš„ç½‘ç»œå‘½åç©ºé—´&lt;/p&gt;
    
    </summary>
    
      <category term="è¿ç»´" scheme="http://www.gulj.cn/categories/%E8%BF%90%E7%BB%B4/"/>
    
    
      <category term="docker" scheme="http://www.gulj.cn/tags/docker/"/>
    
  </entry>
  
  <entry>
    <title>ã€Dockeræ•™ç¨‹ã€‘Docker æ•°æ®æŒä¹…åŒ–</title>
    <link href="http://www.gulj.cn/2018/03/30/docker-%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%8C%96/"/>
    <id>http://www.gulj.cn/2018/03/30/docker-æ•°æ®æŒä¹…åŒ–/</id>
    <published>2018-03-30T03:47:38.000Z</published>
    <updated>2019-02-14T07:07:12.864Z</updated>
    
    <content type="html"><![CDATA[<h4 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h4><p>Docker å®¹å™¨ä¸€æ—¦åˆ é™¤ï¼Œé‚£ä¹ˆæˆ‘ä»¬åœ¨å®¹å™¨å†…çš„ä¸€åˆ‡æ“ä½œå°†ä¸å¤å­˜åœ¨ï¼Œæ¯”å¦‚æˆ‘ä»¬åœ¨å®¹å™¨å†…å­˜å‚¨çš„æ•°æ®ç­‰ï¼›ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒDocker æå‡ºäº†æ•°æ®å·æ¦‚å¿µï¼Œå°±åƒæˆ‘ä»¬è¿è¡Œä¸€ä¸ªmysqlå®¹å™¨ï¼Œæˆ‘ä»¬éœ€è¦å­˜å‚¨æˆ‘ä»¬çš„æ•°æ®ï¼Œæ—¥å¿—ä¹‹ç±»ï¼Œæƒ³è¦ä»–ä»¬ä¸ä¼šéšç€å®¹å™¨çš„åˆ é™¤è€Œé”€æ¯ï¼Œæˆ–è€…æˆ‘ä»¬éœ€è¦åœ¨å„ä¸ªå®¹å™¨é—´å…±äº«æ•°æ®ï¼Œé‚£ä¹ˆè¿™äº›<strong>æ•°æ®å·</strong>æˆ–è€…<strong>æ•°æ®å·å®¹å™¨</strong>éƒ½èƒ½åšåˆ°ã€‚</p><p>æ•°æ®å·æ˜¯ä¸€ä¸ªå¯ä¾›ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨ä½¿ç”¨çš„ç‰¹æ®Šç›®å½•ï¼Œå®ƒç»•è¿‡ UFSï¼Œå¯ä»¥æä¾›å¾ˆå¤šæœ‰ç”¨çš„ç‰¹æ€§ï¼š</p><ul><li>æ•°æ®å·å¯ä»¥åœ¨å®¹å™¨ä¹‹é—´å…±äº«å’Œé‡ç”¨</li><li>å¯¹æ•°æ®å·çš„ä¿®æ”¹ä¼šç«‹é©¬ç”Ÿæ•ˆ</li><li>å¯¹æ•°æ®å·çš„æ›´æ–°ï¼Œä¸ä¼šå½±å“é•œåƒ</li><li>æ•°æ®å·é»˜è®¤ä¼šä¸€ç›´å­˜åœ¨ï¼Œå³ä½¿å®¹å™¨è¢«åˆ é™¤</li><li>æ•°æ®å·çš„ç”Ÿå‘½å‘¨æœŸä¸€ç›´æŒç»­åˆ°æ²¡æœ‰å®¹å™¨ä½¿ç”¨å®ƒä¸ºæ­¢</li></ul><blockquote><p>æ•°æ®å·çš„ä½¿ç”¨ï¼Œç±»ä¼¼äº Linux ä¸‹å¯¹ç›®å½•æˆ–æ–‡ä»¶è¿›è¡Œ mountï¼Œé•œåƒä¸­çš„è¢«æŒ‡å®šä¸ºæŒ‚è½½ç‚¹çš„ç›®å½•ä¸­çš„æ–‡ä»¶ä¼šéšè—æ‰ï¼Œèƒ½æ˜¾ç¤ºçœ‹çš„æ˜¯æŒ‚è½½çš„æ•°æ®å·</p></blockquote><a id="more"></a><p><strong>Dockeræä¾›äº†ä¸¤ç§æ–¹å¼ç®¡ç†æ•°æ®</strong></p><ul><li>æ•°æ®å·</li><li>æ•°æ®å·å®¹å™¨</li></ul><h4 id="æ•°æ®å·"><a href="#æ•°æ®å·" class="headerlink" title="æ•°æ®å·"></a>æ•°æ®å·</h4><h5 id="æ·»åŠ æ•°æ®å·"><a href="#æ·»åŠ æ•°æ®å·" class="headerlink" title="æ·»åŠ æ•°æ®å·"></a>æ·»åŠ æ•°æ®å·</h5><p>åœ¨ <strong>docker run</strong> å‘½ä»¤ä¸­ ä½¿ç”¨ <strong>-v</strong> æ ‡è¯†ç»™å®¹å™¨å†…æ·»åŠ ä¸€ä¸ªæˆ–è€…å¤šä¸ªæ•°æ®å·</p><p>åœ¨å®¹å™¨å†…åˆ›å»ºä¸€ä¸ªæ–°çš„æ•°æ®å· /data/shop</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker run -d -P --name my-shop-web -v /data/shop sqgulj/shop-web</span><br></pre></td></tr></table></figure><p>è¿™ç§æ–¹å¼æˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨Dockerfileä¸­ä½¿ç”¨<strong>VOLUME</strong>æŒ‡ä»¤æ¥ç»™åˆ›å»ºçš„å®¹å™¨æ·»åŠ ä¸€ä¸ªæˆ–è€…å¤šä¸ªæ•°æ®å·ï¼Œæ¯”å¦‚å®˜æ–¹çš„ mysql çš„ <a href="https://github.com/docker-library/mysql/blob/ad625c64a06e16683e997e5a0147508d115f4989/5.7/Dockerfile" target="_blank" rel="noopener">Dockerfile</a> ä¸­ç”¨ <strong>VOLUME</strong> æŒ‡å®šäº†æ•°æ®å·</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">.........</span><br><span class="line"></span><br><span class="line">RUN &#123;</span><br><span class="line">    apt-get update &amp;&amp; apt-get install -y mysql-server=<span class="string">"<span class="variable">$&#123;MYSQL_VERSION&#125;</span>"</span> &amp;&amp; rm -rf /var/lib/apt/lists/* \</span><br><span class="line">&amp;&amp; rm -rf /var/lib/mysql &amp;&amp; mkdir -p /var/lib/mysql /var/run/mysqld \</span><br><span class="line">&amp;&amp; chown -R mysql:mysql /var/lib/mysql /var/run/mysqld \</span><br><span class="line"><span class="comment"># ensure that /var/run/mysqld (used for socket and lock files) is writable regardless of the UID our mysqld instance ends up having at runtime</span></span><br><span class="line">&amp;&amp; chmod 777 /var/run/mysqld \</span><br><span class="line"><span class="comment"># comment out a few problematic configuration values</span></span><br><span class="line">&amp;&amp; find /etc/mysql/ -name <span class="string">'*.cnf'</span> -print0 \</span><br><span class="line">| xargs -0 grep -lZE <span class="string">'^(bind-address|log)'</span> \</span><br><span class="line">| xargs -rt -0 sed -Ei <span class="string">'s/^(bind-address|log)/#&amp;/'</span> \</span><br><span class="line"><span class="comment"># don't reverse lookup hostnames, they are usually another container</span></span><br><span class="line">&amp;&amp; <span class="built_in">echo</span> <span class="string">'[mysqld]\nskip-host-cache\nskip-name-resolve'</span> &gt; /etc/mysql/conf.d/docker.cnf</span><br><span class="line"></span><br><span class="line">VOLUME /var/lib/mysql</span><br><span class="line"></span><br><span class="line">COPY docker-entrypoint.sh /usr/<span class="built_in">local</span>/bin/</span><br><span class="line">RUN ln -s usr/<span class="built_in">local</span>/bin/docker-entrypoint.sh /entrypoint.sh <span class="comment"># backwards compat</span></span><br><span class="line">ENTRYPOINT [<span class="string">"docker-entrypoint.sh"</span>]</span><br><span class="line">............</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ <strong>VOLUME /var/lib/mysql</strong>  æŒ‡å®šäº†mysqlçš„æ•°æ®å·</p><h5 id="å°†å®¿ä¸»æœºçš„ä¸€ä¸ªç›®å½•ï¼ŒæŒ‚åœ¨åˆ°å®¹å™¨é‡Œ"><a href="#å°†å®¿ä¸»æœºçš„ä¸€ä¸ªç›®å½•ï¼ŒæŒ‚åœ¨åˆ°å®¹å™¨é‡Œ" class="headerlink" title="å°†å®¿ä¸»æœºçš„ä¸€ä¸ªç›®å½•ï¼ŒæŒ‚åœ¨åˆ°å®¹å™¨é‡Œ"></a>å°†å®¿ä¸»æœºçš„ä¸€ä¸ªç›®å½•ï¼ŒæŒ‚åœ¨åˆ°å®¹å™¨é‡Œ</h5><p>ä½¿ç”¨ <strong>-v</strong>ï¼Œé™¤äº†å¯ä»¥åˆ›å»ºä¸€ä¸ªæ•°æ®å·ï¼Œè¿˜å¯ä»¥æŒ‚è½½æœ¬åœ°ä¸»æœºç›®å½•åˆ°å®¹å™¨ä¸­</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker run -d -P --name my-shop-web -v /<span class="built_in">local</span>/data/shop:/data/shop sqgulj/shop-web</span><br></pre></td></tr></table></figure><p>è¿™å°†ä¼šæŠŠæœ¬åœ°ç›®å½•/local/data/shopæŒ‚è½½åˆ°å®¹å™¨çš„/data/shopç›®å½•ï¼Œå®¿ä¸»æœºä¸Šçš„ç›®å½•å¿…é¡»æ˜¯ç»å¯¹è·¯å¾„ï¼Œå¦‚æœç›®å½•ä¸å­˜åœ¨dockerä¼šè‡ªåŠ¨åˆ›å»ºå®ƒã€‚</p><blockquote><p>å‡ºäºå¯ç§»æ¤å’Œåˆ†äº«çš„è€ƒè™‘ï¼Œåœ¨Dockerfileä¸­è¿™ç§æ–¹å¼ä¸æ”¯æŒ</p></blockquote><p>dockeré»˜è®¤æƒ…å†µä¸‹æ˜¯å¯¹æ•°æ®å·æœ‰è¯»å†™æƒé™ï¼Œä½†æ˜¯æˆ‘ä»¬é€šè¿‡è¿™æ ·çš„æ–¹å¼è®©æ•°æ®å·åªè¯»ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker run -d -P --name my-shop-web -v /<span class="built_in">local</span>/data/shop:/data/shop:ro sqgulj/shop-web</span><br></pre></td></tr></table></figure><p>è¿™é‡Œæˆ‘ä»¬åŒæ ·æŒ‚è½½äº†/local/data/shopç›®å½•ï¼Œåªæ˜¯æ·»åŠ äº† <strong>ro</strong> é€‰é¡¹æ¥é™åˆ¶å®ƒåªè¯»ã€‚</p><h5 id="å°†å®¿ä¸»æœºä¸Šå•ä¸ªæ–‡ä»¶æŒ‚è½½åˆ°å®¹å™¨ä¸­"><a href="#å°†å®¿ä¸»æœºä¸Šå•ä¸ªæ–‡ä»¶æŒ‚è½½åˆ°å®¹å™¨ä¸­" class="headerlink" title="å°†å®¿ä¸»æœºä¸Šå•ä¸ªæ–‡ä»¶æŒ‚è½½åˆ°å®¹å™¨ä¸­"></a>å°†å®¿ä¸»æœºä¸Šå•ä¸ªæ–‡ä»¶æŒ‚è½½åˆ°å®¹å™¨ä¸­</h5><p>é™¤äº†èƒ½æŒ‚è½½ç›®å½•å¤–ï¼Œ<strong>-v</strong> æ ‡è¯†è¿˜å¯ä»¥å°†å®¿ä¸»æœºçš„ä¸€ä¸ªç‰¹å®šæ–‡ä»¶æŒ‚è½½ä¸ºæ•°æ®å·</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo docker run --rm -it -v ~/.bash_history:/.bash_history ubuntu /bin/bash</span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±å¯ä»¥è®°å½•åœ¨å®¹å™¨è¾“å…¥è¿‡çš„å‘½ä»¤äº†</p><blockquote><p>å¦‚æœç›´æ¥æŒ‚è½½ä¸€ä¸ªæ–‡ä»¶ï¼Œå¾ˆå¤šæ–‡ä»¶ç¼–è¾‘å·¥å…·ï¼ŒåŒ…æ‹¬ vi æˆ–è€… sed â€“in-placeï¼Œå¯èƒ½ä¼šé€ æˆæ–‡ä»¶ inode çš„æ”¹å˜ï¼Œä» Docker 1.1.0èµ·ï¼Œè¿™ä¼šå¯¼è‡´æŠ¥é”™è¯¯ä¿¡æ¯ã€‚æ‰€ä»¥æœ€ç®€å•çš„åŠæ³•å°±ç›´æ¥æŒ‚è½½æ–‡ä»¶çš„çˆ¶ç›®å½•ã€‚</p></blockquote><h5 id="æŸ¥çœ‹æ•°æ®å·"><a href="#æŸ¥çœ‹æ•°æ®å·" class="headerlink" title="æŸ¥çœ‹æ•°æ®å·"></a>æŸ¥çœ‹æ•°æ®å·</h5><ul><li>ä½¿ç”¨å‘½ä»¤ <strong>docker volume</strong> å¯ä»¥æŸ¥çœ‹æˆ‘ä»¬ç”Ÿæˆçš„æ•°æ®å·</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ docker volume ls </span><br><span class="line">DRIVER              VOLUME NAME</span><br><span class="line"><span class="built_in">local</span>               b202765855d3b77e574284fde0079d31fb0258997a7b72eb6f7c8299053f216b</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°æˆ‘ä»¬æ·»åŠ çš„æ•°æ®å· /data/shop ï¼Œå½“æˆ‘ä»¬æŸ¥çœ‹çš„æ—¶å€™å¹¶ä¸æ˜¯æˆ‘ä»¬æä¾›çš„åç§°ï¼Œè€Œæ˜¯ç”Ÿæˆä¸€ç³»åˆ—çš„éšæœºä¸²ï¼Œå½“æˆ‘ä»¬ä¸ºå¤šä¸ªå®¹å™¨æ·»åŠ æ•°æ®å·çš„æ—¶å€™ï¼Œå®ƒä¹Ÿä¼šä¸ºå…¶ç”Ÿæˆä¸€ç³»åˆ—çš„éšæœºä¸²ï¼Œè¿™æ ·ä¸åˆ©äºæˆ‘ä»¬è¾¨è¯†å“ªäº›æ•°æ®å·æŒ‚åœ¨å“ªä¸ªå®¹å™¨ä¸­ï¼Œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ·»åŠ æ•°æ®æ•°æ®å·çš„æ—¶å€™ï¼Œä¸ºæ•°æ®å·èµ·ä¸ªè¾¨è¯†çš„åç§°ï¼Œæ¯”å¦‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker run -d -P --name my-shop-web -v shopwebdata:/data/shop sqgulj/shop-web</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å‘ç°ï¼Œè¿™æ¬¡æˆ‘ä»¬ä¸ºå®¹å™¨æ·»åŠ ä¸€ä¸ªæ•°æ®çš„æ—¶å€™æˆ‘ä»¬åœ¨å‰é¢åŠ äº†ä¸€ä¸ª <strong>shopwebdata</strong> ï¼Œæ³¨æ„<strong>shopwebdata</strong>å‰é¢æ²¡æœ‰<strong>æ–œæ ( / )</strong>ï¼Œå¦‚æœæœ‰æ–œæ é‚£æ˜¯æŠŠæœ¬åœ°çš„ä¸€ä¸ªç›®å½•æŒ‚è½½åˆ°å®¹å™¨å†…çš„ä¸€ä¸ªç›®å½•</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ docker volume ls </span><br><span class="line">DRIVER              VOLUME NAME</span><br><span class="line"><span class="built_in">local</span>               shopwebdata</span><br></pre></td></tr></table></figure><p>è¿™æ¬¡æˆ‘ä»¬å°±èƒ½çœ‹åˆ°æˆ‘ä»¬æ·»åŠ çš„æ•°æ®å·å°±æ˜¯æˆ‘ä»¬èµ·çš„åç§°ï¼Œè€Œä¸æ˜¯ä¸€äº›åˆ—çš„éšæœºä¸²</p><ul><li>ä½¿ç”¨å‘½ä»¤ <strong>docker inspect</strong> æŸ¥çœ‹æ•°æ®å·</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># my-shop-web ä¸ºå®¹å™¨çš„åç§°</span></span><br><span class="line">$ docker inspect my-shop-web</span><br><span class="line">............</span><br><span class="line"></span><br><span class="line"><span class="string">"Mounts"</span>: [</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="string">"Type"</span>: <span class="string">"volume"</span>,</span><br><span class="line">                <span class="string">"Name"</span>: <span class="string">"b202765855d3b77e574284fde0079d31fb0258997a7b72eb6f7c8299053f216b"</span>,</span><br><span class="line">                <span class="string">"Source"</span>: <span class="string">"/var/lib/docker/volumes/b202765855d3b77e574284fde0079d31fb0258997a7b72eb6f7c8299053f216b/_data"</span>,</span><br><span class="line">                <span class="string">"Destination"</span>: <span class="string">"/data/shop"</span>,</span><br><span class="line">                <span class="string">"Driver"</span>: <span class="string">"local"</span>,</span><br><span class="line">                <span class="string">"Mode"</span>: <span class="string">""</span>,</span><br><span class="line">                <span class="string">"RW"</span>: <span class="literal">true</span>,</span><br><span class="line">                <span class="string">"Propagation"</span>: <span class="string">""</span></span><br><span class="line">            &#125;</span><br><span class="line">        ],</span><br><span class="line">        </span><br><span class="line">.............</span><br></pre></td></tr></table></figure><p>è¿™é‡Œåªåˆ—å‡ºäº†å…¶ä¸­çš„ Mounts å±æ€§ï¼Œä»ä¸­å¯ä»¥çœ‹åˆ°Sourceå­—æ®µæ˜¾ç¤ºäº†æ•°æ®å·å­˜æ”¾çš„ä½ç½®</p><h5 id="åˆ é™¤æ•°æ®å·"><a href="#åˆ é™¤æ•°æ®å·" class="headerlink" title="åˆ é™¤æ•°æ®å·"></a>åˆ é™¤æ•°æ®å·</h5><p>æ•°æ®å·æ˜¯è¢«è®¾è®¡æ¥æŒä¹…åŒ–æ•°æ®çš„ï¼Œå› æ­¤ï¼Œåˆ é™¤å®¹å™¨å¹¶ä¸ä¼šåˆ é™¤æ•°æ®å·ã€‚å¦‚æœæƒ³è¦åœ¨åˆ é™¤å®¹å™¨æ—¶åŒæ—¶åˆ é™¤æ•°æ®å·ï¼Œå¯ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker rm -v å®¹å™¨ID</span><br></pre></td></tr></table></figure><p>è¿™æ ·æ—¢å¯åœ¨<strong>åˆ é™¤å®¹å™¨</strong>çš„åŒæ—¶ä¹Ÿå°†<strong>æ•°æ®å·åˆ é™¤</strong>ã€‚</p><p>æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨ <strong>docker volume rm</strong> å‘½ä»¤åˆ é™¤æ•°æ®å·</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹æ•°æ®å·</span></span><br><span class="line">$ docker volume ls</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŒ‡å®šæ•°æ®å·åç§°åˆ é™¤</span></span><br><span class="line">$ docker volume rm volume_name volume_name</span><br></pre></td></tr></table></figure><p>åˆ é™¤æ‰€æœ‰çš„æ•°æ®å·</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker volume rm $(docker volume ls -f dangling=<span class="literal">true</span> -q)</span><br></pre></td></tr></table></figure><h4 id="æ•°æ®å·å®¹å™¨"><a href="#æ•°æ®å·å®¹å™¨" class="headerlink" title="æ•°æ®å·å®¹å™¨"></a>æ•°æ®å·å®¹å™¨</h4><p>å¦‚æœæœ‰äº›æ•°æ®ï¼Œéœ€è¦åœ¨å¤šä¸ªå®¹å™¨ä¹‹é—´è¿›è¡Œå…±äº«ï¼Œè¿™æ—¶å€™å¯ä»¥ä½¿ç”¨æ•°æ®å·å®¹å™¨<br>åˆ›å»ºæ•°æ®å·å®¹å™¨</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run --name mysql-volume -v /data mysql</span><br></pre></td></tr></table></figure><p>å…¶å®ƒå®¹å™¨å¯ä»¥ä½¿ç”¨â€“volumes-fromæ ‡è¯†ï¼Œæ¥ä½¿ç”¨é€šè¿‡åˆšåˆšåˆ›å»ºçš„æ•°æ®å·å®¹å™¨ï¼Œæ¥æŒ‚è½½å¯¹åº”çš„æ•°æ®å·</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ docker run -d --volumes-from mysql-volume --name db1 mysql</span><br><span class="line"></span><br><span class="line">$ docker run -d --volumes-from mysql-volume --name db2 mysql</span><br></pre></td></tr></table></figure><p>è¿™æ · db1 å’Œ db2 ä¸¤ä¸ªå®¹å™¨éƒ½å…±äº« mysql-volume è¿™ä¸ªå®¹å™¨ä¸­çš„æ–‡ä»¶</p><p>æŒ‚è½½ç›¸åŒæ•°æ®å·çš„å®¹å™¨ï¼Œå®¹å™¨çš„åœæ­¢å’Œåˆ é™¤ï¼Œä¸ä¼šå¯¹æ•°æ®å·äº§ç”Ÿå½±å“</p><p>æˆ‘ä»¬ä¹Ÿè¿˜å¯ä»¥å¯¹ä¸€ä¸ªå®¹å™¨ä½¿ç”¨å¤šä¸ª â€“volumes-from æ ‡è¯†ï¼Œæ¥å°†å¤šä¸ªæ•°æ®å·æ¡¥æ¥åˆ°è¿™ä¸ªå®¹å™¨ä¸­</p>]]></content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;ä»‹ç»&quot;&gt;&lt;a href=&quot;#ä»‹ç»&quot; class=&quot;headerlink&quot; title=&quot;ä»‹ç»&quot;&gt;&lt;/a&gt;ä»‹ç»&lt;/h4&gt;&lt;p&gt;Docker å®¹å™¨ä¸€æ—¦åˆ é™¤ï¼Œé‚£ä¹ˆæˆ‘ä»¬åœ¨å®¹å™¨å†…çš„ä¸€åˆ‡æ“ä½œå°†ä¸å¤å­˜åœ¨ï¼Œæ¯”å¦‚æˆ‘ä»¬åœ¨å®¹å™¨å†…å­˜å‚¨çš„æ•°æ®ç­‰ï¼›ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒDocker æå‡ºäº†æ•°æ®å·æ¦‚å¿µï¼Œå°±åƒæˆ‘ä»¬è¿è¡Œä¸€ä¸ªmysqlå®¹å™¨ï¼Œæˆ‘ä»¬éœ€è¦å­˜å‚¨æˆ‘ä»¬çš„æ•°æ®ï¼Œæ—¥å¿—ä¹‹ç±»ï¼Œæƒ³è¦ä»–ä»¬ä¸ä¼šéšç€å®¹å™¨çš„åˆ é™¤è€Œé”€æ¯ï¼Œæˆ–è€…æˆ‘ä»¬éœ€è¦åœ¨å„ä¸ªå®¹å™¨é—´å…±äº«æ•°æ®ï¼Œé‚£ä¹ˆè¿™äº›&lt;strong&gt;æ•°æ®å·&lt;/strong&gt;æˆ–è€…&lt;strong&gt;æ•°æ®å·å®¹å™¨&lt;/strong&gt;éƒ½èƒ½åšåˆ°ã€‚&lt;/p&gt;
&lt;p&gt;æ•°æ®å·æ˜¯ä¸€ä¸ªå¯ä¾›ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨ä½¿ç”¨çš„ç‰¹æ®Šç›®å½•ï¼Œå®ƒç»•è¿‡ UFSï¼Œå¯ä»¥æä¾›å¾ˆå¤šæœ‰ç”¨çš„ç‰¹æ€§ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ•°æ®å·å¯ä»¥åœ¨å®¹å™¨ä¹‹é—´å…±äº«å’Œé‡ç”¨&lt;/li&gt;
&lt;li&gt;å¯¹æ•°æ®å·çš„ä¿®æ”¹ä¼šç«‹é©¬ç”Ÿæ•ˆ&lt;/li&gt;
&lt;li&gt;å¯¹æ•°æ®å·çš„æ›´æ–°ï¼Œä¸ä¼šå½±å“é•œåƒ&lt;/li&gt;
&lt;li&gt;æ•°æ®å·é»˜è®¤ä¼šä¸€ç›´å­˜åœ¨ï¼Œå³ä½¿å®¹å™¨è¢«åˆ é™¤&lt;/li&gt;
&lt;li&gt;æ•°æ®å·çš„ç”Ÿå‘½å‘¨æœŸä¸€ç›´æŒç»­åˆ°æ²¡æœ‰å®¹å™¨ä½¿ç”¨å®ƒä¸ºæ­¢&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;æ•°æ®å·çš„ä½¿ç”¨ï¼Œç±»ä¼¼äº Linux ä¸‹å¯¹ç›®å½•æˆ–æ–‡ä»¶è¿›è¡Œ mountï¼Œé•œåƒä¸­çš„è¢«æŒ‡å®šä¸ºæŒ‚è½½ç‚¹çš„ç›®å½•ä¸­çš„æ–‡ä»¶ä¼šéšè—æ‰ï¼Œèƒ½æ˜¾ç¤ºçœ‹çš„æ˜¯æŒ‚è½½çš„æ•°æ®å·&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="è¿ç»´" scheme="http://www.gulj.cn/categories/%E8%BF%90%E7%BB%B4/"/>
    
    
      <category term="docker" scheme="http://www.gulj.cn/tags/docker/"/>
    
  </entry>
  
  <entry>
    <title>ã€Dockeræ•™ç¨‹ã€‘Docker å®¹å™¨</title>
    <link href="http://www.gulj.cn/2018/03/29/docker-%E5%AE%B9%E5%99%A8/"/>
    <id>http://www.gulj.cn/2018/03/29/docker-å®¹å™¨/</id>
    <published>2018-03-29T06:17:03.000Z</published>
    <updated>2019-02-14T07:07:12.864Z</updated>
    
    <content type="html"><![CDATA[<h4 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h4><p>Docker å®¹å™¨æ˜¯ç”¨äºè¿è¡Œé•œåƒçš„æ²™ç®±ç¯å¢ƒï¼Œå®ƒæ˜¯ Docker é•œåƒçš„è¿è¡Œå®ä¾‹ï¼›å®¹å™¨éƒ½æ˜¯ç›¸äº’éš”ç¦»ã€äº’ä¸å¯è§çš„ï¼Œæˆ‘ä»¬å¯ä»¥ç†è§£ä¸ºï¼šé•œåƒæ˜¯Dockerç”Ÿå‘½å‘¨æœŸçš„æ‰“åŒ…å’Œæ„å»ºé˜¶æ®µï¼Œè€Œå®¹å™¨æ˜¯Dockerçš„å¯åŠ¨å’Œæ‰§è¡Œé˜¶æ®µã€‚</p><p>å®¹å™¨æ˜¯ä»é•œåƒåˆ›å»ºçš„åº”ç”¨è¿è¡Œå®ä¾‹ï¼Œå¯ä»¥å°†å…¶å¯åŠ¨ã€å¼€å§‹ã€åœæ­¢ã€åˆ é™¤ï¼Œè€Œè¿™äº›å®¹å™¨éƒ½æ˜¯ç›¸äº’éš”ç¦»ã€äº’ä¸å¯è§çš„ã€‚</p><p>é•œåƒä½¿ç”¨çš„æ˜¯åˆ†å±‚å­˜å‚¨ï¼Œå®¹å™¨ä¹Ÿæ˜¯å¦‚æ­¤ã€‚æ¯ä¸€ä¸ªå®¹å™¨è¿è¡Œæ—¶ï¼Œæ˜¯ä»¥é•œåƒä¸ºåŸºç¡€å±‚ï¼Œåœ¨å…¶ä¸Šåˆ›å»ºä¸€ä¸ªå½“å‰å®¹å™¨çš„å­˜å‚¨å±‚ï¼Œå®¹å™¨å­˜å‚¨å±‚çš„ç”Ÿå­˜å‘¨æœŸå’Œå®¹å™¨ä¸€æ ·ï¼Œå®¹å™¨æ¶ˆäº¡æ—¶ï¼Œå®¹å™¨å­˜å‚¨å±‚ä¹Ÿéšä¹‹æ¶ˆäº¡ã€‚å› æ­¤ï¼Œä»»ä½•ä¿å­˜äºå®¹å™¨å­˜å‚¨å±‚çš„ä¿¡æ¯éƒ½ä¼šéšå®¹å™¨åˆ é™¤è€Œä¸¢å¤±ã€‚</p><p>æ•°æ®å·çš„ç”Ÿå­˜å‘¨æœŸç‹¬ç«‹äºå®¹å™¨ï¼Œå®¹å™¨æ¶ˆäº¡ï¼Œæ•°æ®å·ä¸ä¼šæ¶ˆäº¡ã€‚å› æ­¤ï¼Œä½¿ç”¨æ•°æ®å·åï¼Œå®¹å™¨åˆ é™¤æˆ–è€…é‡æ–°è¿è¡Œä¹‹åï¼Œæ•°æ®å´ä¸ä¼šä¸¢å¤±ã€‚</p><a id="more"></a><h4 id="è¿è¡Œå®¹å™¨"><a href="#è¿è¡Œå®¹å™¨" class="headerlink" title="è¿è¡Œå®¹å™¨"></a>è¿è¡Œå®¹å™¨</h4><p>ä½¿ç”¨ <strong>docker run</strong> å‘½ä»¤æ¥è¿è¡Œä¸€ä¸ªå®¹å™¨<br>æ ¼å¼ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker run [OPTIONS] IMAGE [COMMAND] [ARG...] [flags]</span><br></pre></td></tr></table></figure><p>OPTIONSè¯´æ˜ï¼š</p><p>ç”±äº <strong>docker run</strong> å‘½ä»¤ OPTIONS æ¯”è¾ƒå¤šï¼Œè¿™é‡Œåªé€‰æ‹©å¤§å®¶å¸¸ç”¨çš„å‡ ä¸ªé€‰é¡¹æ¥è¯´æ˜</p><pre><code>-i, --interactive=false       æ‰“å¼€STDINï¼Œç”¨äºæ§åˆ¶å°äº¤äº’-t, --tty                     åˆ†é…ä¸€ä¸ªä¼ªç»ˆç«¯ï¼ˆpseudo-ttyï¼‰å¹¶ç»‘å®šåˆ°å®¹å™¨çš„æ ‡å‡†è¾“å…¥ä¸Š-d, --detach=false            æŒ‡å®šå®¹å™¨è¿è¡Œäºå‰å°è¿˜æ˜¯åå°ï¼Œé»˜è®¤ä¸ºfalse-p, --publish list            æŒ‡å®šä¸»æœºçš„ç«¯å£å’Œå®¹å™¨ç«¯å£çš„æ˜ å°„-P, --publish-all             ä½¿ç”¨å®¹å™¨å†…éšæœºä¸€ä¸ªç½‘ç»œç«¯å£æ˜ å°„åˆ°æˆ‘ä»¬ä½¿ç”¨çš„ä¸»æœºä¸Š-v, --volume list             ç»™å®¹å™¨æŒ‚è½½å­˜å‚¨å·ï¼ŒæŒ‚è½½åˆ°å®¹å™¨çš„æŸä¸ªç›®å½•-m, --memory                  æŒ‡å®šå®¹å™¨çš„å†…å­˜ä¸Šé™--link list                   æŒ‡å®šå®¹å™¨é—´çš„å…³è”ï¼Œä½¿ç”¨å…¶ä»–å®¹å™¨çš„IPã€envç­‰ä¿¡æ¯-e, --env list                è®¾ç½®ç¯å¢ƒå˜é‡--restart string              æŒ‡å®šå®¹å™¨çš„é‡å¯ç­–ç•¥  </code></pre><p>ç¤ºä¾‹ï¼š</p><p>åå°è¿è¡Œä¸€ä¸ªnginx</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker run --name mynginx -p 8088:80 -v <span class="variable">$PWD</span>/nginx/www:/www -v <span class="variable">$PWD</span>/nginx/logs:/wwwlogs -d  nginx</span><br></pre></td></tr></table></figure><h4 id="æŸ¥çœ‹è¿è¡Œçš„å®¹å™¨"><a href="#æŸ¥çœ‹è¿è¡Œçš„å®¹å™¨" class="headerlink" title="æŸ¥çœ‹è¿è¡Œçš„å®¹å™¨"></a>æŸ¥çœ‹è¿è¡Œçš„å®¹å™¨</h4><ul><li>æŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„å®¹å™¨</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ docker ps</span><br><span class="line">CONTAINER ID        IMAGE               COMMAND                  CREATED                  STATUS              PORTS                  NAMES</span><br><span class="line">76ea0a1383d4        nginx               &quot;nginx -g &apos;daemon ofâ€¦&quot;   Less than a second ago   Up 3 seconds        0.0.0.0:8088-&gt;80/tcp   mynginx</span><br></pre></td></tr></table></figure><ul><li>æŸ¥çœ‹æ‰€æœ‰å®¹å™¨ï¼ˆåŒ…å«æ­£åœ¨è¿è¡Œå’Œé€€å‡ºçš„å®¹å™¨ï¼‰</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ docker ps -a</span><br><span class="line">CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS                     PORTS               NAMES</span><br><span class="line">76ea0a1383d4        nginx               <span class="string">"nginx -g 'daemon ofâ€¦"</span>   3 minutes ago       Exited (0) 2 seconds ago                       mynginx</span><br></pre></td></tr></table></figure><ul><li>æŸ¥çœ‹å®¹å™¨çš„è¯¦ç»†ä¿¡æ¯</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ dokcer inspect mygnix</span><br></pre></td></tr></table></figure><h4 id="è¿›å…¥å®¹å™¨"><a href="#è¿›å…¥å®¹å™¨" class="headerlink" title="è¿›å…¥å®¹å™¨"></a>è¿›å…¥å®¹å™¨</h4><p>ä½¿ç”¨ <strong>docker exec</strong> å‘½ä»¤è¿›å…¥å®¹å™¨<br>æ ¼å¼ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker <span class="built_in">exec</span> [OPTIONS] CONTAINER COMMAND [ARG...]</span><br></pre></td></tr></table></figure><p>OPTIONSè¯´æ˜ï¼š</p><pre><code>-d, --detach          åˆ†ç¦»æ¨¡å¼: åœ¨åå°è¿è¡Œ-i, --interactive     å³ä½¿æ²¡æœ‰é™„åŠ ä¹Ÿä¿æŒSTDIN æ‰“å¼€-t, --tty             åˆ†é…ä¸€ä¸ªä¼ªç»ˆç«¯-e, --env list        è®¾ç½®ç¯å¢ƒå˜é‡</code></pre><p>ç¤ºä¾‹ï¼š</p><p>ä»¥äº¤äº’æ¨¡å¼è¿›å…¥å®¹å™¨</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ docker <span class="built_in">exec</span> -it mynginx /bin/bash</span><br><span class="line">root@76ea0a1383d4:/<span class="comment">#</span></span><br></pre></td></tr></table></figure><h4 id="åœæ­¢å’Œé‡å¯å®¹å™¨"><a href="#åœæ­¢å’Œé‡å¯å®¹å™¨" class="headerlink" title="åœæ­¢å’Œé‡å¯å®¹å™¨"></a>åœæ­¢å’Œé‡å¯å®¹å™¨</h4><p>å¦‚æœæ˜¯äº¤äº’å¼è¿è¡Œçš„ä¸€ä¸ªå®¹å™¨ï¼Œå¯ä»¥é€šè¿‡exitå‘½ä»¤å’ŒCtrl+dæ¥é€€å‡ºç»ˆç«¯ï¼Œè¿™æ ·å®¹å™¨ä¼šç«‹åˆ»ç»ˆæ­¢</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># exit ç›´æ¥é€€å‡ºï¼Œå®¹å™¨ç»ˆæ­¢ï¼›æˆ–è€…å¿«æ·é”®Ctrl+d </span></span><br><span class="line">$ docer run -it centos /bin/bash</span><br><span class="line">[root@f7b52eb5ab02 /]<span class="comment"># exit</span></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ <strong>docker stop</strong> å‘½ä»¤æ¥åœæ­¢æ­£åœ¨è¿è¡Œçš„å®¹å™¨<br>æ ¼å¼ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker stop [OPTIONS] CONTAINER [CONTAINER...]</span><br></pre></td></tr></table></figure><p>ç¤ºä¾‹ï¼š</p><p>æŒ‡å®šå®¹å™¨åç§°åœæ­¢æ­£åœ¨è¿è¡Œçš„å¤šä¸ªå®¹å™¨</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker stop mynginx myredis</span><br></pre></td></tr></table></figure><p>é‡æ–°å¯åŠ¨å®¹å™¨</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¯åŠ¨ç»ˆæ­¢çš„å®¹å™¨</span></span><br><span class="line">$ docker start mynginx</span><br><span class="line"></span><br><span class="line"><span class="comment"># å°†ä¸€ä¸ªè¿è¡Œæ€çš„å®¹å™¨ç»ˆæ­¢ï¼Œç„¶åå†é‡æ–°å¯åŠ¨å®ƒ</span></span><br><span class="line">$ docker restart myredis</span><br></pre></td></tr></table></figure><h4 id="åˆ é™¤å®¹å™¨"><a href="#åˆ é™¤å®¹å™¨" class="headerlink" title="åˆ é™¤å®¹å™¨"></a>åˆ é™¤å®¹å™¨</h4><p>ä½¿ç”¨ <strong>docker rm</strong> å‘½ä»¤åˆ é™¤ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨<br>æ ¼å¼ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker rm [OPTIONS] CONTAINER [CONTAINER...]</span><br></pre></td></tr></table></figure><p>OPTIONSè¯´æ˜ï¼š</p><pre><code>-f, --force     å¼ºåˆ¶åˆ é™¤-l, --link      ç§»é™¤å®¹å™¨é—´çš„ç½‘ç»œè¿æ¥ï¼Œè€Œéå®¹å™¨æœ¬èº«-v, --volumes   åˆ é™¤ä¸å®¹å™¨å…³è”çš„å·</code></pre><p>ç¤ºä¾‹ï¼š</p><p>å¼ºåˆ¶åˆ é™¤å®¹å™¨mynginx</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker rm -f mynginx</span><br></pre></td></tr></table></figure><p>åˆ é™¤mygninxï¼Œå¹¶åˆ é™¤å®¹å™¨æŒ‚è½½çš„æ•°æ®å·</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker rm -v  mynginx</span><br></pre></td></tr></table></figure><p>å¼ºåˆ¶åˆ é™¤æ‰€æœ‰çš„å®¹å™¨</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker rm -f $(docker ps -aq)</span><br></pre></td></tr></table></figure><blockquote><p>åˆ é™¤å®¹å™¨ä½¿ç”¨ <strong>docker rm</strong> å‘½ä»¤ è€Œ åˆ é™¤å®¹å™¨ä½¿ç”¨ <strong>docker rmi</strong> å‘½ä»¤ï¼Œæ³¨æ„ä¸¤è€…åŒºåˆ«</p></blockquote><h4 id="å¯¼å‡ºå®¹å™¨"><a href="#å¯¼å‡ºå®¹å™¨" class="headerlink" title="å¯¼å‡ºå®¹å™¨"></a>å¯¼å‡ºå®¹å™¨</h4><p>ä½¿ç”¨å‘½ä»¤ docker export å¯¼å‡ºæœ¬åœ°æŸä¸ªå®¹å™¨</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹å®¹å™¨åˆ—è¡¨</span></span><br><span class="line">$ docker ps -a</span><br><span class="line">CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS                    PORTS                  NAMES</span><br><span class="line">f7b52eb5ab02        centos              <span class="string">"/bin/bash"</span>              18 hours ago        Exited (0) 18 hours ago                          heuristic_edison</span><br><span class="line">06a6eb00f8bc        centos              <span class="string">"/bin/bash"</span>              18 hours ago        Up 18 hours                                      stupefied_euler</span><br><span class="line">76ea0a1383d4        nginx               <span class="string">"nginx -g 'daemon ofâ€¦"</span>   19 hours ago        Up 19 hours               0.0.0.0:8088-&gt;80/tcp   mynginx</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯¼å‡ºå®¹å™¨å¿«ç…§,åˆ°æœ¬åœ°æ–‡ä»¶</span></span><br><span class="line">$ docker  <span class="built_in">export</span> 76ea0a1383d4 &gt; mynginx.tar.gz</span><br></pre></td></tr></table></figure><h4 id="å¯¼å…¥å®¹å™¨"><a href="#å¯¼å…¥å®¹å™¨" class="headerlink" title="å¯¼å…¥å®¹å™¨"></a>å¯¼å…¥å®¹å™¨</h4><p>ä½¿ç”¨å‘½ä»¤ docker import ä»å¿«ç…§æ–‡ä»¶ä¸­å¯¼å…¥ä¸ºé•œåƒ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat mynginx.tar.gz | docker import - sqgulj/nginx:2.0</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;ä»‹ç»&quot;&gt;&lt;a href=&quot;#ä»‹ç»&quot; class=&quot;headerlink&quot; title=&quot;ä»‹ç»&quot;&gt;&lt;/a&gt;ä»‹ç»&lt;/h4&gt;&lt;p&gt;Docker å®¹å™¨æ˜¯ç”¨äºè¿è¡Œé•œåƒçš„æ²™ç®±ç¯å¢ƒï¼Œå®ƒæ˜¯ Docker é•œåƒçš„è¿è¡Œå®ä¾‹ï¼›å®¹å™¨éƒ½æ˜¯ç›¸äº’éš”ç¦»ã€äº’ä¸å¯è§çš„ï¼Œæˆ‘ä»¬å¯ä»¥ç†è§£ä¸ºï¼šé•œåƒæ˜¯Dockerç”Ÿå‘½å‘¨æœŸçš„æ‰“åŒ…å’Œæ„å»ºé˜¶æ®µï¼Œè€Œå®¹å™¨æ˜¯Dockerçš„å¯åŠ¨å’Œæ‰§è¡Œé˜¶æ®µã€‚&lt;/p&gt;
&lt;p&gt;å®¹å™¨æ˜¯ä»é•œåƒåˆ›å»ºçš„åº”ç”¨è¿è¡Œå®ä¾‹ï¼Œå¯ä»¥å°†å…¶å¯åŠ¨ã€å¼€å§‹ã€åœæ­¢ã€åˆ é™¤ï¼Œè€Œè¿™äº›å®¹å™¨éƒ½æ˜¯ç›¸äº’éš”ç¦»ã€äº’ä¸å¯è§çš„ã€‚&lt;/p&gt;
&lt;p&gt;é•œåƒä½¿ç”¨çš„æ˜¯åˆ†å±‚å­˜å‚¨ï¼Œå®¹å™¨ä¹Ÿæ˜¯å¦‚æ­¤ã€‚æ¯ä¸€ä¸ªå®¹å™¨è¿è¡Œæ—¶ï¼Œæ˜¯ä»¥é•œåƒä¸ºåŸºç¡€å±‚ï¼Œåœ¨å…¶ä¸Šåˆ›å»ºä¸€ä¸ªå½“å‰å®¹å™¨çš„å­˜å‚¨å±‚ï¼Œå®¹å™¨å­˜å‚¨å±‚çš„ç”Ÿå­˜å‘¨æœŸå’Œå®¹å™¨ä¸€æ ·ï¼Œå®¹å™¨æ¶ˆäº¡æ—¶ï¼Œå®¹å™¨å­˜å‚¨å±‚ä¹Ÿéšä¹‹æ¶ˆäº¡ã€‚å› æ­¤ï¼Œä»»ä½•ä¿å­˜äºå®¹å™¨å­˜å‚¨å±‚çš„ä¿¡æ¯éƒ½ä¼šéšå®¹å™¨åˆ é™¤è€Œä¸¢å¤±ã€‚&lt;/p&gt;
&lt;p&gt;æ•°æ®å·çš„ç”Ÿå­˜å‘¨æœŸç‹¬ç«‹äºå®¹å™¨ï¼Œå®¹å™¨æ¶ˆäº¡ï¼Œæ•°æ®å·ä¸ä¼šæ¶ˆäº¡ã€‚å› æ­¤ï¼Œä½¿ç”¨æ•°æ®å·åï¼Œå®¹å™¨åˆ é™¤æˆ–è€…é‡æ–°è¿è¡Œä¹‹åï¼Œæ•°æ®å´ä¸ä¼šä¸¢å¤±ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="è¿ç»´" scheme="http://www.gulj.cn/categories/%E8%BF%90%E7%BB%B4/"/>
    
    
      <category term="docker" scheme="http://www.gulj.cn/tags/docker/"/>
    
  </entry>
  
  <entry>
    <title>ã€Dockeræ•™ç¨‹ã€‘Docker é•œåƒå‘å¸ƒ</title>
    <link href="http://www.gulj.cn/2018/03/28/docker-%E9%95%9C%E5%83%8F%E5%8F%91%E5%B8%83/"/>
    <id>http://www.gulj.cn/2018/03/28/docker-é•œåƒå‘å¸ƒ/</id>
    <published>2018-03-28T05:37:58.000Z</published>
    <updated>2019-02-14T07:07:12.865Z</updated>
    
    <content type="html"><![CDATA[<h4 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h4><p>å¦‚æœæˆ‘ä»¬è‡ªå·±åœ¨æœ¬åœ°åˆ¶ä½œä¸€ä¸ªé•œåƒï¼Œæƒ³æä¾›ç»™ä»–äººä½¿ç”¨æˆ–è€…ä½œä¸ºè‡ªå·±çš„æ—¥å¸¸å­¦ä¹ ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥æŠŠæˆ‘ä»¬åˆ¶ä½œçš„é•œåƒå‘å¸ƒåˆ°<a href="https://hub.docker.com/" target="_blank" rel="noopener">DockerHub</a>ä¸Šï¼Œè¿™æ ·ä¸ç®¡æ˜¯å…¶å®ƒäººè¿˜æ˜¯æˆ‘ä»¬è‡ªå·±å°±å¯ä»¥ç›´æ¥ä½¿ç”¨ <strong>docker pull</strong> å‘½ä»¤è·å–åˆ°æˆ‘ä»¬å‘å¸ƒçš„é•œåƒï¼Œè¿™æ ·æˆ‘ä»¬å†ä¹Ÿä¸ç”¨æ‹…å¿ƒä¸€ä¸å°å¿ƒæŠŠæœ¬åœ°é•œåƒåˆ é™¤äº†ï¼›<br>å½“ç„¶å‘å¸ƒåˆ°<a href="https://hub.docker.com/" target="_blank" rel="noopener">DockerHub</a>ä¸Šçš„é•œåƒæ˜¯å…¬å¼€çš„ï¼Œæ¯ä¸ªäººéƒ½èƒ½è·å–ï¼Œå¦‚æœæˆ‘ä»¬å¸Œæœ›æˆ‘ä»¬å‘å¸ƒçš„é•œåƒæ˜¯ç§æœ‰çš„åªæœ‰æˆ‘ä»¬è‡ªå·±å¯ä»¥çœ‹è§ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨å®˜æ–¹æä¾›çš„<a href="">registry</a>é•œåƒæ¥æ­å»ºè‡ªå·±ç§æœ‰çš„é•œåƒä»“åº“,å½“ç„¶æˆ‘ä»¬ä¹Ÿè¿˜å¯ä»¥ä½¿ç”¨<a href="https://github.com/vmware/harbor" target="_blank" rel="noopener">Harbor</a>æ¥æ­å»ºä¼ä¸šçº§ç§æœ‰ä»“åº“æœåŠ¡å™¨</p><a id="more"></a><h4 id="é•œåƒå‘å¸ƒåˆ°-DockerHub"><a href="#é•œåƒå‘å¸ƒåˆ°-DockerHub" class="headerlink" title="é•œåƒå‘å¸ƒåˆ° DockerHub"></a>é•œåƒå‘å¸ƒåˆ° <a href="https://hub.docker.com/" target="_blank" rel="noopener">DockerHub</a></h4><p>é•œåƒå‘å¸ƒåˆ° <a href="https://hub.docker.com/" target="_blank" rel="noopener">DockerHub</a>ï¼Œé¦–å…ˆæˆ‘ä»¬éœ€è¦æ³¨å†Œ <a href="https://hub.docker.com/" target="_blank" rel="noopener">DockerHub</a> è´¦å·ï¼Œå‡è®¾ç°åœ¨å¤§å®¶éƒ½æœ‰äº†<a href="https://hub.docker.com/" target="_blank" rel="noopener">DokcerHub</a>çš„è´¦å·ï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥æˆ‘ä»¬åœ¨æœ¬åœ°åˆ¶ä½œä¸€ä¸ªè‡ªå·±çš„é•œåƒ</p><p>åˆ›å»ºä¸€ä¸ªgetipç›®å½•ï¼Œè¿›å…¥åˆ°getipç›®å½•ï¼Œç¼–å†™Dockerfile</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ mkdir getip</span><br><span class="line"></span><br><span class="line">$ <span class="built_in">cd</span> getip </span><br><span class="line"></span><br><span class="line">$ vim Dockerfile</span><br></pre></td></tr></table></figure><p>Dokcerfileæ–‡ä»¶ä¸­å†…å®¹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">FROM ubuntu:16.04</span><br><span class="line"></span><br><span class="line">RUN apt-get update \</span><br><span class="line">    &amp;&amp; apt-get install -y curl \</span><br><span class="line">    &amp;&amp; rm -rf /var/lib/apt/lists/*</span><br><span class="line"></span><br><span class="line">ENTRYPOINT [<span class="string">"curl"</span>,<span class="string">"-s"</span>,<span class="string">"http://ip.cn"</span>]</span><br></pre></td></tr></table></figure><p>åœ¨getipç›®å½•æ‰§è¡Œ <strong>docker build</strong> å‘½ä»¤æ„å»ºé•œåƒ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ„å»ºé•œåƒ(æ³¨æ„ä»“åº“åå¿…é¡»æ˜¯ä½ æ³¨å†Œçš„ dockerhub çš„ç”¨æˆ·å)</span></span><br><span class="line">docker build -t sqgulj/get-ip:1.0 .</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹æ„å»ºçš„é•œåƒ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ docker images;</span><br><span class="line">REPOSITORY                                                        TAG                 IMAGE ID            CREATED             SIZE</span><br><span class="line">sqgulj/get-ip                                                     1.0                 e381e0c1b380        3 hours ago         129MB</span><br></pre></td></tr></table></figure><p>åœ¨ç»ˆç«¯ä½¿ç”¨ <strong>docker login</strong> å‘½ä»¤ï¼Œè¾“å…¥è‡ªå·±çš„<a href="https://hub.docker.com/" target="_blank" rel="noopener">DockerHub</a>è´¦å·ä¿¡æ¯è¿›è¡Œç™»å½•</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker login</span><br><span class="line">Login with your Docker ID to push and pull images from Docker Hub. If you don<span class="string">'t have a Docker ID, head over to https://hub.docker.com to create one.</span></span><br><span class="line"><span class="string">Username (sqgulj):</span></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ <strong>docker push</strong> å‘½ä»¤æŠŠæˆ‘åˆšåˆ¶ä½œçš„é•œåƒæ¨é€åˆ°<a href="https://hub.docker.com/" target="_blank" rel="noopener">DockerHub</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ docker push sqgulj/get-ip</span><br><span class="line">The push refers to repository [docker.io/sqgulj/get-ip]</span><br><span class="line">83dc3de4596c: Pushed</span><br><span class="line">db584c622b50: Mounted from library/ubuntu</span><br><span class="line">52a7ea2bb533: Mounted from library/ubuntu</span><br><span class="line">52f389ea437e: Mounted from library/ubuntu</span><br><span class="line">88888b9b1b5b: Mounted from library/ubuntu</span><br><span class="line">a94e0d5a7c40: Mounted from library/ubuntu</span><br><span class="line">1.0: digest: sha256:1a3fa4e93464054c2f8050d6f846cccbe943c5e9f6d67f98f2013a32652f3f0b size: 1568</span><br></pre></td></tr></table></figure><p>æµè§ˆå™¨ç™»å½•åˆ°<a href="https://hub.docker.com/" target="_blank" rel="noopener">DockerHub</a>æŸ¥çœ‹æˆ‘ä»¬æ¨é€çš„é•œåƒ</p><p><img src="http://p6nkwri76.bkt.clouddn.com/15222955810093.jpg" alt=""></p>]]></content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;ä»‹ç»&quot;&gt;&lt;a href=&quot;#ä»‹ç»&quot; class=&quot;headerlink&quot; title=&quot;ä»‹ç»&quot;&gt;&lt;/a&gt;ä»‹ç»&lt;/h4&gt;&lt;p&gt;å¦‚æœæˆ‘ä»¬è‡ªå·±åœ¨æœ¬åœ°åˆ¶ä½œä¸€ä¸ªé•œåƒï¼Œæƒ³æä¾›ç»™ä»–äººä½¿ç”¨æˆ–è€…ä½œä¸ºè‡ªå·±çš„æ—¥å¸¸å­¦ä¹ ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥æŠŠæˆ‘ä»¬åˆ¶ä½œçš„é•œåƒå‘å¸ƒåˆ°&lt;a href=&quot;https://hub.docker.com/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;DockerHub&lt;/a&gt;ä¸Šï¼Œè¿™æ ·ä¸ç®¡æ˜¯å…¶å®ƒäººè¿˜æ˜¯æˆ‘ä»¬è‡ªå·±å°±å¯ä»¥ç›´æ¥ä½¿ç”¨ &lt;strong&gt;docker pull&lt;/strong&gt; å‘½ä»¤è·å–åˆ°æˆ‘ä»¬å‘å¸ƒçš„é•œåƒï¼Œè¿™æ ·æˆ‘ä»¬å†ä¹Ÿä¸ç”¨æ‹…å¿ƒä¸€ä¸å°å¿ƒæŠŠæœ¬åœ°é•œåƒåˆ é™¤äº†ï¼›&lt;br&gt;å½“ç„¶å‘å¸ƒåˆ°&lt;a href=&quot;https://hub.docker.com/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;DockerHub&lt;/a&gt;ä¸Šçš„é•œåƒæ˜¯å…¬å¼€çš„ï¼Œæ¯ä¸ªäººéƒ½èƒ½è·å–ï¼Œå¦‚æœæˆ‘ä»¬å¸Œæœ›æˆ‘ä»¬å‘å¸ƒçš„é•œåƒæ˜¯ç§æœ‰çš„åªæœ‰æˆ‘ä»¬è‡ªå·±å¯ä»¥çœ‹è§ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨å®˜æ–¹æä¾›çš„&lt;a href=&quot;&quot;&gt;registry&lt;/a&gt;é•œåƒæ¥æ­å»ºè‡ªå·±ç§æœ‰çš„é•œåƒä»“åº“,å½“ç„¶æˆ‘ä»¬ä¹Ÿè¿˜å¯ä»¥ä½¿ç”¨&lt;a href=&quot;https://github.com/vmware/harbor&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Harbor&lt;/a&gt;æ¥æ­å»ºä¼ä¸šçº§ç§æœ‰ä»“åº“æœåŠ¡å™¨&lt;/p&gt;
    
    </summary>
    
      <category term="è¿ç»´" scheme="http://www.gulj.cn/categories/%E8%BF%90%E7%BB%B4/"/>
    
    
      <category term="docker" scheme="http://www.gulj.cn/tags/docker/"/>
    
  </entry>
  
  <entry>
    <title>ã€Dockeræ•™ç¨‹ã€‘Docker é•œåƒåŠ é€Ÿå™¨</title>
    <link href="http://www.gulj.cn/2018/03/27/docker-%E9%95%9C%E5%83%8F%E5%8A%A0%E9%80%9F%E5%99%A8/"/>
    <id>http://www.gulj.cn/2018/03/27/docker-é•œåƒåŠ é€Ÿå™¨/</id>
    <published>2018-03-27T14:29:18.000Z</published>
    <updated>2019-02-14T07:07:12.864Z</updated>
    
    <content type="html"><![CDATA[<h4 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h4><p>ç”±äºå›½å†…è®¿é—®å®˜æ–¹ï¼ˆ<strong>DockerHub</strong>ï¼‰çš„é•œåƒæ¯”è¾ƒæ…¢ï¼Œå¯ä»¥ä½¿ç”¨é˜¿é‡Œäº‘å’ŒDaoCloudä¸ºæˆ‘ä»¬æä¾›çš„é•œåƒ</p><ul><li><p><a href="https://cr.console.aliyun.com/#/accelerator" target="_blank" rel="noopener">é˜¿é‡Œäº‘é•œåƒåŠ é€Ÿå™¨åœ°å€</a></p></li><li><p><a href="https://www.daocloud.io/mirror#accelerator-doc" target="_blank" rel="noopener">DaoCloud é•œåƒåŠ é€Ÿå™¨åœ°å€</a></p></li></ul><p>æœ¬æ–‡ç¬”è€…ä¼šåˆ†åˆ«ä»‹ç»MacOså¹³å°å’ŒCentos7å¹³å°ä¸‹é…ç½®è¿™ä¸¤ç§çš„é•œåƒåŠ é€Ÿå™¨åœ°å€</p><a id="more"></a><h4 id="MacOS-å¹³å°"><a href="#MacOS-å¹³å°" class="headerlink" title="MacOS å¹³å°"></a>MacOS å¹³å°</h4><h5 id="é…ç½®é˜¿é‡Œäº‘DockeråŠ é€Ÿå™¨"><a href="#é…ç½®é˜¿é‡Œäº‘DockeråŠ é€Ÿå™¨" class="headerlink" title="é…ç½®é˜¿é‡Œäº‘DockeråŠ é€Ÿå™¨"></a>é…ç½®é˜¿é‡Œäº‘DockeråŠ é€Ÿå™¨</h5><ul><li>ç™»å½•é˜¿é‡Œäº‘æ§åˆ¶å°ï¼ˆ<a href="https://dev.aliyun.com/search.html" target="_blank" rel="noopener">éœ€è¦æ³¨å†Œé˜¿é‡Œäº‘å¼€å‘è€…å¹³å°è´¦å·</a>ï¼‰ï¼Œè®¿é—®åœ°å€ï¼š<a href="https://cr.console.aliyun.com/#/accelerator" target="_blank" rel="noopener">https://cr.console.aliyun.com/#/accelerator</a>  å¯æŸ¥çœ‹è‡ªå·±ä¸“æœ‰çš„é•œåƒåº“åŠ é€Ÿå™¨åœ°å€</li></ul><p>ä¸‹å›¾å±•ç¤ºçš„æ˜¯ç¬”è€…çš„é˜¿é‡Œäº‘é•œåƒåŠ é€Ÿå™¨ç•Œé¢</p><p><img src="/images/15221416939253.jpg" alt=""></p><ul><li>å³é”®ç‚¹å‡»æ¡Œé¢é¡¶æ çš„ <strong>docker</strong> å›¾æ ‡ Perferencesâ€¦ -&gt; <strong>Daemon</strong> -&gt; <strong>Registry mirrors</strong>ï¼Œæ·»åŠ ä»£ç†åœ°å€ï¼Œè®°å¾—ç‚¹å‡» Apply &amp; Restart æŒ‰é’®ä½¿è®¾ç½®ç”Ÿæ•ˆã€‚</li></ul><p><img src="/images/15221424183672.jpg" alt=""></p><blockquote><p>å‡ºç°çš„ â€œregistry-mirrorsâ€ : No certs for 6wnqhom.mirror.aliyuncs.comâ€¦ è­¦å‘Šå¯ä»¥å¿½ç•¥ã€‚</p></blockquote><h5 id="é…ç½®DaoCloudçš„DockeråŠ é€Ÿå™¨"><a href="#é…ç½®DaoCloudçš„DockeråŠ é€Ÿå™¨" class="headerlink" title="é…ç½®DaoCloudçš„DockeråŠ é€Ÿå™¨"></a>é…ç½®DaoCloudçš„DockeråŠ é€Ÿå™¨</h5><ul><li>æ‰“å¼€åœ°å€ï¼š<a href="https://www.daocloud.io/mirror#accelerator-doc" target="_blank" rel="noopener">https://www.daocloud.io/mirror#accelerator-doc</a> å¯ä»¥ä½¿ç”¨githubè´¦å·ç™»å½•æˆ–è€…å¾®ä¿¡</li></ul><p><img src="/images/15221435301606.jpg" alt=""></p><ul><li>æ·»åŠ DaoCloudçš„dokceré•œåƒä»£ç†åœ°å€å’Œæ·»åŠ é˜¿é‡Œäº‘Dockerä»£ç†åœ°å€æ–¹æ³•ä¸€æ ·ï¼Œè¯»è€…å¯ä»¥å‚è€ƒä¸Šé¢æ·»åŠ çš„é˜¿é‡Œäº‘dockeråŠ é€Ÿå™¨ä»£ç†åœ°å€</li></ul><h4 id="Centos7-å¹³å°"><a href="#Centos7-å¹³å°" class="headerlink" title="Centos7 å¹³å°"></a>Centos7 å¹³å°</h4><h5 id="é…ç½®é˜¿é‡Œäº‘DockeråŠ é€Ÿå™¨-1"><a href="#é…ç½®é˜¿é‡Œäº‘DockeråŠ é€Ÿå™¨-1" class="headerlink" title="é…ç½®é˜¿é‡Œäº‘DockeråŠ é€Ÿå™¨"></a>é…ç½®é˜¿é‡Œäº‘DockeråŠ é€Ÿå™¨</h5><p>é€šè¿‡ä¸Šé¢æˆ‘ä»¬å·²ç»çŸ¥é“äº†å¦‚ä½•è·å–è‡ªå·±çš„çš„é˜¿é‡Œäº‘dockeré•œåƒä»£ç†åœ°å€</p><ul><li>ä¿®æ”¹daemoné…ç½®æ–‡ä»¶/etc/docker/daemon.jsonæ¥ä½¿ç”¨åŠ é€Ÿå™¨ï¼š</li></ul><p>åˆ†åˆ«æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œè®°å¾—æŠŠåŠ é€Ÿå™¨çš„åœ°å€ï¼Œæ”¹æˆè‡ªå·±çš„åŠ é€Ÿå™¨åœ°å€ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">sudo mkdir -p /etc/docker</span><br><span class="line"></span><br><span class="line">sudo tee /etc/docker/daemon.json &lt;&lt;-<span class="string">'EOF'</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">"registry-mirrors"</span>: [<span class="string">"https://XXXXX.mirror.aliyuncs.com"</span>]</span><br><span class="line">&#125;</span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line">sudo systemctl daemon-reload</span><br><span class="line"></span><br><span class="line">sudo systemctl restart docker</span><br></pre></td></tr></table></figure><blockquote><p>é’ˆå¯¹Dockerå®¢æˆ·ç«¯ç‰ˆæœ¬å¤§äº1.10.0çš„ç”¨æˆ·</p></blockquote><h4 id="æ£€æŸ¥åŠ é€Ÿå™¨æ˜¯å¦ç”Ÿæ•ˆ"><a href="#æ£€æŸ¥åŠ é€Ÿå™¨æ˜¯å¦ç”Ÿæ•ˆ" class="headerlink" title="æ£€æŸ¥åŠ é€Ÿå™¨æ˜¯å¦ç”Ÿæ•ˆ"></a>æ£€æŸ¥åŠ é€Ÿå™¨æ˜¯å¦ç”Ÿæ•ˆ</h4><ul><li><p>Linuxç³»ç»Ÿä¸‹é…ç½®å®ŒåŠ é€Ÿå™¨éœ€è¦æ£€æŸ¥æ˜¯å¦ç”Ÿæ•ˆï¼Œåœ¨å‘½ä»¤è¡Œæ‰§è¡Œ <strong>ps -ef | grep dockerd</strong>ï¼Œå¦‚æœä»ç»“æœä¸­çœ‹åˆ°äº†é…ç½®çš„ â€“registry-mirror å‚æ•°è¯´æ˜é…ç½®æˆåŠŸ</p></li><li><p>å¦‚æœDockerç‰ˆæœ¬å¤§äº1.13æˆ–17.05.0-ce</p></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ sudo docker info|grep <span class="string">"Registry Mirrors"</span> -A 1</span><br><span class="line">Registry Mirrors:</span><br><span class="line"> https://16wnqhom.mirror.aliyuncs.com/</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;ä»‹ç»&quot;&gt;&lt;a href=&quot;#ä»‹ç»&quot; class=&quot;headerlink&quot; title=&quot;ä»‹ç»&quot;&gt;&lt;/a&gt;ä»‹ç»&lt;/h4&gt;&lt;p&gt;ç”±äºå›½å†…è®¿é—®å®˜æ–¹ï¼ˆ&lt;strong&gt;DockerHub&lt;/strong&gt;ï¼‰çš„é•œåƒæ¯”è¾ƒæ…¢ï¼Œå¯ä»¥ä½¿ç”¨é˜¿é‡Œäº‘å’ŒDaoCloudä¸ºæˆ‘ä»¬æä¾›çš„é•œåƒ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;https://cr.console.aliyun.com/#/accelerator&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;é˜¿é‡Œäº‘é•œåƒåŠ é€Ÿå™¨åœ°å€&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;https://www.daocloud.io/mirror#accelerator-doc&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;DaoCloud é•œåƒåŠ é€Ÿå™¨åœ°å€&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æœ¬æ–‡ç¬”è€…ä¼šåˆ†åˆ«ä»‹ç»MacOså¹³å°å’ŒCentos7å¹³å°ä¸‹é…ç½®è¿™ä¸¤ç§çš„é•œåƒåŠ é€Ÿå™¨åœ°å€&lt;/p&gt;
    
    </summary>
    
      <category term="è¿ç»´" scheme="http://www.gulj.cn/categories/%E8%BF%90%E7%BB%B4/"/>
    
    
      <category term="docker" scheme="http://www.gulj.cn/tags/docker/"/>
    
  </entry>
  
</feed>
